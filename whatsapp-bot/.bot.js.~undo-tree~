(undo-tree-save-format-version . 1)
"481b51e862df5a514d5fcbea0a52752e65c5f5a9"
[nil nil nil nil (27037 48052 962461 375000) 0 nil]
([nil nil ((nil rear-nonsticky nil 12456 . 12457) (nil fontified nil 12171 . 12457) (12171 . 12457) (#("    const { state, saveCreds } = await useMultiFileAuthState('auth')
    const sock = makeWASocket({ auth: state })" 0 4 (fontified t) 4 9 (face font-lock-keyword-face fontified t) 9 10 (fontified t) 10 11 (face (rainbow-delimiters-depth-2-face) fontified t) 11 29 (fontified t) 29 30 (face (rainbow-delimiters-depth-2-face) fontified t) 30 33 (fontified t) 33 38 (face font-lock-keyword-face fontified t) 38 60 (fontified t) 60 61 (face (rainbow-delimiters-depth-2-face) fontified t) 61 67 (face font-lock-string-face fontified t) 67 68 (face (rainbow-delimiters-depth-2-face) fontified t) 68 73 (fontified t) 73 78 (face font-lock-keyword-face fontified t) 78 79 (fontified t) 79 83 (face font-lock-variable-name-face fontified t) 83 98 (fontified t) 98 99 (face (rainbow-delimiters-depth-2-face) fontified t) 99 100 (face (rainbow-delimiters-depth-3-face) fontified t) 100 113 (fontified t) 113 114 (face (rainbow-delimiters-depth-3-face) fontified t) 114 115 (face (rainbow-delimiters-depth-2-face) fontified t)) . 12171) (undo-tree-id0 . -28) (undo-tree-id1 . -97) (undo-tree-id2 . -69) (undo-tree-id3 . -97) (undo-tree-id4 . -97) (undo-tree-id5 . -97) (undo-tree-id6 . -97) (undo-tree-id7 . -97) (undo-tree-id8 . -103) (undo-tree-id9 . -97) (undo-tree-id10 . -97) (undo-tree-id11 . -97) (undo-tree-id12 . -97) (undo-tree-id13 . -115) (undo-tree-id14 . -114) 12287 (t 27037 47840 336825 700000)) nil (27037 48052 962459 696000) 0 nil])
([nil nil ((#(" " 0 1 (fontified t)) . -12327)) nil (27037 48052 962423 915000) 0 nil])
([nil nil ((99 . 100) (t 27037 48052 962324 40000) 1) nil (27037 48063 390874 75000) 0 nil])
([nil nil ((nil rear-nonsticky nil 170 . 171) (nil fontified nil 100 . 171) (100 . 171)) nil (27037 48063 390869 788000) 0 nil])
([nil nil ((#("Si la persona menciona solo lupus, artritis u otra condici√≥n sin fibromialgia, pregunta honestamente: \"El Dr. Vel√°squez trabaja espec√≠ficamente fibromialgia. ¬øTiene tambi√©n ese diagn√≥stico?\" No ofrezcas la llamada si no hay fibromialgia confirmada.
" 0 249 (face font-lock-string-face fontified t)) . 5875) (undo-tree-id90 . -248) (undo-tree-id91 . -36) 5911 (t 27037 48063 391181 588000)) nil (27037 50004 106243 717000) 0 nil])
([nil nil ((#("Si escribe un familiar en lugar del paciente, ad√°ptate y recoge igual toda la informaci√≥n.
" 0 91 (face font-lock-string-face fontified t)) . 5876) (undo-tree-id89 . -90)) nil (27037 50004 106242 985000) 0 nil])
([nil nil ((#("
" 0 1 (face font-lock-string-face fontified t)) . 5875)) nil (27037 50004 106242 374000) 0 nil])
([nil nil ((5874 . 5877) (#("t" 0 1 (face font-lock-string-face fontified t)) . -5874) (undo-tree-id59 . -1) (#("n" 0 1 (face font-lock-string-face fontified t)) . -5875) (undo-tree-id60 . -1) (#("e" 0 1 (face font-lock-string-face fontified t)) . -5876) (undo-tree-id61 . -1) 5877 (5872 . 5877) (#("a" 0 1 (face font-lock-string-face fontified t)) . -5872) (undo-tree-id62 . -1) (#("n" 0 1 (face font-lock-string-face fontified t)) . -5873) (undo-tree-id63 . -1) (#("t" 0 1 (face font-lock-string-face fontified t)) . -5874) (undo-tree-id64 . -1) 5875 (5868 . 5875) (#("d" 0 1 (face font-lock-string-face fontified t)) . -5868) (undo-tree-id65 . -1) (#("e" 0 1 (face font-lock-string-face fontified t)) . -5869) (undo-tree-id66 . -1) (#("l" 0 1 (face font-lock-string-face fontified t)) . -5870) (undo-tree-id67 . -1) (#(" " 0 1 (face font-lock-string-face fontified t)) . -5871) (undo-tree-id68 . -1) (#("c" 0 1 (face font-lock-string-face fontified t)) . -5872) (undo-tree-id69 . -1) (#("u" 0 1 (face font-lock-string-face fontified t)) . -5873) (undo-tree-id70 . -1) (#("r" 0 1 (face font-lock-string-face fontified t)) . -5874) (undo-tree-id71 . -1) (#("s" 0 1 (face font-lock-string-face fontified t)) . -5875) (undo-tree-id72 . -1) 5876 (5856 . 5876) (#("C" 0 1 (face font-lock-string-face fontified t)) . -5856) (undo-tree-id73 . -1) (#("A" 0 1 (face font-lock-string-face fontified t)) . -5857) (undo-tree-id74 . -1) (#("S" 0 1 (face font-lock-string-face fontified t)) . -5858) (undo-tree-id75 . -1) (#("O" 0 1 (face font-lock-string-face fontified t)) . -5859) (undo-tree-id76 . -1) (#("S" 0 1 (face font-lock-string-face fontified t)) . -5860) (undo-tree-id77 . -1) (#(" " 0 1 (face font-lock-string-face fontified t)) . -5861) (undo-tree-id78 . -1) (#("E" 0 1 (face font-lock-string-face fontified t)) . -5862) (undo-tree-id79 . -1) (#("S" 0 1 (face font-lock-string-face fontified t)) . -5863) (undo-tree-id80 . -1) (#("P" 0 1 (face font-lock-string-face fontified t)) . -5864) (undo-tree-id81 . -1) (#("E" 0 1 (face font-lock-string-face fontified t)) . -5865) (undo-tree-id82 . -1) (#("C" 0 1 (face font-lock-string-face fontified t)) . -5866) (undo-tree-id83 . -1) (#("I" 0 1 (face font-lock-string-face fontified nil)) . -5867) (undo-tree-id84 . -1) (#("A" 0 1 (face font-lock-string-face fontified t)) . -5868) (undo-tree-id85 . -1) (#("L" 0 1 (face font-lock-string-face fontified t)) . -5869) (undo-tree-id86 . -1) (#("E" 0 1 (face font-lock-string-face fontified t)) . -5870) (undo-tree-id87 . -1) (#("S" 0 1 (face font-lock-string-face fontified t)) . -5871) (undo-tree-id88 . -1) 5872) nil (27037 50004 106240 484000) 0 nil])
([nil nil ((#("3. Responde con empat√≠a genuina basada en lo que dijeron. Si mencionan medicamentos que no funcionaron, valida esa frustraci√≥n espec√≠ficamente. No uses frases gen√©ricas.
" 0 170 (face font-lock-string-face fontified t)) . 5237) (undo-tree-id57 . -169) (undo-tree-id58 . -2) 5239) nil (27037 50004 106231 899000) 0 nil])
([nil nil ((#("
" 0 1 (face font-lock-string-face fontified t)) . 5237) (undo-tree-id56 . 1)) nil (27037 50004 106231 52000) 0 nil])
([nil nil ((5263 . 5264) (#("O" 0 1 (face font-lock-string-face fontified t)) . 5263) (5261 . 5263) (5240 . 5261)) nil (27037 50004 106230 30000) 0 nil])
([nil nil ((nil rear-nonsticky nil 14862 . 14863) (nil fontified nil 1 . 14863) (1 . 14863) (#("const { default: makeWASocket, useMultiFileAuthState, delay } = require('@whiskeysockets/baileys')
const { fetchLatestWaWebVersion } = require('@whiskeysockets/baileys')

const qrcode = require('qrcode-terminal')
const Anthropic = require('@anthropic-ai/sdk')
const fs = require('fs')
const path = require('path')

// ‚îÄ‚îÄ‚îÄ CONFIG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const DEBOUNCE_MS      = 10000
const MEMORY_DIR       = path.join(__dirname, 'memory')
const LOG_FILE         = path.join(__dirname, 'logs', 'messages.log')
const LEADS_FILE       = path.join(__dirname, 'leads.txt')
const MAX_HISTORY      = 20
const RECONNECT_DELAY  = 5000

// ‚îÄ‚îÄ‚îÄ SETUP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const secretsPath = path.join(__dirname, '..', '.secrets')
const secrets = fs.readFileSync(secretsPath, 'utf-8')
const apiKey = secrets.match(/ANTHROPIC_API_KEY=(.+)/)[1].trim()
const claude = new Anthropic({ apiKey })

if (!fs.existsSync(MEMORY_DIR)) fs.mkdirSync(MEMORY_DIR, { recursive: true })
if (!fs.existsSync(path.dirname(LOG_FILE))) fs.mkdirSync(path.dirname(LOG_FILE), { recursive: true })

// ‚îÄ‚îÄ‚îÄ LOGGING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function logMessage(sender, direction, text) {
    const timestamp = new Date().toISOString()
    const line = `[${timestamp}] [${direction}] [${sender}]: ${text}\\n`
    fs.appendFileSync(LOG_FILE, line, 'utf-8')
    console.log(line.trim())
}

// ‚îÄ‚îÄ‚îÄ LEADS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function guardarLead({ nombre, numero, tiempo_enfermedad, tratamientos, hora_preferida }) {
    const timestamp = new Date().toLocaleString('es-CO', { timeZone: 'America/Bogota' })
    const entrada = `
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Fecha:              ${timestamp}
Nombre:             ${nombre}
N√∫mero:             ${numero}
Tiempo enfermedad:  ${tiempo_enfermedad}
Tratamientos:       ${tratamientos}
Hora preferida:     ${hora_preferida}
Estado:             PENDIENTE LLAMAR
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
`
    fs.appendFileSync(LEADS_FILE, entrada, 'utf-8')
    console.log(`‚úÖ Lead guardado: ${nombre} (${numero})`)
    return `Lead guardado correctamente para ${nombre}`
}

// ‚îÄ‚îÄ‚îÄ MEMORY ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function getMemoryPath(sender) {
    return path.join(MEMORY_DIR, `${sender}.json`)
}

function loadConversation(sender) {
    const filePath = getMemoryPath(sender)
    if (fs.existsSync(filePath)) {
        return JSON.parse(fs.readFileSync(filePath, 'utf-8'))
    }
    return []
}

function saveConversation(sender, messages) {
    const trimmed = messages.slice(-MAX_HISTORY)
    fs.writeFileSync(getMemoryPath(sender), JSON.stringify(trimmed, null, 2), 'utf-8')
}

// ‚îÄ‚îÄ‚îÄ TOOL DEFINITION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const TOOLS = [
    {
        name: 'guardar_lead',
        description: 'Guarda la informaci√≥n del lead una vez que tienes su nombre, cu√°nto tiempo lleva con la enfermedad, qu√© tratamientos ha intentado y su hora preferida para la llamada. Solo llama esta herramienta una vez por conversaci√≥n, cuando tengas todos estos datos.',
        input_schema: {
            type: 'object',
            properties: {
                nombre: {
                    type: 'string',
                    description: 'Nombre del paciente o familiar'
                },
                numero: {
                    type: 'string',
                    description: 'N√∫mero de WhatsApp del contacto'
                },
                tiempo_enfermedad: {
                    type: 'string',
                    description: 'Cu√°nto tiempo lleva con fibromialgia u otra enfermedad mencionada'
                },
                tratamientos: {
                    type: 'string',
                    description: 'Qu√© tratamientos o medicamentos ha intentado'
                },
                hora_preferida: {
                    type: 'string',
                    description: 'Ma√±ana o tarde, o una hora espec√≠fica si la mencion√≥'
                }
            },
            required: ['nombre', 'numero', 'tiempo_enfermedad', 'tratamientos', 'hora_preferida']
        }
    }
]

// ‚îÄ‚îÄ‚îÄ CLAUDE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const SYSTEM_PROMPT = `
Eres Camila, la asistente virtual del Dr. Juan Diego Vel√°squez por WhatsApp. El Dr. es m√©dico especialista en medicina integrativa y acupuntura, enfocado en fibromialgia y dolor cr√≥nico.

Hablas de manera casual, c√°lida y cercana. Mensajes cortos, uno a la vez. Nada de listas ni men√∫s. Haz preguntas abiertas y deja que la persona cuente su historia con sus propias palabras.

Nunca menciones que eres una IA o un bot. Si te preguntan, di que eres la asistente del Dr. Vel√°squez.

FLUJO DE LA CONVERSACI√ìN:

1. Saluda y pregunta su nombre.
   \"Hola, soy Camila, asistente del Dr. Juan Diego Vel√°squez. ¬øCon qui√©n tengo el gusto?\"

2. Pregunta hace cu√°nto tiene la enfermedad y qu√© ha hecho para manejarla, en un solo mensaje natural.
   \"Para poder darte una mejor atenci√≥n, cu√©ntame: ¬øhace cu√°nto tienes fibromialgia y qu√© has intentado para manejar los s√≠ntomas?\"

4. Responde con empatia y ofrece la llamada.
   \"Qu√© duro llevar tanto tiempo con eso. Lo que describes es exactamente para quien hicimos el programa Renace. ¬øTe gustar√≠a hablar con nosotros por tel√©fono para contarte c√≥mo podemos ayudarte? ¬øTe queda mejor en la ma√±ana o en la tarde?\"

5. Cuando confirmen la hora, di: \"Perfecto, alguien de nuestro equipo te contacta en la [ma√±ana/tarde]. Que tengas buen d√≠a.\" y llama la herramienta guardar_lead con todos los datos.

Informacion relevante:


REGLAS:
- Sin emojis
- M√°ximo 3 l√≠neas por mensaje
- Sin listas ni men√∫s
- Sin em dashes
- Una pregunta a la vez, nunca dos seguidas
- No menciones el precio ni detalles del programa, eso es para la llamada
- Solo llama guardar_lead una vez, cuando tengas nombre, tiempo, tratamientos y hora
`

async function askClaude(sender, userMessage, retries = 3) {
    const history = loadConversation(sender)
    const isReturning = history.length > 0

    if (!isReturning) {
        history.push({
            role: 'user',
            content: `[Nota interna: esta persona podr√≠a tener una conversaci√≥n previa. Si su mensaje no parece un primer contacto, saluda brevemente y retoma natural.] ${userMessage}`
        })
    } else {
        history.push({ role: 'user', content: userMessage })
    }

    for (let attempt = 1; attempt <= retries; attempt++) {
        try {
            const response = await claude.messages.create({
                model: 'claude-sonnet-4-5',
                max_tokens: 1024,
                system: SYSTEM_PROMPT,
                tools: TOOLS,
                messages: history
            })

            // Guard: empty response
            if (!response.content || response.content.length === 0) {
                console.error('‚ùå Claude returned empty content')
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }

            // Handle tool use
            if (response.stop_reason === 'tool_use') {
                const toolUseBlock = response.content.find(b => b.type === 'tool_use')

                if (toolUseBlock && toolUseBlock.name === 'guardar_lead') {

                    // Guard: tool input is empty or missing required fields
                    const input = toolUseBlock.input
                    if (!input || !input.nombre || !input.hora_preferida) {
                        console.error('‚ùå Tool call missing required fields:', input)
                        const fallback = 'Perfecto, alguien de nuestro equipo te contacta pronto. Que tengas buen dia.'
                        history.push({ role: 'assistant', content: fallback })
                        saveConversation(sender, history)
                        return fallback
                    }

                    const leadData = { ...input, numero: sender.replace(/@s\\.whatsapp\\.net/, '') }
                    const result = guardarLead(leadData)

                    history.push({ role: 'assistant', content: response.content })
                    history.push({
                        role: 'user',
                        content: [{
                            type: 'tool_result',
                            tool_use_id: toolUseBlock.id,
                            content: result
                        }]
                    })

                    const finalResponse = await claude.messages.create({
                        model: 'claude-sonnet-4-5',
                        max_tokens: 1024,
                        system: SYSTEM_PROMPT,
                        tools: TOOLS,
                        messages: history
                    })

                    // Guard: empty final response after tool use
                    const finalText = finalResponse.content?.find(b => b.type === 'text')?.text
                    if (!finalText) {
                        console.error('‚ùå Empty final response after tool use')
                        const fallback = 'Perfecto, alguien de nuestro equipo te contacta pronto. Que tengas buen dia.'
                        history.push({ role: 'assistant', content: fallback })
                        saveConversation(sender, history)
                        return fallback
                    }

                    history.push({ role: 'assistant', content: finalText })
                    saveConversation(sender, history)
                    return finalText
                }
            }

            // Normal text response
            const reply = response.content.find(b => b.type === 'text')?.text
            if (!reply) {
                console.error('‚ùå No text block in response')
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }
            history.push({ role: 'assistant', content: reply })
            saveConversation(sender, history)
            return reply

        } catch (err) {
            console.error(`‚ùå Attempt ${attempt}/${retries} failed:`, err.message)
            if (attempt === retries) {
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }
            await delay(attempt * 2000)
        }
    }
}

// ‚îÄ‚îÄ‚îÄ BOT TOGGLE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

let botEnabled = true
const OWNER_NUMBER = '573145592704'

function handleOwnerCommand(text) {
    const cmd = text.trim().toLowerCase()
    if (cmd === '!bot off') {
        botEnabled = false
        console.log('üî¥ Bot desactivado')
        return 'Bot desactivado. Los mensajes entran pero no responde automaticamente.'
    }
    if (cmd === '!bot on') {
        botEnabled = true
        console.log('üü¢ Bot activado')
        return 'Bot activado. Respondiendo automaticamente.'
    }
    if (cmd === '!bot status') {
        return `Bot esta ${botEnabled ? 'activo üü¢' : 'inactivo üî¥'}`
    }
    return null
}

// ‚îÄ‚îÄ‚îÄ ANTI-BAN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

async function sendHumanReply(sock, sender, text) {
    const thinkDelay = Math.floor(Math.random() * 2000) + 1000
    const typeDelay  = Math.min(text.length * 30, 5000)

    await delay(thinkDelay)
    await sock.sendPresenceUpdate('composing', sender)
    await delay(typeDelay)
    await sock.sendPresenceUpdate('paused', sender)
    await sock.sendMessage(sender, { text })
}

// ‚îÄ‚îÄ‚îÄ MAIN BOT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

let isConnecting = false

async function startBot() {
    const { version } = await fetchLatestWaWebVersion()
    const { state, saveCreds } = await useMultiFileAuthState('auth')
    const sock = makeWASocket({
        auth: state,
        version,  // add this
        printQRInTerminal: true  // add this so QR shows automatically
    })

    sock.ev.on('creds.update', saveCreds)

    sock.ev.on('messaging-history.set', ({ messages }) => {
        for (const msg of messages) {
            const jid = msg.key.remoteJid
            if (!jid || jid.endsWith('@g.us')) continue

            const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
            if (!text) continue

            const role = msg.key.fromMe ? 'assistant' : 'user'
            const history = loadConversation(jid)

            const alreadyExists = history.some(h => h.content === text && h.role === role)
            if (!alreadyExists) {
                history.push({ role, content: text })
            }

            saveConversation(jid, history)
        }
        console.log('üìö History seeded from WhatsApp sync')
    })

    sock.ev.on('connection.update', ({ connection, qr, lastDisconnect }) => {
        if (qr) qrcode.generate(qr, { small: true })

        if (connection === 'open') {
            isConnecting = false
            console.log('‚úÖ Bot connected!')
        }

        if (connection === 'close') {
            const shouldReconnect = lastDisconnect?.error?.output?.statusCode !== 401
            if (shouldReconnect && !isConnecting) {
                isConnecting = true
                console.log(`üîÑ Connection closed. Reconnecting in ${RECONNECT_DELAY / 1000}s...`)
                setTimeout(() => { isConnecting = false; startBot() }, RECONNECT_DELAY)
            } else if (!shouldReconnect) {
                console.log('üö´ Logged out. Please delete the auth folder and restart to scan QR again.')
            }
        }
    })

    const pendingMessages = {}

    sock.ev.on('messages.upsert', async ({ messages, type }) => {
        if (type !== 'notify') return

        const msg = messages[0]

        const msgTimestamp = (msg.messageTimestamp || 0) * 1000
        if (Date.now() - msgTimestamp > 30_000) return

        const sender = msg.key.remoteJid
        if (sender.endsWith('@g.us')) return

        if (msg.key.fromMe) {
            const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
            if (text) {
                // Check if it's a toggle command
                const commandResult = handleOwnerCommand(text)
                if (commandResult) {
                    console.log(`‚ö° Comando: ${text} ‚Üí ${commandResult}`)
                    return
                }

                const history = loadConversation(sender)
                history.push({ role: 'assistant', content: text })
                saveConversation(sender, history)
                logMessage(sender.replace(/@s\\.whatsapp\\.net/, ''), 'OUT-MANUAL', text)
            }
            return
        }

        const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
        if (!text) return

        const senderNumber = sender.replace(/@s\\.whatsapp\\.net/, '')

        if (pendingMessages[sender]) {
            clearTimeout(pendingMessages[sender].timer)
            pendingMessages[sender].texts.push(text)
        } else {
            pendingMessages[sender] = { texts: [text] }
        }

        pendingMessages[sender].timer = setTimeout(async () => {
            const combined = pendingMessages[sender].texts.join(' ')
            delete pendingMessages[sender]

            logMessage(senderNumber, 'IN', combined)

            if (!botEnabled && senderNumber !== OWNER_NUMBER) {
                console.log(`‚è∏Ô∏è  Bot inactivo, mensaje de ${senderNumber} no respondido automaticamente`)
                return
            }

            try {
                const reply = await askClaude(sender, combined)
                await sendHumanReply(sock, sender, reply)
                logMessage(senderNumber, 'OUT', reply)
            } catch (err) {
                console.error('‚ùå Error:', err)
            }
        }, DEBOUNCE_MS)
    })
}

startBot()" 0 5 (face font-lock-keyword-face fontified t) 5 6 (fontified t) 6 7 (face (rainbow-delimiters-depth-1-face) fontified t) 7 8 (fontified t) 8 15 (face font-lock-keyword-face fontified t) 15 60 (fontified t) 60 61 (face (rainbow-delimiters-depth-1-face) fontified t) 61 71 (fontified t) 71 72 (face (rainbow-delimiters-depth-1-face) fontified t) 72 97 (face font-lock-string-face fontified t) 97 98 (face (rainbow-delimiters-depth-1-face) fontified t) 98 99 (fontified t) 99 104 (face font-lock-keyword-face fontified t) 104 105 (fontified t) 105 106 (face (rainbow-delimiters-depth-1-face) fontified t) 106 131 (fontified t) 131 132 (face (rainbow-delimiters-depth-1-face) fontified t) 132 142 (fontified t) 142 143 (face (rainbow-delimiters-depth-1-face) fontified t) 143 168 (face font-lock-string-face fontified t) 168 169 (face (rainbow-delimiters-depth-1-face) fontified t) 169 171 (fontified t) 171 176 (face font-lock-keyword-face fontified t) 176 177 (fontified t) 177 183 (face font-lock-variable-name-face fontified t) 183 193 (fontified t) 193 194 (face (rainbow-delimiters-depth-1-face) fontified t) 194 211 (face font-lock-string-face fontified t) 211 212 (face (rainbow-delimiters-depth-1-face) fontified t) 212 213 (fontified t) 213 218 (face font-lock-keyword-face fontified t) 218 219 (fontified t) 219 228 (face font-lock-variable-name-face fontified t) 228 238 (fontified t) 238 239 (face (rainbow-delimiters-depth-1-face) fontified t) 239 258 (face font-lock-string-face fontified t) 258 259 (face (rainbow-delimiters-depth-1-face) fontified t) 259 260 (fontified t) 260 265 (face font-lock-keyword-face fontified t) 265 266 (fontified t) 266 268 (face font-lock-variable-name-face fontified t) 268 278 (fontified t) 278 279 (face (rainbow-delimiters-depth-1-face) fontified t) 279 283 (face font-lock-string-face fontified t) 283 284 (face (rainbow-delimiters-depth-1-face) fontified t) 284 285 (fontified t) 285 290 (face font-lock-keyword-face fontified t) 290 291 (fontified t) 291 295 (face font-lock-variable-name-face fontified t) 295 305 (fontified t) 305 306 (face (rainbow-delimiters-depth-1-face) fontified t) 306 312 (face font-lock-string-face fontified t) 312 313 (face (rainbow-delimiters-depth-1-face) fontified t) 313 315 (fontified t) 315 318 (face font-lock-comment-delimiter-face fontified t) 318 397 (face font-lock-comment-face fontified t) 397 398 (fontified t) 398 403 (face font-lock-keyword-face fontified t) 403 404 (fontified t) 404 415 (face font-lock-variable-name-face fontified t) 415 429 (fontified t) 429 434 (face font-lock-keyword-face fontified t) 434 435 (fontified t) 435 445 (face font-lock-variable-name-face fontified t) 445 463 (fontified t) 463 464 (face (rainbow-delimiters-depth-1-face) fontified t) 464 475 (fontified t) 475 483 (face font-lock-string-face fontified t) 483 484 (face (rainbow-delimiters-depth-1-face) fontified t) 484 485 (fontified t) 485 490 (face font-lock-keyword-face fontified t) 490 491 (fontified t) 491 499 (face font-lock-variable-name-face fontified t) 499 519 (fontified t) 519 520 (face (rainbow-delimiters-depth-1-face) fontified t) 520 531 (fontified t) 531 537 (face font-lock-string-face fontified t) 537 539 (fontified t) 539 553 (face font-lock-string-face fontified t) 553 554 (face (rainbow-delimiters-depth-1-face) fontified t) 554 555 (fontified t) 555 560 (face font-lock-keyword-face fontified t) 560 561 (fontified t) 561 571 (face font-lock-variable-name-face fontified t) 571 589 (fontified t) 589 590 (face (rainbow-delimiters-depth-1-face) fontified t) 590 601 (fontified t) 601 612 (face font-lock-string-face fontified t) 612 613 (face (rainbow-delimiters-depth-1-face) fontified t) 613 614 (fontified t) 614 619 (face font-lock-keyword-face fontified t) 619 620 (fontified t) 620 631 (face font-lock-variable-name-face fontified t) 631 642 (fontified t) 642 647 (face font-lock-keyword-face fontified t) 647 648 (fontified t) 648 663 (face font-lock-variable-name-face fontified t) 663 673 (fontified t) 673 676 (face font-lock-comment-delimiter-face fontified t) 676 755 (face font-lock-comment-face fontified t) 755 756 (fontified t) 756 761 (face font-lock-keyword-face fontified t) 761 762 (fontified t) 762 773 (face font-lock-variable-name-face fontified t) 773 785 (fontified t) 785 786 (face (rainbow-delimiters-depth-1-face) fontified t) 786 797 (fontified t) 797 801 (face font-lock-string-face fontified t) 801 803 (fontified t) 803 813 (face font-lock-string-face fontified t) 813 814 (face (rainbow-delimiters-depth-1-face) fontified t) 814 815 (fontified t) 815 820 (face font-lock-keyword-face fontified t) 820 821 (fontified t) 821 828 (face font-lock-variable-name-face fontified t) 828 846 (fontified t) 846 847 (face (rainbow-delimiters-depth-1-face) fontified t) 847 860 (fontified t) 860 867 (face font-lock-string-face fontified t) 867 868 (face (rainbow-delimiters-depth-1-face) fontified t) 868 869 (fontified t) 869 874 (face font-lock-keyword-face fontified t) 874 875 (fontified t) 875 881 (face font-lock-variable-name-face fontified t) 881 897 (fontified t) 897 898 (face (rainbow-delimiters-depth-1-face) fontified t) 898 899 (face font-lock-string-face syntax-table (7 . 47) fontified t) 899 921 (face font-lock-string-face fontified t) 921 922 (face font-lock-string-face syntax-table (7 . 47) fontified t) 922 923 (face (rainbow-delimiters-depth-1-face) fontified t) 923 924 (face (rainbow-delimiters-depth-1-face) fontified t) 924 925 (fontified t) 925 926 (face (rainbow-delimiters-depth-1-face) fontified t) 926 931 (fontified t) 931 932 (face (rainbow-delimiters-depth-1-face) fontified t) 932 933 (face (rainbow-delimiters-depth-1-face) fontified t) 933 934 (fontified t) 934 939 (face font-lock-keyword-face fontified t) 939 940 (fontified t) 940 946 (face font-lock-variable-name-face fontified t) 946 949 (fontified t) 949 952 (face font-lock-keyword-face fontified t) 952 953 (fontified t) 953 962 (face font-lock-type-face fontified t) 962 963 (face (rainbow-delimiters-depth-1-face) fontified t) 963 964 (face (rainbow-delimiters-depth-2-face) fontified t) 964 972 (fontified t) 972 973 (face (rainbow-delimiters-depth-2-face) fontified t) 973 974 (face (rainbow-delimiters-depth-1-face) fontified t) 974 976 (fontified t) 976 978 (face font-lock-keyword-face fontified t) 978 979 (fontified t) 979 980 (face (rainbow-delimiters-depth-1-face) fontified t) 980 994 (fontified t) 994 995 (face (rainbow-delimiters-depth-2-face) fontified t) 995 1005 (fontified t) 1005 1006 (face (rainbow-delimiters-depth-2-face) fontified t) 1006 1007 (face (rainbow-delimiters-depth-1-face) fontified t) 1007 1020 (fontified t) 1020 1021 (face (rainbow-delimiters-depth-1-face) fontified t) 1021 1033 (fontified t) 1033 1034 (face (rainbow-delimiters-depth-2-face) fontified t) 1034 1046 (fontified t) 1046 1050 (face font-lock-constant-face fontified t) 1050 1051 (fontified t) 1051 1052 (face (rainbow-delimiters-depth-2-face) fontified t) 1052 1053 (face (rainbow-delimiters-depth-1-face) fontified t) 1053 1054 (fontified t) 1054 1056 (face font-lock-keyword-face fontified t) 1056 1057 (fontified t) 1057 1058 (face (rainbow-delimiters-depth-1-face) fontified t) 1058 1072 (fontified t) 1072 1073 (face (rainbow-delimiters-depth-2-face) fontified t) 1073 1085 (fontified t) 1085 1086 (face (rainbow-delimiters-depth-3-face) fontified t) 1086 1094 (fontified t) 1094 1095 (face (rainbow-delimiters-depth-3-face) fontified t) 1095 1096 (face (rainbow-delimiters-depth-2-face) fontified t) 1096 1097 (face (rainbow-delimiters-depth-1-face) fontified t) 1097 1110 (fontified t) 1110 1111 (face (rainbow-delimiters-depth-1-face) fontified t) 1111 1123 (fontified t) 1123 1124 (face (rainbow-delimiters-depth-2-face) fontified t) 1124 1132 (fontified t) 1132 1133 (face (rainbow-delimiters-depth-2-face) fontified t) 1133 1135 (fontified t) 1135 1136 (face (rainbow-delimiters-depth-2-face) fontified t) 1136 1148 (fontified t) 1148 1152 (face font-lock-constant-face fontified t) 1152 1153 (fontified t) 1153 1154 (face (rainbow-delimiters-depth-2-face) fontified t) 1154 1155 (face (rainbow-delimiters-depth-1-face) fontified t) 1155 1157 (fontified t) 1157 1160 (face font-lock-comment-delimiter-face fontified t) 1160 1239 (face font-lock-comment-face fontified t) 1239 1240 (fontified t) 1240 1248 (face font-lock-keyword-face fontified t) 1248 1249 (fontified t) 1249 1259 (face font-lock-function-name-face fontified t) 1259 1260 (face (rainbow-delimiters-depth-1-face) fontified t) 1260 1266 (face font-lock-variable-name-face fontified t) 1266 1268 (fontified t) 1268 1277 (face font-lock-variable-name-face fontified t) 1277 1279 (fontified t) 1279 1283 (face font-lock-variable-name-face fontified t) 1283 1284 (face (rainbow-delimiters-depth-1-face) fontified t) 1284 1285 (fontified t) 1285 1286 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 1241 ("logMessage") 1484) (nil -2305843009213693952 toplevel nil nil nil)) fontified t) 1286 1291 (fontified t) 1291 1296 (face font-lock-keyword-face fontified t) 1296 1297 (fontified t) 1297 1306 (face font-lock-variable-name-face fontified t) 1306 1309 (fontified t) 1309 1312 (face font-lock-keyword-face fontified t) 1312 1313 (fontified t) 1313 1317 (face font-lock-type-face fontified t) 1317 1318 (face (rainbow-delimiters-depth-2-face) fontified t) 1318 1319 (face (rainbow-delimiters-depth-2-face) fontified t) 1319 1331 (fontified t) 1331 1332 (face (rainbow-delimiters-depth-2-face) fontified t) 1332 1333 (face (rainbow-delimiters-depth-2-face) fontified t) 1333 1338 (fontified t) 1338 1343 (face font-lock-keyword-face fontified t) 1343 1344 (fontified t) 1344 1348 (face font-lock-variable-name-face fontified t) 1348 1351 (fontified t) 1351 1405 (face font-lock-string-face fontified t) 1405 1427 (fontified t) 1427 1428 (face (rainbow-delimiters-depth-2-face) fontified t) 1428 1444 (fontified t) 1444 1451 (face font-lock-string-face fontified t) 1451 1452 (face (rainbow-delimiters-depth-2-face) fontified t) 1452 1468 (fontified t) 1468 1469 (face (rainbow-delimiters-depth-2-face) fontified t) 1469 1478 (fontified t) 1478 1479 (face (rainbow-delimiters-depth-3-face) fontified t) 1479 1480 (face (rainbow-delimiters-depth-3-face) fontified t) 1480 1481 (face (rainbow-delimiters-depth-2-face) fontified t) 1481 1482 (fontified t) 1482 1483 (js--pend (nil 0 function 1241 ("logMessage") 1484) face (rainbow-delimiters-depth-1-face) fontified t) 1483 1485 (fontified t) 1485 1488 (face font-lock-comment-delimiter-face fontified t) 1488 1500 (face font-lock-comment-face fontified t) 1500 1567 (face font-lock-comment-face fontified t) 1567 1568 (fontified t) 1568 1576 (face font-lock-keyword-face fontified t) 1576 1577 (fontified t) 1577 1588 (face font-lock-function-name-face fontified t) 1588 1589 (face (rainbow-delimiters-depth-1-face) fontified t) 1589 1590 (face (rainbow-delimiters-depth-2-face) fontified t) 1590 1655 (fontified t) 1655 1656 (face (rainbow-delimiters-depth-2-face) fontified t) 1656 1657 (face (rainbow-delimiters-depth-1-face) fontified t) 1657 1658 (fontified t) 1658 1659 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 1569 ("guardarLead") 2252) (((nil 0 function 1241 ("logMessage") 1484)) -2305843009213693952 toplevel nil nil nil)) fontified t) 1659 1664 (fontified t) 1664 1669 (face font-lock-keyword-face fontified t) 1669 1670 (fontified t) 1670 1679 (face font-lock-variable-name-face fontified t) 1679 1682 (fontified t) 1682 1685 (face font-lock-keyword-face fontified t) 1685 1686 (fontified t) 1686 1690 (face font-lock-type-face fontified t) 1690 1691 (face (rainbow-delimiters-depth-2-face) fontified t) 1691 1692 (face (rainbow-delimiters-depth-2-face) fontified t) 1692 1707 (fontified t) 1707 1708 (face (rainbow-delimiters-depth-2-face) fontified t) 1708 1715 (face font-lock-string-face fontified t) 1715 1717 (fontified t) 1717 1718 (face (rainbow-delimiters-depth-3-face) fontified t) 1718 1729 (fontified t) 1729 1745 (face font-lock-string-face fontified t) 1745 1746 (fontified t) 1746 1747 (face (rainbow-delimiters-depth-3-face) fontified t) 1747 1748 (face (rainbow-delimiters-depth-2-face) fontified t) 1748 1753 (fontified t) 1753 1758 (face font-lock-keyword-face fontified t) 1758 1759 (fontified t) 1759 1766 (face font-lock-variable-name-face fontified t) 1766 1769 (fontified t) 1769 2083 (face font-lock-string-face fontified t) 2083 2105 (fontified t) 2105 2106 (face (rainbow-delimiters-depth-2-face) fontified t) 2106 2127 (fontified t) 2127 2134 (face font-lock-string-face fontified t) 2134 2135 (face (rainbow-delimiters-depth-2-face) fontified t) 2135 2151 (fontified t) 2151 2152 (face (rainbow-delimiters-depth-2-face) fontified t) 2152 2192 (face font-lock-string-face fontified t) 2192 2193 (face (rainbow-delimiters-depth-2-face) fontified t) 2193 2198 (fontified t) 2198 2204 (face font-lock-keyword-face fontified t) 2204 2205 (fontified t) 2205 2249 (face font-lock-string-face fontified t) 2249 2250 (fontified t) 2250 2251 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 1569 ("guardarLead") 2252) fontified t) 2251 2253 (fontified t) 2253 2256 (face font-lock-comment-delimiter-face fontified t) 2256 2335 (face font-lock-comment-face fontified t) 2335 2336 (fontified t) 2336 2344 (face font-lock-keyword-face fontified t) 2344 2345 (fontified t) 2345 2358 (face font-lock-function-name-face fontified t) 2358 2359 (face (rainbow-delimiters-depth-1-face) fontified t) 2359 2365 (face font-lock-variable-name-face fontified t) 2365 2366 (face (rainbow-delimiters-depth-1-face) fontified t) 2366 2367 (fontified t) 2367 2368 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 2337 ("getMemoryPath") 2422) (((nil 0 function 1569 ("guardarLead") 2252) (nil 0 function 1241 ("logMessage") 1484)) -2305843009213693952 toplevel nil nil nil)) fontified t) 2368 2373 (fontified t) 2373 2379 (face font-lock-keyword-face fontified t) 2379 2389 (fontified t) 2389 2390 (face (rainbow-delimiters-depth-2-face) fontified t) 2390 2402 (fontified t) 2402 2418 (face font-lock-string-face fontified t) 2418 2419 (face (rainbow-delimiters-depth-2-face) fontified t) 2419 2420 (fontified t) 2420 2421 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 2337 ("getMemoryPath") 2422) fontified t) 2421 2423 (fontified t) 2423 2431 (face font-lock-keyword-face fontified t) 2431 2432 (fontified t) 2432 2448 (face font-lock-function-name-face fontified t) 2448 2449 (face (rainbow-delimiters-depth-1-face) fontified t) 2449 2455 (face font-lock-variable-name-face fontified t) 2455 2456 (face (rainbow-delimiters-depth-1-face) fontified t) 2456 2457 (fontified t) 2457 2458 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 2424 ("loadConversation") 2621) (((nil 0 function 2337 ("getMemoryPath") 2422) (nil 0 function 1569 ("guardarLead") 2252) (nil 0 function 1241 ("logMessage") 1484)) -2305843009213693952 toplevel nil nil nil)) fontified t) 2458 2463 (fontified t) 2463 2468 (face font-lock-keyword-face fontified t) 2468 2469 (fontified t) 2469 2477 (face font-lock-variable-name-face fontified t) 2477 2493 (fontified t) 2493 2494 (face (rainbow-delimiters-depth-2-face) fontified t) 2494 2500 (fontified t) 2500 2501 (face (rainbow-delimiters-depth-2-face) fontified t) 2501 2506 (fontified t) 2506 2508 (face font-lock-keyword-face fontified t) 2508 2509 (fontified t) 2509 2510 (face (rainbow-delimiters-depth-2-face) fontified t) 2510 2523 (fontified t) 2523 2524 (face (rainbow-delimiters-depth-3-face) fontified t) 2524 2532 (fontified t) 2532 2533 (face (rainbow-delimiters-depth-3-face) fontified t) 2533 2534 (face (rainbow-delimiters-depth-2-face) fontified t) 2534 2535 (fontified t) 2535 2536 (face (rainbow-delimiters-depth-2-face) fontified t) 2536 2545 (fontified t) 2545 2551 (face font-lock-keyword-face fontified t) 2551 2562 (fontified t) 2562 2563 (face (rainbow-delimiters-depth-3-face) fontified t) 2563 2578 (fontified t) 2578 2579 (face (rainbow-delimiters-depth-4-face) fontified t) 2579 2589 (fontified t) 2589 2596 (face font-lock-string-face fontified t) 2596 2597 (face (rainbow-delimiters-depth-4-face) fontified t) 2597 2598 (face (rainbow-delimiters-depth-3-face) fontified t) 2598 2603 (fontified t) 2603 2604 (face (rainbow-delimiters-depth-2-face) fontified t) 2604 2609 (fontified t) 2609 2615 (face font-lock-keyword-face fontified t) 2615 2616 (fontified t) 2616 2617 (face (rainbow-delimiters-depth-2-face) fontified t) 2617 2618 (face (rainbow-delimiters-depth-2-face) fontified t) 2618 2619 (fontified t) 2619 2620 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 2424 ("loadConversation") 2621) fontified t) 2620 2622 (fontified t) 2622 2630 (face font-lock-keyword-face fontified t) 2630 2631 (fontified t) 2631 2647 (face font-lock-function-name-face fontified t) 2647 2648 (face (rainbow-delimiters-depth-1-face) fontified t) 2648 2654 (face font-lock-variable-name-face fontified t) 2654 2656 (fontified t) 2656 2664 (face font-lock-variable-name-face fontified t) 2664 2665 (face (rainbow-delimiters-depth-1-face) fontified t) 2665 2666 (fontified t) 2666 2667 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 2623 ("saveConversation") 2806) (((nil 0 function 2424 ("loadConversation") 2621) (nil 0 function 2337 ("getMemoryPath") 2422) (nil 0 function 1569 ("guardarLead") 2252) (nil 0 function 1241 ("logMessage") 1484)) -2305843009213693952 toplevel nil nil nil)) fontified t) 2667 2672 (fontified t) 2672 2677 (face font-lock-keyword-face fontified t) 2677 2678 (fontified t) 2678 2685 (face font-lock-variable-name-face fontified t) 2685 2702 (fontified t) 2702 2703 (face (rainbow-delimiters-depth-2-face) fontified t) 2703 2715 (fontified t) 2715 2716 (face (rainbow-delimiters-depth-2-face) fontified t) 2716 2737 (fontified t) 2737 2738 (face (rainbow-delimiters-depth-2-face) fontified t) 2738 2751 (fontified t) 2751 2752 (face (rainbow-delimiters-depth-3-face) fontified t) 2752 2758 (fontified t) 2758 2759 (face (rainbow-delimiters-depth-3-face) fontified t) 2759 2775 (fontified t) 2775 2776 (face (rainbow-delimiters-depth-3-face) fontified t) 2776 2785 (fontified t) 2785 2789 (face font-lock-constant-face fontified t) 2789 2792 (fontified t) 2792 2793 (face (rainbow-delimiters-depth-3-face) fontified t) 2793 2795 (fontified t) 2795 2802 (face font-lock-string-face fontified t) 2802 2803 (face (rainbow-delimiters-depth-2-face) fontified t) 2803 2804 (fontified t) 2804 2805 (js--pend (nil 0 function 2623 ("saveConversation") 2806) face (rainbow-delimiters-depth-1-face) fontified t) 2805 2807 (fontified t) 2807 2810 (face font-lock-comment-delimiter-face fontified t) 2810 2889 (face font-lock-comment-face fontified t) 2889 2890 (fontified t) 2890 2895 (face font-lock-keyword-face fontified t) 2895 2896 (fontified t) 2896 2901 (face font-lock-variable-name-face fontified t) 2901 2904 (fontified t) 2904 2905 (face (rainbow-delimiters-depth-1-face) fontified t) 2905 2910 (fontified t) 2910 2911 (face (rainbow-delimiters-depth-2-face) fontified t) 2911 2926 (fontified t) 2926 2940 (face font-lock-string-face fontified t) 2940 2963 (fontified t) 2963 3067 (face font-lock-string-face fontified t) 3067 3218 (face font-lock-string-face fontified t) 3218 3220 (fontified t) 3220 3242 (fontified t) 3242 3243 (face (rainbow-delimiters-depth-3-face) fontified t) 3243 3262 (fontified t) 3262 3270 (face font-lock-string-face fontified t) 3270 3296 (fontified t) 3296 3297 (face (rainbow-delimiters-depth-4-face) fontified t) 3297 3322 (fontified t) 3322 3323 (face (rainbow-delimiters-depth-5-face) fontified t) 3323 3350 (fontified t) 3350 3358 (face font-lock-string-face fontified t) 3358 3393 (fontified t) 3393 3425 (face font-lock-string-face fontified t) 3425 3442 (fontified t) 3442 3443 (face (rainbow-delimiters-depth-5-face) fontified t) 3443 3469 (fontified t) 3469 3470 (face (rainbow-delimiters-depth-5-face) fontified t) 3470 3497 (fontified t) 3497 3505 (face font-lock-string-face fontified t) 3505 3540 (fontified t) 3540 3573 (face font-lock-string-face fontified t) 3573 3590 (fontified t) 3590 3591 (face (rainbow-delimiters-depth-5-face) fontified t) 3591 3628 (fontified t) 3628 3629 (face (rainbow-delimiters-depth-5-face) fontified t) 3629 3656 (fontified t) 3656 3664 (face font-lock-string-face fontified t) 3664 3699 (fontified t) 3699 3766 (face font-lock-string-face fontified t) 3766 3783 (fontified t) 3783 3784 (face (rainbow-delimiters-depth-5-face) fontified t) 3784 3816 (fontified t) 3816 3817 (face (rainbow-delimiters-depth-5-face) fontified t) 3817 3844 (fontified t) 3844 3852 (face font-lock-string-face fontified t) 3852 3887 (fontified t) 3887 3933 (face font-lock-string-face fontified t) 3933 3950 (fontified t) 3950 3951 (face (rainbow-delimiters-depth-5-face) fontified t) 3951 3985 (fontified t) 3985 3986 (face (rainbow-delimiters-depth-5-face) fontified t) 3986 4013 (fontified t) 4013 4021 (face font-lock-string-face fontified t) 4021 4056 (fontified t) 4056 4110 (face font-lock-string-face fontified t) 4110 4127 (fontified t) 4127 4128 (face (rainbow-delimiters-depth-5-face) fontified t) 4128 4141 (fontified t) 4141 4142 (face (rainbow-delimiters-depth-4-face) fontified t) 4142 4166 (fontified t) 4166 4167 (face (rainbow-delimiters-depth-4-face) fontified t) 4167 4175 (face font-lock-string-face fontified t) 4175 4177 (fontified t) 4177 4185 (face font-lock-string-face fontified t) 4185 4187 (fontified t) 4187 4206 (face font-lock-string-face fontified t) 4206 4208 (fontified t) 4208 4222 (face font-lock-string-face fontified t) 4222 4224 (fontified t) 4224 4240 (face font-lock-string-face fontified t) 4240 4241 (face (rainbow-delimiters-depth-4-face) fontified t) 4241 4250 (fontified t) 4250 4251 (face (rainbow-delimiters-depth-3-face) fontified t) 4251 4256 (fontified t) 4256 4257 (face (rainbow-delimiters-depth-2-face) fontified t) 4257 4258 (fontified t) 4258 4259 (face (rainbow-delimiters-depth-1-face) fontified t) 4259 4261 (fontified t) 4261 4264 (face font-lock-comment-delimiter-face fontified t) 4264 4343 (face font-lock-comment-face fontified t) 4343 4344 (fontified t) 4344 4349 (face font-lock-keyword-face fontified t) 4349 4350 (fontified t) 4350 4363 (face font-lock-variable-name-face fontified t) 4363 4366 (fontified t) 4366 4720 (face font-lock-string-face fontified t) 4720 4745 (face font-lock-string-face fontified t) 4745 5236 (face font-lock-string-face fontified t) 5236 5280 (face font-lock-string-face fontified t) 5280 5281 (face font-lock-string-face fontified t) 5281 5707 (face font-lock-string-face fontified t) 5707 5728 (face font-lock-string-face fontified t) 5728 5730 (face font-lock-string-face fontified t) 5730 5731 (face font-lock-string-face fontified t) 5731 5732 (face font-lock-string-face fontified t) 5732 5761 (face font-lock-string-face fontified t) 5761 5783 (face font-lock-string-face fontified t) 5783 6025 (face font-lock-string-face fontified t) 6025 6027 (fontified t) 6027 6032 (face font-lock-keyword-face fontified t) 6032 6033 (fontified t) 6033 6041 (face font-lock-keyword-face fontified t) 6041 6051 (fontified t) 6051 6052 (face (rainbow-delimiters-depth-1-face) fontified t) 6052 6058 (face font-lock-variable-name-face fontified t) 6058 6060 (fontified t) 6060 6071 (face font-lock-variable-name-face fontified t) 6071 6073 (fontified t) 6073 6080 (face font-lock-variable-name-face fontified t) 6080 6084 (fontified t) 6084 6085 (face (rainbow-delimiters-depth-1-face) fontified t) 6085 6086 (fontified t) 6086 6087 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 6028 ("askClaude") 10457) (((nil 0 function 2623 ("saveConversation") 2806) (nil 0 function 2424 ("loadConversation") 2621) (nil 0 function 2337 ("getMemoryPath") 2422) (nil 0 function 1569 ("guardarLead") 2252) (nil 0 function 1241 ("logMessage") 1484)) -2305843009213693952 toplevel nil nil nil)) fontified t) 6087 6092 (fontified t) 6092 6097 (face font-lock-keyword-face fontified t) 6097 6098 (fontified t) 6098 6105 (face font-lock-variable-name-face fontified t) 6105 6124 (fontified t) 6124 6125 (face (rainbow-delimiters-depth-2-face) fontified t) 6125 6131 (fontified t) 6131 6132 (face (rainbow-delimiters-depth-2-face) fontified t) 6132 6137 (fontified t) 6137 6142 (face font-lock-keyword-face fontified t) 6142 6143 (fontified t) 6143 6154 (face font-lock-variable-name-face fontified t) 6154 6181 (fontified t) 6181 6183 (face font-lock-keyword-face fontified t) 6183 6184 (fontified t) 6184 6185 (face (rainbow-delimiters-depth-2-face) fontified t) 6185 6197 (fontified t) 6197 6198 (face (rainbow-delimiters-depth-2-face) fontified t) 6198 6199 (fontified t) 6199 6200 (face (rainbow-delimiters-depth-2-face) fontified t) 6200 6221 (fontified t) 6221 6222 (face (rainbow-delimiters-depth-3-face) fontified t) 6222 6223 (face (rainbow-delimiters-depth-4-face) fontified t) 6223 6242 (fontified t) 6242 6248 (face font-lock-string-face fontified t) 6248 6271 (fontified t) 6271 6434 (face font-lock-string-face fontified t) 6434 6443 (fontified t) 6443 6444 (face (rainbow-delimiters-depth-4-face) fontified t) 6444 6445 (face (rainbow-delimiters-depth-3-face) fontified t) 6445 6450 (fontified t) 6450 6451 (face (rainbow-delimiters-depth-2-face) fontified t) 6451 6452 (fontified t) 6452 6456 (face font-lock-keyword-face fontified t) 6456 6457 (fontified t) 6457 6458 (face (rainbow-delimiters-depth-2-face) fontified t) 6458 6479 (fontified t) 6479 6480 (face (rainbow-delimiters-depth-3-face) fontified t) 6480 6481 (face (rainbow-delimiters-depth-4-face) fontified t) 6481 6488 (fontified t) 6488 6494 (face font-lock-string-face fontified t) 6494 6517 (fontified t) 6517 6518 (face (rainbow-delimiters-depth-4-face) fontified t) 6518 6519 (face (rainbow-delimiters-depth-3-face) fontified t) 6519 6524 (fontified t) 6524 6525 (face (rainbow-delimiters-depth-2-face) fontified t) 6525 6531 (fontified t) 6531 6534 (face font-lock-keyword-face fontified t) 6534 6535 (fontified t) 6535 6536 (face (rainbow-delimiters-depth-2-face) fontified t) 6536 6539 (face font-lock-keyword-face fontified t) 6539 6540 (fontified t) 6540 6547 (face font-lock-variable-name-face fontified t) 6547 6582 (fontified t) 6582 6583 (face (rainbow-delimiters-depth-2-face) fontified t) 6583 6584 (fontified t) 6584 6585 (face (rainbow-delimiters-depth-2-face) fontified t) 6585 6594 (fontified t) 6594 6597 (face font-lock-keyword-face fontified t) 6597 6598 (fontified t) 6598 6599 (face (rainbow-delimiters-depth-3-face) fontified t) 6599 6612 (fontified t) 6612 6617 (face font-lock-keyword-face fontified t) 6617 6618 (fontified t) 6618 6626 (face font-lock-variable-name-face fontified t) 6626 6629 (fontified t) 6629 6634 (face font-lock-keyword-face fontified t) 6634 6657 (fontified t) 6657 6658 (face (rainbow-delimiters-depth-4-face) fontified t) 6658 6659 (face (rainbow-delimiters-depth-5-face) fontified t) 6659 6683 (fontified t) 6683 6702 (face font-lock-string-face fontified t) 6702 6759 (fontified t) 6759 6777 (fontified t) 6777 6780 (fontified t) 6780 6781 (fontified t) 6781 6807 (fontified t) 6853 6854 (face (rainbow-delimiters-depth-5-face)) 6854 6855 (face (rainbow-delimiters-depth-4-face)) 6869 6872 (face font-lock-comment-delimiter-face) 6872 6894 (face font-lock-comment-face) 6906 6908 (face font-lock-keyword-face) 6909 6910 (face (rainbow-delimiters-depth-4-face)) 6960 6961 (face (rainbow-delimiters-depth-4-face)) 6962 6963 (face (rainbow-delimiters-depth-4-face)) 6993 6994 (face (rainbow-delimiters-depth-5-face)) 6994 7027 (face font-lock-string-face) 7027 7028 (face (rainbow-delimiters-depth-5-face)) 7045 7051 (face font-lock-keyword-face) 7052 7133 (face font-lock-string-face) 7146 7147 (face (rainbow-delimiters-depth-4-face)) 7161 7164 (face font-lock-comment-delimiter-face) 7164 7180 (face font-lock-comment-face) 7192 7194 (face font-lock-keyword-face) 7195 7196 (face (rainbow-delimiters-depth-4-face)) 7221 7230 (face font-lock-string-face) 7230 7231 (face font-lock-string-face) 7231 7232 (face (rainbow-delimiters-depth-4-face)) 7233 7234 (face (rainbow-delimiters-depth-4-face)) 7251 7256 (face font-lock-keyword-face) 7257 7269 (face font-lock-variable-name-face) 7293 7294 (face (rainbow-delimiters-depth-5-face)) 7310 7320 (face font-lock-string-face) 7320 7321 (face (rainbow-delimiters-depth-5-face)) 7339 7341 (face font-lock-keyword-face) 7342 7343 (face (rainbow-delimiters-depth-5-face)) 7381 7395 (face font-lock-string-face) 7395 7396 (face (rainbow-delimiters-depth-5-face)) 7397 7398 (face (rainbow-delimiters-depth-5-face)) 7420 7423 (face font-lock-comment-delimiter-face) 7423 7477 (face font-lock-comment-face) 7497 7502 (face font-lock-keyword-face) 7503 7508 (face font-lock-variable-name-face) 7550 7552 (face font-lock-keyword-face) 7553 7554 (face (rainbow-delimiters-depth-6-face)) 7602 7603 (face (rainbow-delimiters-depth-6-face)) 7604 7605 (face (rainbow-delimiters-depth-6-face)) 7643 7644 (face (rainbow-delimiters-depth-7-face)) 7644 7682 (face font-lock-string-face) 7689 7690 (face (rainbow-delimiters-depth-7-face)) 7715 7720 (face font-lock-keyword-face) 7721 7729 (face font-lock-variable-name-face) 7732 7810 (face font-lock-string-face) 7847 7848 (face (rainbow-delimiters-depth-7-face)) 7848 7849 (face (rainbow-delimiters-depth-8-face)) 7856 7867 (face font-lock-string-face) 7887 7888 (face (rainbow-delimiters-depth-8-face)) 7888 7889 (face (rainbow-delimiters-depth-7-face)) 7930 7931 (face (rainbow-delimiters-depth-7-face)) 7946 7947 (face (rainbow-delimiters-depth-7-face)) 7972 7978 (face font-lock-keyword-face) 8008 8009 (face (rainbow-delimiters-depth-6-face)) 8031 8036 (face font-lock-keyword-face) 8037 8045 (face font-lock-variable-name-face) 8048 8049 (face (rainbow-delimiters-depth-6-face)) 8082 8083 (face (rainbow-delimiters-depth-7-face)) 8083 8084 (syntax-table (7 . 47) face font-lock-string-face) 8084 8101 (face font-lock-string-face) 8101 8102 (syntax-table (7 . 47) face font-lock-string-face) 8104 8106 (face font-lock-string-face) 8106 8107 (face (rainbow-delimiters-depth-7-face)) 8108 8109 (face (rainbow-delimiters-depth-6-face)) 8130 8135 (face font-lock-keyword-face) 8136 8142 (face font-lock-variable-name-face) 8156 8157 (face (rainbow-delimiters-depth-6-face)) 8165 8166 (face (rainbow-delimiters-depth-6-face)) 8200 8201 (face (rainbow-delimiters-depth-6-face)) 8201 8202 (face (rainbow-delimiters-depth-7-face)) 8209 8220 (face font-lock-string-face) 8248 8249 (face (rainbow-delimiters-depth-7-face)) 8249 8250 (face (rainbow-delimiters-depth-6-face)) 8283 8284 (face (rainbow-delimiters-depth-6-face)) 8284 8285 (face (rainbow-delimiters-depth-7-face)) 8316 8322 (face font-lock-string-face) 8357 8358 (face (rainbow-delimiters-depth-8-face)) 8358 8359 (face (rainbow-delimiters-depth-9-face)) 8394 8407 (face font-lock-string-face) 8535 8536 (face (rainbow-delimiters-depth-9-face)) 8536 8537 (face (rainbow-delimiters-depth-8-face)) 8558 8559 (face (rainbow-delimiters-depth-7-face)) 8559 8560 (face (rainbow-delimiters-depth-6-face)) 8582 8587 (face font-lock-keyword-face) 8588 8601 (face font-lock-variable-name-face) 8604 8609 (face font-lock-keyword-face) 8632 8633 (face (rainbow-delimiters-depth-6-face)) 8633 8634 (face (rainbow-delimiters-depth-7-face)) 8666 8685 (face font-lock-string-face) 8876 8877 (face (rainbow-delimiters-depth-7-face)) 8877 8878 (face (rainbow-delimiters-depth-6-face)) 8900 8903 (face font-lock-comment-delimiter-face) 8903 8946 (face font-lock-comment-face) 8966 8971 (face font-lock-keyword-face) 8972 8981 (face font-lock-variable-name-face) 9011 9012 (face (rainbow-delimiters-depth-6-face)) 9028 9034 (face font-lock-string-face) 9034 9035 (face (rainbow-delimiters-depth-6-face)) 9062 9064 (face font-lock-keyword-face) 9065 9066 (face (rainbow-delimiters-depth-6-face)) 9076 9077 (face (rainbow-delimiters-depth-6-face)) 9078 9079 (face (rainbow-delimiters-depth-6-face)) 9117 9118 (face (rainbow-delimiters-depth-7-face)) 9118 9157 (face font-lock-string-face) 9157 9158 (face (rainbow-delimiters-depth-7-face)) 9183 9188 (face font-lock-keyword-face) 9189 9197 (face font-lock-variable-name-face) 9200 9278 (face font-lock-string-face) 9315 9316 (face (rainbow-delimiters-depth-7-face)) 9316 9317 (face (rainbow-delimiters-depth-8-face)) 9324 9335 (face font-lock-string-face) 9355 9356 (face (rainbow-delimiters-depth-8-face)) 9356 9357 (face (rainbow-delimiters-depth-7-face)) 9398 9399 (face (rainbow-delimiters-depth-7-face)) 9414 9415 (face (rainbow-delimiters-depth-7-face)) 9440 9446 (face font-lock-keyword-face) 9476 9477 (face (rainbow-delimiters-depth-6-face)) 9511 9512 (face (rainbow-delimiters-depth-6-face)) 9512 9513 (face (rainbow-delimiters-depth-7-face)) 9520 9531 (face font-lock-string-face) 9552 9553 (face (rainbow-delimiters-depth-7-face)) 9553 9554 (face (rainbow-delimiters-depth-6-face)) 9591 9592 (face (rainbow-delimiters-depth-6-face)) 9607 9608 (face (rainbow-delimiters-depth-6-face)) 9629 9635 (face font-lock-keyword-face) 9662 9663 (face (rainbow-delimiters-depth-5-face)) 9676 9677 (face (rainbow-delimiters-depth-4-face)) 9691 9694 (face font-lock-comment-delimiter-face) 9694 9715 (face font-lock-comment-face) 9727 9732 (face font-lock-keyword-face) 9733 9738 (face font-lock-variable-name-face) 9762 9763 (face (rainbow-delimiters-depth-4-face)) 9779 9785 (face font-lock-string-face) 9785 9786 (face (rainbow-delimiters-depth-4-face)) 9805 9807 (face font-lock-keyword-face) 9808 9809 (face (rainbow-delimiters-depth-4-face)) 9815 9816 (face (rainbow-delimiters-depth-4-face)) 9817 9818 (face (rainbow-delimiters-depth-4-face)) 9848 9849 (face (rainbow-delimiters-depth-5-face)) 9849 9878 (face font-lock-string-face) 9878 9879 (face (rainbow-delimiters-depth-5-face)) 9896 9902 (face font-lock-keyword-face) 9903 9984 (face font-lock-string-face) 9997 9998 (face (rainbow-delimiters-depth-4-face)) 10023 10024 (face (rainbow-delimiters-depth-4-face)) 10024 10025 (face (rainbow-delimiters-depth-5-face)) 10032 10043 (face font-lock-string-face) 10060 10061 (face (rainbow-delimiters-depth-5-face)) 10061 10062 (face (rainbow-delimiters-depth-4-face)) 10091 10092 (face (rainbow-delimiters-depth-4-face)) 10107 10108 (face (rainbow-delimiters-depth-4-face)) 10121 10127 (face font-lock-keyword-face) 10143 10144 (face (rainbow-delimiters-depth-3-face)) 10145 10150 (face font-lock-keyword-face) 10151 10152 (face (rainbow-delimiters-depth-3-face)) 10155 10156 (face (rainbow-delimiters-depth-3-face)) 10157 10158 (face (rainbow-delimiters-depth-3-face)) 10184 10185 (face (rainbow-delimiters-depth-4-face)) 10185 10226 (face font-lock-string-face) 10239 10240 (face (rainbow-delimiters-depth-4-face)) 10253 10255 (face font-lock-keyword-face) 10256 10257 (face (rainbow-delimiters-depth-4-face)) 10276 10277 (face (rainbow-delimiters-depth-4-face)) 10278 10279 (face (rainbow-delimiters-depth-4-face)) 10296 10302 (face font-lock-keyword-face) 10303 10356 (face font-lock-string-face) 10356 10384 (face font-lock-string-face) 10397 10398 (face (rainbow-delimiters-depth-4-face)) 10411 10416 (face font-lock-keyword-face) 10422 10423 (face (rainbow-delimiters-depth-4-face)) 10437 10438 (face (rainbow-delimiters-depth-4-face)) 10447 10448 (face (rainbow-delimiters-depth-3-face)) 10453 10454 (face (rainbow-delimiters-depth-2-face)) 10455 10456 (js--pend (nil 0 function 6028 ("askClaude") 10457) face (rainbow-delimiters-depth-1-face)) 10458 10461 (face font-lock-comment-delimiter-face) 10461 10469 (face font-lock-comment-face) 10469 10540 (face font-lock-comment-face) 10541 10544 (face font-lock-keyword-face) 10545 10555 (face font-lock-variable-name-face) 10558 10562 (face font-lock-constant-face) 10563 10568 (face font-lock-keyword-face) 10569 10581 (face font-lock-variable-name-face) 10584 10598 (face font-lock-string-face) 10600 10608 (face font-lock-keyword-face) 10609 10627 (face font-lock-function-name-face) 10627 10628 (face (rainbow-delimiters-depth-1-face)) 10628 10632 (face font-lock-variable-name-face) 10632 10633 (face (rainbow-delimiters-depth-1-face)) 10634 10635 (js--pstate ((nil 0 function 10601 ("handleOwnerCommand") 11155) (((nil 0 function 6028 ("askClaude") 10457) (nil 0 function 2623 ("saveConversation") 2806) (nil 0 function 2424 ("loadConversation") 2621) (nil 0 function 2337 ("getMemoryPath") 2422) (nil 0 function 1569 ("guardarLead") 2252) (nil 0 function 1241 ("logMessage") 1484)) -2305843009213693952 toplevel nil nil nil)) face (rainbow-delimiters-depth-1-face)) 10640 10645 (face font-lock-keyword-face) 10646 10649 (face font-lock-variable-name-face) 10661 10662 (face (rainbow-delimiters-depth-2-face)) 10662 10663 (face (rainbow-delimiters-depth-2-face)) 10675 10676 (face (rainbow-delimiters-depth-2-face)) 10676 10677 (face (rainbow-delimiters-depth-2-face)) 10682 10684 (face font-lock-keyword-face) 10685 10686 (face (rainbow-delimiters-depth-2-face)) 10694 10704 (face font-lock-string-face) 10704 10705 (face (rainbow-delimiters-depth-2-face)) 10706 10707 (face (rainbow-delimiters-depth-2-face)) 10729 10734 (face font-lock-constant-face) 10754 10755 (face (rainbow-delimiters-depth-3-face)) 10755 10774 (face font-lock-string-face) 10774 10775 (face (rainbow-delimiters-depth-3-face)) 10784 10790 (face font-lock-keyword-face) 10791 10863 (face font-lock-string-face) 10868 10869 (face (rainbow-delimiters-depth-2-face)) 10874 10876 (face font-lock-keyword-face) 10877 10878 (face (rainbow-delimiters-depth-2-face)) 10886 10895 (face font-lock-string-face) 10895 10896 (face (rainbow-delimiters-depth-2-face)) 10897 10898 (face (rainbow-delimiters-depth-2-face)) 10920 10924 (face font-lock-constant-face) 10944 10945 (face (rainbow-delimiters-depth-3-face)) 10945 10961 (face font-lock-string-face) 10961 10962 (face (rainbow-delimiters-depth-3-face)) 10971 10977 (face font-lock-keyword-face) 10978 11023 (face font-lock-string-face) 11028 11029 (face (rainbow-delimiters-depth-2-face)) 11034 11036 (face font-lock-keyword-face) 11037 11038 (face (rainbow-delimiters-depth-2-face)) 11046 11059 (face font-lock-string-face) 11059 11060 (face (rainbow-delimiters-depth-2-face)) 11061 11062 (face (rainbow-delimiters-depth-2-face)) 11071 11077 (face font-lock-keyword-face) 11078 11130 (face font-lock-string-face) 11135 11136 (face (rainbow-delimiters-depth-2-face)) 11141 11147 (face font-lock-keyword-face) 11148 11152 (face font-lock-constant-face) 11153 11154 (js--pend (nil 0 function 10601 ("handleOwnerCommand") 11155) face (rainbow-delimiters-depth-1-face)) 11156 11159 (face font-lock-comment-delimiter-face) 11159 11238 (face font-lock-comment-face) 11239 11244 (face font-lock-keyword-face) 11245 11253 (face font-lock-keyword-face) 11268 11269 (face (rainbow-delimiters-depth-1-face)) 11269 11273 (face font-lock-variable-name-face) 11275 11281 (face font-lock-variable-name-face) 11283 11287 (face font-lock-variable-name-face) 11287 11288 (face (rainbow-delimiters-depth-1-face)) 11289 11290 (js--pstate ((nil 0 function 11240 ("sendHumanReply") 11620) (((nil 0 function 10601 ("handleOwnerCommand") 11155) (nil 0 function 6028 ("askClaude") 10457) (nil 0 function 2623 ("saveConversation") 2806) (nil 0 function 2424 ("loadConversation") 2621) (nil 0 function 2337 ("getMemoryPath") 2422) (nil 0 function 1569 ("guardarLead") 2252) (nil 0 function 1241 ("logMessage") 1484)) -2305843009213693952 toplevel nil nil nil)) face (rainbow-delimiters-depth-1-face)) 11295 11300 (face font-lock-keyword-face) 11301 11311 (face font-lock-variable-name-face) 11324 11325 (face (rainbow-delimiters-depth-2-face)) 11336 11337 (face (rainbow-delimiters-depth-3-face)) 11337 11338 (face (rainbow-delimiters-depth-3-face)) 11345 11346 (face (rainbow-delimiters-depth-2-face)) 11358 11363 (face font-lock-keyword-face) 11364 11373 (face font-lock-variable-name-face) 11385 11386 (face (rainbow-delimiters-depth-2-face)) 11408 11409 (face (rainbow-delimiters-depth-2-face)) 11415 11420 (face font-lock-keyword-face) 11426 11427 (face (rainbow-delimiters-depth-2-face)) 11437 11438 (face (rainbow-delimiters-depth-2-face)) 11443 11448 (face font-lock-keyword-face) 11472 11473 (face (rainbow-delimiters-depth-2-face)) 11473 11484 (face font-lock-string-face) 11492 11493 (face (rainbow-delimiters-depth-2-face)) 11498 11503 (face font-lock-keyword-face) 11509 11510 (face (rainbow-delimiters-depth-2-face)) 11519 11520 (face (rainbow-delimiters-depth-2-face)) 11525 11530 (face font-lock-keyword-face) 11554 11555 (face (rainbow-delimiters-depth-2-face)) 11555 11563 (face font-lock-string-face) 11571 11572 (face (rainbow-delimiters-depth-2-face)) 11577 11582 (face font-lock-keyword-face) 11599 11600 (face (rainbow-delimiters-depth-2-face)) 11608 11609 (face (rainbow-delimiters-depth-3-face)) 11615 11616 (face (rainbow-delimiters-depth-3-face)) 11616 11617 (face (rainbow-delimiters-depth-2-face)) 11618 11619 (js--pend (nil 0 function 11240 ("sendHumanReply") 11620) face (rainbow-delimiters-depth-1-face)) 11621 11624 (face font-lock-comment-delimiter-face) 11624 11703 (face font-lock-comment-face) 11704 11707 (face font-lock-keyword-face) 11708 11720 (face font-lock-variable-name-face) 11723 11728 (face font-lock-constant-face) 11730 11735 (face font-lock-keyword-face) 11736 11744 (face font-lock-keyword-face) 11753 11754 (face (rainbow-delimiters-depth-1-face)) 11754 11755 (face (rainbow-delimiters-depth-1-face)) 11756 11757 (js--pstate ((nil 0 function 11731 ("startBot") 15948) (((nil 0 function 11240 ("sendHumanReply") 11620) (nil 0 function 10601 ("handleOwnerCommand") 11155) (nil 0 function 6028 ("askClaude") 10457) (nil 0 function 2623 ("saveConversation") 2806) (nil 0 function 2424 ("loadConversation") 2621) (nil 0 function 2337 ("getMemoryPath") 2422) (nil 0 function 1569 ("guardarLead") 2252) (nil 0 function 1241 ("logMessage") 1484)) -2305843009213693952 toplevel nil nil nil)) face (rainbow-delimiters-depth-1-face)) 11762 11767 (face font-lock-keyword-face) 11768 11769 (face (rainbow-delimiters-depth-2-face)) 11778 11779 (face (rainbow-delimiters-depth-2-face)) 11782 11787 (face font-lock-keyword-face) 11811 11812 (face (rainbow-delimiters-depth-2-face)) 11812 11813 (face (rainbow-delimiters-depth-2-face)) 11818 11823 (face font-lock-keyword-face) 11824 11825 (face (rainbow-delimiters-depth-2-face)) 11843 11844 (face (rainbow-delimiters-depth-2-face)) 11847 11852 (face font-lock-keyword-face) 11874 11875 (face (rainbow-delimiters-depth-2-face)) 11875 11881 (face font-lock-string-face) 11881 11882 (face (rainbow-delimiters-depth-2-face)) 11887 11892 (face font-lock-keyword-face) 11893 11897 (face font-lock-variable-name-face) 11912 11913 (face (rainbow-delimiters-depth-2-face)) 11913 11914 (face (rainbow-delimiters-depth-3-face)) 11954 11957 (face font-lock-comment-delimiter-face) 11957 11966 (face font-lock-comment-face) 11993 11997 (face font-lock-constant-face) 11999 12002 (face font-lock-comment-delimiter-face) 12002 12037 (face font-lock-comment-face) 12041 12042 (face (rainbow-delimiters-depth-3-face)) 12042 12043 (face (rainbow-delimiters-depth-2-face)) 12059 12060 (face (rainbow-delimiters-depth-2-face)) 12060 12074 (face font-lock-string-face) 12085 12086 (face (rainbow-delimiters-depth-2-face)) 12102 12103 (face (rainbow-delimiters-depth-2-face)) 12103 12126 (face font-lock-string-face) 12128 12129 (face (rainbow-delimiters-depth-3-face)) 12129 12130 (face (rainbow-delimiters-depth-4-face)) 12140 12141 (face (rainbow-delimiters-depth-4-face)) 12141 12142 (face (rainbow-delimiters-depth-3-face)) 12146 12147 (face (rainbow-delimiters-depth-3-face)) 12156 12159 (face font-lock-keyword-face) 12160 12161 (face (rainbow-delimiters-depth-4-face)) 12161 12166 (face font-lock-keyword-face) 12167 12170 (face font-lock-variable-name-face) 12171 12173 (face font-lock-keyword-face) 12182 12183 (face (rainbow-delimiters-depth-4-face)) 12184 12185 (face (rainbow-delimiters-depth-4-face)) 12198 12203 (face font-lock-keyword-face) 12204 12207 (face font-lock-variable-name-face) 12240 12242 (face font-lock-keyword-face) 12243 12244 (face (rainbow-delimiters-depth-5-face)) 12264 12265 (face (rainbow-delimiters-depth-6-face)) 12265 12272 (face font-lock-string-face) 12272 12273 (face (rainbow-delimiters-depth-6-face)) 12273 12274 (face (rainbow-delimiters-depth-5-face)) 12275 12283 (face font-lock-keyword-face) 12297 12302 (face font-lock-keyword-face) 12303 12307 (face font-lock-variable-name-face) 12390 12392 (face font-lock-keyword-face) 12393 12394 (face (rainbow-delimiters-depth-5-face)) 12399 12400 (face (rainbow-delimiters-depth-5-face)) 12401 12409 (face font-lock-keyword-face) 12423 12428 (face font-lock-keyword-face) 12429 12433 (face font-lock-variable-name-face) 12453 12464 (face font-lock-string-face) 12467 12473 (face font-lock-string-face) 12486 12491 (face font-lock-keyword-face) 12492 12499 (face font-lock-variable-name-face) 12518 12519 (face (rainbow-delimiters-depth-5-face)) 12522 12523 (face (rainbow-delimiters-depth-5-face)) 12537 12542 (face font-lock-keyword-face) 12543 12556 (face font-lock-variable-name-face) 12571 12572 (face (rainbow-delimiters-depth-5-face)) 12614 12615 (face (rainbow-delimiters-depth-5-face)) 12628 12630 (face font-lock-keyword-face) 12631 12632 (face (rainbow-delimiters-depth-5-face)) 12646 12647 (face (rainbow-delimiters-depth-5-face)) 12648 12649 (face (rainbow-delimiters-depth-5-face)) 12678 12679 (face (rainbow-delimiters-depth-6-face)) 12679 12680 (face (rainbow-delimiters-depth-7-face)) 12701 12702 (face (rainbow-delimiters-depth-7-face)) 12702 12703 (face (rainbow-delimiters-depth-6-face)) 12716 12717 (face (rainbow-delimiters-depth-5-face)) 12747 12748 (face (rainbow-delimiters-depth-5-face)) 12760 12761 (face (rainbow-delimiters-depth-5-face)) 12770 12771 (face (rainbow-delimiters-depth-4-face)) 12791 12792 (face (rainbow-delimiters-depth-4-face)) 12792 12829 (face font-lock-string-face) 12829 12830 (face (rainbow-delimiters-depth-4-face)) 12835 12836 (face (rainbow-delimiters-depth-3-face)) 12836 12837 (face (rainbow-delimiters-depth-2-face)) 12853 12854 (face (rainbow-delimiters-depth-2-face)) 12854 12873 (face font-lock-string-face) 12875 12876 (face (rainbow-delimiters-depth-3-face)) 12876 12877 (face (rainbow-delimiters-depth-4-face)) 12909 12910 (face (rainbow-delimiters-depth-4-face)) 12910 12911 (face (rainbow-delimiters-depth-3-face)) 12915 12916 (face (rainbow-delimiters-depth-3-face)) 12925 12927 (face font-lock-keyword-face) 12928 12929 (face (rainbow-delimiters-depth-4-face)) 12931 12932 (face (rainbow-delimiters-depth-4-face)) 12948 12949 (face (rainbow-delimiters-depth-4-face)) 12953 12954 (face (rainbow-delimiters-depth-5-face)) 12962 12966 (face font-lock-constant-face) 12967 12968 (face (rainbow-delimiters-depth-5-face)) 12968 12969 (face (rainbow-delimiters-depth-4-face)) 12979 12981 (face font-lock-keyword-face) 12982 12983 (face (rainbow-delimiters-depth-4-face)) 12998 13004 (face font-lock-string-face) 13004 13005 (face (rainbow-delimiters-depth-4-face)) 13006 13007 (face (rainbow-delimiters-depth-4-face)) 13035 13040 (face font-lock-constant-face) 13064 13065 (face (rainbow-delimiters-depth-5-face)) 13065 13083 (face font-lock-string-face) 13083 13084 (face (rainbow-delimiters-depth-5-face)) 13093 13094 (face (rainbow-delimiters-depth-4-face)) 13104 13106 (face font-lock-keyword-face) 13107 13108 (face (rainbow-delimiters-depth-4-face)) 13123 13130 (face font-lock-string-face) 13130 13131 (face (rainbow-delimiters-depth-4-face)) 13132 13133 (face (rainbow-delimiters-depth-4-face)) 13146 13151 (face font-lock-keyword-face) 13152 13167 (face font-lock-variable-name-face) 13232 13234 (face font-lock-keyword-face) 13235 13236 (face (rainbow-delimiters-depth-5-face)) 13268 13269 (face (rainbow-delimiters-depth-5-face)) 13270 13271 (face (rainbow-delimiters-depth-5-face)) 13303 13307 (face font-lock-constant-face) 13335 13336 (face (rainbow-delimiters-depth-6-face)) 13336 13404 (face font-lock-string-face) 13404 13405 (face (rainbow-delimiters-depth-6-face)) 13432 13433 (face (rainbow-delimiters-depth-6-face)) 13433 13434 (face (rainbow-delimiters-depth-7-face)) 13434 13435 (face (rainbow-delimiters-depth-7-face)) 13439 13440 (face (rainbow-delimiters-depth-7-face)) 13456 13461 (face font-lock-constant-face) 13471 13472 (face (rainbow-delimiters-depth-8-face)) 13472 13473 (face (rainbow-delimiters-depth-8-face)) 13474 13475 (face (rainbow-delimiters-depth-7-face)) 13492 13493 (face (rainbow-delimiters-depth-6-face)) 13506 13507 (face (rainbow-delimiters-depth-5-face)) 13508 13512 (face font-lock-keyword-face) 13513 13515 (face font-lock-keyword-face) 13516 13517 (face (rainbow-delimiters-depth-5-face)) 13533 13534 (face (rainbow-delimiters-depth-5-face)) 13535 13536 (face (rainbow-delimiters-depth-5-face)) 13564 13565 (face (rainbow-delimiters-depth-6-face)) 13565 13640 (face font-lock-string-face) 13640 13641 (face (rainbow-delimiters-depth-6-face)) 13654 13655 (face (rainbow-delimiters-depth-5-face)) 13664 13665 (face (rainbow-delimiters-depth-4-face)) 13670 13671 (face (rainbow-delimiters-depth-3-face)) 13671 13672 (face (rainbow-delimiters-depth-2-face)) 13678 13683 (face font-lock-keyword-face) 13684 13699 (face font-lock-variable-name-face) 13702 13703 (face (rainbow-delimiters-depth-2-face)) 13703 13704 (face (rainbow-delimiters-depth-2-face)) 13720 13721 (face (rainbow-delimiters-depth-2-face)) 13721 13738 (face font-lock-string-face) 13740 13745 (face font-lock-keyword-face) 13746 13747 (face (rainbow-delimiters-depth-3-face)) 13747 13748 (face (rainbow-delimiters-depth-4-face)) 13764 13765 (face (rainbow-delimiters-depth-4-face)) 13765 13766 (face (rainbow-delimiters-depth-3-face)) 13770 13771 (face (rainbow-delimiters-depth-3-face)) 13780 13782 (face font-lock-keyword-face) 13783 13784 (face (rainbow-delimiters-depth-4-face)) 13793 13801 (face font-lock-string-face) 13801 13802 (face (rainbow-delimiters-depth-4-face)) 13803 13809 (face font-lock-keyword-face) 13819 13824 (face font-lock-keyword-face) 13825 13828 (face font-lock-variable-name-face) 13839 13840 (face (rainbow-delimiters-depth-4-face)) 13841 13842 (face (rainbow-delimiters-depth-4-face)) 13852 13857 (face font-lock-keyword-face) 13858 13870 (face font-lock-variable-name-face) 13873 13874 (face (rainbow-delimiters-depth-4-face)) 13899 13900 (face (rainbow-delimiters-depth-4-face)) 13916 13918 (face font-lock-keyword-face) 13919 13920 (face (rainbow-delimiters-depth-4-face)) 13928 13929 (face (rainbow-delimiters-depth-5-face)) 13929 13930 (face (rainbow-delimiters-depth-5-face)) 13954 13955 (face (rainbow-delimiters-depth-4-face)) 13956 13962 (face font-lock-keyword-face) 13972 13977 (face font-lock-keyword-face) 13978 13984 (face font-lock-variable-name-face) 14013 14015 (face font-lock-keyword-face) 14016 14017 (face (rainbow-delimiters-depth-4-face)) 14032 14033 (face (rainbow-delimiters-depth-5-face)) 14033 14040 (face font-lock-string-face) 14040 14041 (face (rainbow-delimiters-depth-5-face)) 14041 14042 (face (rainbow-delimiters-depth-4-face)) 14043 14049 (face font-lock-keyword-face) 14059 14061 (face font-lock-keyword-face) 14062 14063 (face (rainbow-delimiters-depth-4-face)) 14077 14078 (face (rainbow-delimiters-depth-4-face)) 14079 14080 (face (rainbow-delimiters-depth-4-face)) 14093 14098 (face font-lock-keyword-face) 14099 14103 (face font-lock-variable-name-face) 14186 14188 (face font-lock-keyword-face) 14189 14190 (face (rainbow-delimiters-depth-5-face)) 14194 14195 (face (rainbow-delimiters-depth-5-face)) 14196 14197 (face (rainbow-delimiters-depth-5-face)) 14214 14217 (face font-lock-comment-delimiter-face) 14217 14248 (face font-lock-comment-face) 14264 14269 (face font-lock-keyword-face) 14270 14283 (face font-lock-variable-name-face) 14304 14305 (face (rainbow-delimiters-depth-6-face)) 14309 14310 (face (rainbow-delimiters-depth-6-face)) 14327 14329 (face font-lock-keyword-face) 14330 14331 (face (rainbow-delimiters-depth-6-face)) 14344 14345 (face (rainbow-delimiters-depth-6-face)) 14346 14347 (face (rainbow-delimiters-depth-6-face)) 14379 14380 (face (rainbow-delimiters-depth-7-face)) 14380 14419 (face font-lock-string-face) 14419 14420 (face (rainbow-delimiters-depth-7-face)) 14441 14447 (face font-lock-keyword-face) 14464 14465 (face (rainbow-delimiters-depth-6-face)) 14483 14488 (face font-lock-keyword-face) 14489 14496 (face font-lock-variable-name-face) 14515 14516 (face (rainbow-delimiters-depth-6-face)) 14522 14523 (face (rainbow-delimiters-depth-6-face)) 14552 14553 (face (rainbow-delimiters-depth-6-face)) 14553 14554 (face (rainbow-delimiters-depth-7-face)) 14561 14572 (face font-lock-string-face) 14588 14589 (face (rainbow-delimiters-depth-7-face)) 14589 14590 (face (rainbow-delimiters-depth-6-face)) 14623 14624 (face (rainbow-delimiters-depth-6-face)) 14639 14640 (face (rainbow-delimiters-depth-6-face)) 14667 14668 (face (rainbow-delimiters-depth-6-face)) 14682 14683 (face (rainbow-delimiters-depth-7-face)) 14683 14684 (syntax-table (7 . 47) face font-lock-string-face) 14684 14701 (face font-lock-string-face) 14701 14702 (syntax-table (7 . 47) face font-lock-string-face) 14704 14706 (face font-lock-string-face) 14706 14707 (face (rainbow-delimiters-depth-7-face)) 14709 14721 (face font-lock-string-face) 14727 14728 (face (rainbow-delimiters-depth-6-face)) 14741 14742 (face (rainbow-delimiters-depth-5-face)) 14755 14761 (face font-lock-keyword-face) 14770 14771 (face (rainbow-delimiters-depth-4-face)) 14773 14781 (fontified t) 14781 14786 (face font-lock-keyword-face fontified t) 14786 14787 (fontified t) 14787 14791 (face font-lock-variable-name-face fontified t) 14791 14870 (fontified t) 14870 14872 (face font-lock-keyword-face fontified t) 14872 14873 (fontified t) 14873 14874 (face (rainbow-delimiters-depth-4-face) fontified t) 14874 14879 (fontified t) 14879 14880 (face (rainbow-delimiters-depth-4-face) fontified t) 14880 14881 (fontified t) 14881 14887 (face font-lock-keyword-face fontified t) 14887 14897 (fontified t) 14897 14902 (face font-lock-keyword-face fontified t) 14902 14903 (fontified t) 14903 14915 (face font-lock-variable-name-face fontified t) 14915 14932 (fontified t) 14932 14933 (face (rainbow-delimiters-depth-4-face) fontified t) 14933 14934 (face font-lock-string-face fontified t syntax-table (7 . 47)) 14934 14951 (face font-lock-string-face fontified t) 14951 14952 (face font-lock-string-face fontified t syntax-table (7 . 47)) 14952 14954 (fontified t) 14954 14956 (face font-lock-string-face fontified t) 14956 14957 (face (rainbow-delimiters-depth-4-face) fontified t) 14957 14967 (fontified t) 14967 14969 (face font-lock-keyword-face fontified t) 14969 14970 (fontified t) 14970 14971 (face (rainbow-delimiters-depth-4-face) fontified t) 14971 14986 (fontified t) 14986 14987 (face (rainbow-delimiters-depth-5-face) fontified t) 14987 14993 (fontified t) 14993 14994 (face (rainbow-delimiters-depth-5-face) fontified t) 14994 14995 (face (rainbow-delimiters-depth-4-face) fontified t) 14995 14996 (fontified t) 14996 14997 (face (rainbow-delimiters-depth-4-face) fontified t) 14997 15022 (fontified t) 15022 15023 (face (rainbow-delimiters-depth-5-face) fontified t) 15023 15038 (fontified t) 15038 15039 (face (rainbow-delimiters-depth-6-face) fontified t) 15039 15045 (fontified t) 15045 15046 (face (rainbow-delimiters-depth-6-face) fontified t) 15046 15052 (fontified t) 15052 15053 (face (rainbow-delimiters-depth-5-face) fontified t) 15053 15081 (fontified t) 15081 15082 (face (rainbow-delimiters-depth-5-face) fontified t) 15082 15088 (fontified t) 15088 15089 (face (rainbow-delimiters-depth-5-face) fontified t) 15089 15100 (fontified t) 15100 15101 (face (rainbow-delimiters-depth-5-face) fontified t) 15101 15105 (fontified t) 15105 15106 (face (rainbow-delimiters-depth-5-face) fontified t) 15106 15115 (fontified t) 15115 15116 (face (rainbow-delimiters-depth-4-face) fontified t) 15116 15117 (fontified t) 15117 15121 (face font-lock-keyword-face fontified t) 15121 15122 (fontified t) 15122 15123 (face (rainbow-delimiters-depth-4-face) fontified t) 15123 15151 (fontified t) 15151 15152 (face (rainbow-delimiters-depth-5-face) fontified t) 15152 15158 (fontified t) 15158 15159 (face (rainbow-delimiters-depth-5-face) fontified t) 15159 15162 (fontified t) 15162 15163 (face (rainbow-delimiters-depth-5-face) fontified t) 15163 15171 (fontified t) 15171 15172 (face (rainbow-delimiters-depth-6-face) fontified t) 15172 15176 (fontified t) 15176 15177 (face (rainbow-delimiters-depth-6-face) fontified t) 15177 15178 (fontified t) 15178 15179 (face (rainbow-delimiters-depth-5-face) fontified t) 15179 15188 (fontified t) 15188 15189 (face (rainbow-delimiters-depth-4-face) fontified t) 15189 15214 (fontified t) 15214 15215 (face (rainbow-delimiters-depth-4-face) fontified t) 15215 15221 (fontified t) 15221 15222 (face (rainbow-delimiters-depth-4-face) fontified t) 15222 15241 (fontified t) 15241 15242 (face (rainbow-delimiters-depth-4-face) fontified t) 15242 15247 (face font-lock-keyword-face fontified t) 15247 15248 (fontified t) 15248 15249 (face (rainbow-delimiters-depth-5-face) fontified t) 15249 15250 (face (rainbow-delimiters-depth-5-face) fontified t) 15250 15254 (fontified t) 15254 15255 (face (rainbow-delimiters-depth-5-face) fontified t) 15255 15268 (fontified t) 15268 15273 (face font-lock-keyword-face fontified t) 15273 15274 (fontified t) 15274 15282 (face font-lock-variable-name-face fontified t) 15282 15300 (fontified t) 15300 15301 (face (rainbow-delimiters-depth-6-face) fontified t) 15301 15307 (fontified t) 15307 15308 (face (rainbow-delimiters-depth-6-face) fontified t) 15308 15319 (fontified t) 15319 15320 (face (rainbow-delimiters-depth-6-face) fontified t) 15320 15323 (face font-lock-string-face fontified t) 15323 15324 (face (rainbow-delimiters-depth-6-face) fontified t) 15324 15337 (fontified t) 15337 15343 (face font-lock-keyword-face fontified t) 15343 15359 (fontified t) 15359 15360 (face (rainbow-delimiters-depth-6-face) fontified t) 15360 15366 (fontified t) 15366 15367 (face (rainbow-delimiters-depth-6-face) fontified t) 15367 15391 (fontified t) 15391 15392 (face (rainbow-delimiters-depth-6-face) fontified t) 15392 15406 (fontified t) 15406 15410 (face font-lock-string-face fontified t) 15410 15420 (fontified t) 15420 15421 (face (rainbow-delimiters-depth-6-face) fontified t) 15421 15435 (fontified t) 15435 15437 (face font-lock-keyword-face fontified t) 15437 15438 (fontified t) 15438 15439 (face (rainbow-delimiters-depth-6-face) fontified t) 15439 15483 (fontified t) 15483 15484 (face (rainbow-delimiters-depth-6-face) fontified t) 15484 15485 (fontified t) 15485 15486 (face (rainbow-delimiters-depth-6-face) fontified t) 15486 15514 (fontified t) 15514 15515 (face (rainbow-delimiters-depth-7-face) fontified t) 15515 15591 (face font-lock-string-face fontified t) 15591 15592 (face (rainbow-delimiters-depth-7-face) fontified t) 15592 15609 (fontified t) 15609 15615 (face font-lock-keyword-face fontified t) 15615 15628 (fontified t) 15628 15629 (face (rainbow-delimiters-depth-6-face) fontified t) 15629 15643 (fontified t) 15643 15646 (face font-lock-keyword-face fontified t) 15646 15647 (fontified t) 15647 15648 (face (rainbow-delimiters-depth-6-face) fontified t) 15648 15665 (fontified t) 15665 15670 (face font-lock-keyword-face fontified t) 15670 15671 (fontified t) 15671 15676 (face font-lock-variable-name-face fontified t) 15676 15679 (fontified t) 15679 15684 (face font-lock-keyword-face fontified t) 15684 15694 (fontified t) 15694 15695 (face (rainbow-delimiters-depth-7-face) fontified t) 15695 15711 (fontified t) 15711 15712 (face (rainbow-delimiters-depth-7-face) fontified t) 15712 15729 (fontified t) 15729 15734 (face font-lock-keyword-face fontified t) 15734 15749 (fontified t) 15749 15750 (face (rainbow-delimiters-depth-7-face) fontified t) 15750 15769 (fontified t) 15769 15770 (face (rainbow-delimiters-depth-7-face) fontified t) 15770 15797 (fontified t) 15797 15798 (face (rainbow-delimiters-depth-7-face) fontified t) 15798 15812 (fontified t) 15812 15817 (face font-lock-string-face fontified t) 15817 15824 (fontified t) 15824 15825 (face (rainbow-delimiters-depth-7-face) fontified t) 15825 15838 (fontified t) 15838 15839 (face (rainbow-delimiters-depth-6-face) fontified t) 15839 15840 (fontified t) 15840 15845 (face font-lock-keyword-face fontified t) 15845 15846 (fontified t) 15846 15847 (face (rainbow-delimiters-depth-6-face) fontified t) 15847 15850 (fontified t) 15850 15851 (face (rainbow-delimiters-depth-6-face) fontified t) 15851 15852 (fontified t) 15852 15853 (face (rainbow-delimiters-depth-6-face) fontified t) 15853 15883 (fontified t) 15883 15884 (face (rainbow-delimiters-depth-7-face) fontified t) 15884 15894 (face font-lock-string-face fontified t) 15894 15899 (fontified t) 15899 15900 (face (rainbow-delimiters-depth-7-face) fontified t) 15900 15913 (fontified t) 15913 15914 (face (rainbow-delimiters-depth-6-face) fontified t) 15914 15923 (fontified t) 15923 15924 (face (rainbow-delimiters-depth-5-face) fontified t) 15924 15937 (fontified t) 15937 15938 (face (rainbow-delimiters-depth-4-face) fontified t) 15938 15943 (fontified t) 15943 15944 (face (rainbow-delimiters-depth-3-face) fontified t) 15944 15945 (face (rainbow-delimiters-depth-2-face) fontified t) 15945 15946 (fontified t) 15946 15947 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 11731 ("startBot") 15948)) 15947 15949 (fontified t) 15949 15957 (fontified t) 15957 15958 (face (rainbow-delimiters-depth-1-face) fontified t) 15958 15959 (face (rainbow-delimiters-depth-1-face) fontified t)) . 1) (undo-tree-id0 . -3257) (undo-tree-id1 . -3257) (undo-tree-id2 . -3257) (undo-tree-id3 . -81) (undo-tree-id4 . -15958) (undo-tree-id5 . -11154) (undo-tree-id6 . -10555) (undo-tree-id7 . -10555) (undo-tree-id8 . -10555) (undo-tree-id9 . -10599) (undo-tree-id10 . -99) (undo-tree-id11 . -10063) (undo-tree-id12 . -609) (undo-tree-id13 . -10063) (undo-tree-id14 . -1622) (undo-tree-id15 . 10696) (undo-tree-id16 . -4692) (undo-tree-id17 . -5727) (undo-tree-id18 . -5727) (undo-tree-id19 . -609) (undo-tree-id20 . -5727) (undo-tree-id21 . -14862) (undo-tree-id22 . 10696) (undo-tree-id23 . -5184) (undo-tree-id24 . -5184) (undo-tree-id25 . -81) (undo-tree-id26 . -81) (undo-tree-id27 . -81) (undo-tree-id28 . -81) (undo-tree-id29 . -81) (undo-tree-id30 . -81) (undo-tree-id31 . -169) (undo-tree-id32 . -169) (undo-tree-id33 . -169) (undo-tree-id34 . -169) (undo-tree-id35 . -169) (undo-tree-id36 . -169) (undo-tree-id37 . -169) (undo-tree-id38 . -169) (undo-tree-id39 . -169) (undo-tree-id40 . -169) (undo-tree-id41 . -169) (undo-tree-id42 . -169) (undo-tree-id43 . -169) (undo-tree-id44 . -169) (undo-tree-id45 . -169) (undo-tree-id46 . -169) (undo-tree-id47 . -169) (undo-tree-id48 . -169) (undo-tree-id49 . -169) (undo-tree-id50 . -169) (undo-tree-id51 . -169) (undo-tree-id52 . -169) (undo-tree-id53 . -169) (undo-tree-id54 . -5731) (undo-tree-id55 . -15959) 15961) nil (27037 50004 106226 110000) 0 nil])
([nil nil ((nil rear-nonsticky nil 2943 . 2944) (nil fontified nil 2001 . 2944) (2001 . 2944) (#("function guardarLead({ nombre, numero, tiempo_enfermedad, tratamientos, hora_preferida }) {
    const timestamp = new Date().toLocaleString('es-CO', { timeZone: 'America/Bogota' })
    const entrada = `
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Fecha:              ${timestamp}
Nombre:             ${nombre}
N√∫mero:             ${numero}
Tiempo enfermedad:  ${tiempo_enfermedad}
Tratamientos:       ${tratamientos}
Hora preferida:     ${hora_preferida}
Estado:             PENDIENTE LLAMAR
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
`
    fs.appendFileSync(LEADS_FILE, entrada, 'utf-8')
    console.log(`‚úÖ Lead guardado: ${nombre} (${numero})`)
    return `Lead guardado correctamente para ${nombre}`
}" 0 8 (face font-lock-keyword-face fontified t) 8 9 (fontified t) 9 20 (face font-lock-function-name-face fontified t) 20 21 (face (rainbow-delimiters-depth-1-face) fontified t) 21 22 (face (rainbow-delimiters-depth-2-face) fontified t) 22 87 (fontified t) 87 88 (face (rainbow-delimiters-depth-2-face) fontified t) 88 89 (face (rainbow-delimiters-depth-1-face) fontified t) 89 90 (fontified t) 90 91 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 2001 ("guardarLead") 2684) (((nil 0 function 1673 ("logMessage") nil) (nil 0 function 1301 ("getSystemPrompt") nil)) -2305843009213693952 toplevel nil nil nil)) fontified t) 91 96 (fontified t) 96 101 (face font-lock-keyword-face fontified t) 101 102 (fontified t) 102 111 (face font-lock-variable-name-face fontified t) 111 114 (fontified t) 114 117 (face font-lock-keyword-face fontified t) 117 118 (fontified t) 118 122 (face font-lock-type-face fontified t) 122 123 (face (rainbow-delimiters-depth-2-face) fontified t) 123 124 (face (rainbow-delimiters-depth-2-face) fontified t) 124 139 (fontified t) 139 140 (face (rainbow-delimiters-depth-2-face) fontified t) 140 147 (face font-lock-string-face fontified t) 147 149 (fontified t) 149 150 (face (rainbow-delimiters-depth-3-face) fontified t) 150 161 (fontified t) 161 177 (face font-lock-string-face fontified t) 177 178 (fontified t) 178 179 (face (rainbow-delimiters-depth-3-face) fontified t) 179 180 (face (rainbow-delimiters-depth-2-face) fontified t) 180 185 (fontified t) 185 190 (face font-lock-keyword-face fontified t) 190 191 (fontified t) 191 198 (face font-lock-variable-name-face fontified t) 198 201 (fontified t) 201 515 (face font-lock-string-face fontified t) 515 537 (fontified t) 537 538 (face (rainbow-delimiters-depth-2-face) fontified t) 538 559 (fontified t) 559 566 (face font-lock-string-face fontified t) 566 567 (face (rainbow-delimiters-depth-2-face) fontified t) 567 583 (fontified t) 583 584 (face (rainbow-delimiters-depth-2-face) fontified t) 584 624 (face font-lock-string-face fontified t) 624 625 (face (rainbow-delimiters-depth-2-face) fontified t) 625 630 (fontified t) 630 636 (face font-lock-keyword-face fontified t) 636 637 (fontified t) 637 681 (face font-lock-string-face fontified t) 681 682 (fontified t) 682 683 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 2001 ("guardarLead") 2684) fontified t)) . 2001) (undo-tree-id92 . -13) (undo-tree-id93 . -683) (undo-tree-id94 . -682) (undo-tree-id95 . -320) (undo-tree-id96 . -370) (undo-tree-id97 . -370) (undo-tree-id98 . -320) (undo-tree-id99 . -320) (undo-tree-id100 . -320) (undo-tree-id101 . -13) (undo-tree-id102 . -13) (undo-tree-id103 . -13) (undo-tree-id104 . -13) (undo-tree-id105 . -13) (undo-tree-id106 . -13) (undo-tree-id107 . -13) (undo-tree-id108 . -13) (undo-tree-id109 . -13) (undo-tree-id110 . -13) (undo-tree-id111 . -13) (undo-tree-id112 . -13) (undo-tree-id113 . -13) (undo-tree-id114 . -13) (undo-tree-id115 . -13) (undo-tree-id116 . -13) (undo-tree-id117 . -13) (undo-tree-id118 . -13) (undo-tree-id119 . -13) (undo-tree-id120 . -13) (undo-tree-id121 . -13) (undo-tree-id122 . -13) (undo-tree-id123 . -13) (undo-tree-id124 . -13) (undo-tree-id125 . -13) (undo-tree-id126 . -13) (undo-tree-id127 . -13) (undo-tree-id128 . -13) (undo-tree-id129 . -13) (undo-tree-id130 . -13) (undo-tree-id131 . -13) (undo-tree-id132 . -13) (undo-tree-id133 . -13) (undo-tree-id134 . -13) (undo-tree-id135 . -13) (undo-tree-id136 . -13) (undo-tree-id137 . -13) (undo-tree-id138 . -13) (undo-tree-id139 . -13) (undo-tree-id140 . -13) (undo-tree-id141 . -13) (undo-tree-id142 . -13) (undo-tree-id143 . -13) (undo-tree-id144 . -13) (undo-tree-id145 . -13) (undo-tree-id146 . -13) (undo-tree-id147 . -13) (undo-tree-id148 . -13) (undo-tree-id149 . -13) (undo-tree-id150 . -13) (undo-tree-id151 . -13) (undo-tree-id152 . -13) (undo-tree-id153 . -13) (undo-tree-id154 . -13) (undo-tree-id155 . -13) (undo-tree-id156 . -13) (undo-tree-id157 . -13) (undo-tree-id158 . -13) (undo-tree-id159 . -13) (undo-tree-id160 . -13) (undo-tree-id161 . -13) (undo-tree-id162 . -13) (undo-tree-id163 . -13) (undo-tree-id164 . -13) (undo-tree-id165 . -13) (undo-tree-id166 . -13) (undo-tree-id167 . -13) (undo-tree-id168 . -13) (undo-tree-id169 . -13) (undo-tree-id170 . -13) (undo-tree-id171 . -105) (undo-tree-id172 . -105) (undo-tree-id173 . -105) (undo-tree-id174 . -105) (undo-tree-id175 . -105) (undo-tree-id176 . -105) (undo-tree-id177 . -105) (undo-tree-id178 . -105) (undo-tree-id179 . -105) (undo-tree-id180 . -105) (undo-tree-id181 . -105) (undo-tree-id182 . -105) (undo-tree-id183 . -105) (undo-tree-id184 . -105) (undo-tree-id185 . -105) (undo-tree-id186 . -105) (undo-tree-id187 . -105) (undo-tree-id188 . -194) (undo-tree-id189 . -194) (undo-tree-id190 . -194) (undo-tree-id191 . -194) (undo-tree-id192 . -194) (undo-tree-id193 . -194) (undo-tree-id194 . -194) (undo-tree-id195 . -194) (undo-tree-id196 . -194) (undo-tree-id197 . -194) (undo-tree-id198 . -194) (undo-tree-id199 . -194) (undo-tree-id200 . -216) (undo-tree-id201 . -216) (undo-tree-id202 . -216) (undo-tree-id203 . -216) (undo-tree-id204 . -216) (undo-tree-id205 . -216) (undo-tree-id206 . -216) (undo-tree-id207 . -216) (undo-tree-id208 . -216) (undo-tree-id209 . -216) (undo-tree-id210 . -216) (undo-tree-id211 . -216) (undo-tree-id212 . -249) (undo-tree-id213 . -249) (undo-tree-id214 . -249) (undo-tree-id215 . -249) (undo-tree-id216 . -249) (undo-tree-id217 . -249) (undo-tree-id218 . -249) (undo-tree-id219 . -249) (undo-tree-id220 . -249) (undo-tree-id221 . -249) (undo-tree-id222 . -249) (undo-tree-id223 . -249) (undo-tree-id224 . -282) (undo-tree-id225 . -282) (undo-tree-id226 . -282) (undo-tree-id227 . -282) (undo-tree-id228 . -282) (undo-tree-id229 . -282) (undo-tree-id230 . -282) (undo-tree-id231 . -282) (undo-tree-id232 . -282) (undo-tree-id233 . -282) (undo-tree-id234 . -282) (undo-tree-id235 . -282) (undo-tree-id236 . -312) (undo-tree-id237 . -312) (undo-tree-id238 . -312) (undo-tree-id239 . -312) (undo-tree-id240 . -312) (undo-tree-id241 . -312) (undo-tree-id242 . -312) (undo-tree-id243 . -312) (undo-tree-id244 . -312) (undo-tree-id245 . -312) (undo-tree-id246 . -312) (undo-tree-id247 . -312) (undo-tree-id248 . -342) (undo-tree-id249 . -342) (undo-tree-id250 . -342) (undo-tree-id251 . -342) (undo-tree-id252 . -342) (undo-tree-id253 . -342) (undo-tree-id254 . -342) (undo-tree-id255 . -342) (undo-tree-id256 . -342) (undo-tree-id257 . -342) (undo-tree-id258 . -342) (undo-tree-id259 . -342) (undo-tree-id260 . -383) (undo-tree-id261 . -383) (undo-tree-id262 . -383) (undo-tree-id263 . -383) (undo-tree-id264 . -383) (undo-tree-id265 . -383) (undo-tree-id266 . -383) (undo-tree-id267 . -383) (undo-tree-id268 . -383) (undo-tree-id269 . -383) (undo-tree-id270 . -383) (undo-tree-id271 . -383) (undo-tree-id272 . -419) (undo-tree-id273 . -419) (undo-tree-id274 . -419) (undo-tree-id275 . -419) (undo-tree-id276 . -419) (undo-tree-id277 . -419) (undo-tree-id278 . -419) (undo-tree-id279 . -419) (undo-tree-id280 . -419) (undo-tree-id281 . -419) (undo-tree-id282 . -419) (undo-tree-id283 . -419) (undo-tree-id284 . -457) (undo-tree-id285 . -457) (undo-tree-id286 . -457) (undo-tree-id287 . -457) (undo-tree-id288 . -457) (undo-tree-id289 . -457) (undo-tree-id290 . -457) (undo-tree-id291 . -457) (undo-tree-id292 . -457) (undo-tree-id293 . -457) (undo-tree-id294 . -457) (undo-tree-id295 . -457) (undo-tree-id296 . -457) (undo-tree-id297 . -457) (undo-tree-id298 . -457) (undo-tree-id299 . -457) (undo-tree-id300 . -457) (undo-tree-id301 . -494) (undo-tree-id302 . -494) (undo-tree-id303 . -494) (undo-tree-id304 . -494) (undo-tree-id305 . -494) (undo-tree-id306 . -494) (undo-tree-id307 . -494) (undo-tree-id308 . -494) (undo-tree-id309 . -494) (undo-tree-id310 . -494) (undo-tree-id311 . -494) (undo-tree-id312 . -494) (undo-tree-id313 . -494) (undo-tree-id314 . -494) (undo-tree-id315 . -494) (undo-tree-id316 . -494) (undo-tree-id317 . -494) (undo-tree-id318 . -515) (undo-tree-id319 . -515) (undo-tree-id320 . -515) (undo-tree-id321 . -515) (undo-tree-id322 . -515) (undo-tree-id323 . -515) (undo-tree-id324 . -515) (undo-tree-id325 . -515) (undo-tree-id326 . -515) (undo-tree-id327 . -515) (undo-tree-id328 . -515) (undo-tree-id329 . -515) (undo-tree-id330 . -515) (undo-tree-id331 . -515) (undo-tree-id332 . -515) (undo-tree-id333 . -515) (undo-tree-id334 . -515) (undo-tree-id335 . -529) (undo-tree-id336 . -529) (undo-tree-id337 . -529) (undo-tree-id338 . -529) (undo-tree-id339 . -529) (undo-tree-id340 . -529) (undo-tree-id341 . -529) (undo-tree-id342 . -529) (undo-tree-id343 . -529) (undo-tree-id344 . -529) (undo-tree-id345 . -529) (undo-tree-id346 . -529) (undo-tree-id347 . -529) (undo-tree-id348 . -529) (undo-tree-id349 . -529) (undo-tree-id350 . -529) (undo-tree-id351 . -529) (undo-tree-id352 . -581) (undo-tree-id353 . -581) (undo-tree-id354 . -581) (undo-tree-id355 . -581) (undo-tree-id356 . -581) (undo-tree-id357 . -581) (undo-tree-id358 . -581) (undo-tree-id359 . -581) (undo-tree-id360 . -581) (undo-tree-id361 . -581) (undo-tree-id362 . -581) (undo-tree-id363 . -581) (undo-tree-id364 . -581) (undo-tree-id365 . -581) (undo-tree-id366 . -581) (undo-tree-id367 . -581) (undo-tree-id368 . -581) (undo-tree-id369 . -639) (undo-tree-id370 . -639) (undo-tree-id371 . -639) (undo-tree-id372 . -639) (undo-tree-id373 . -639) (undo-tree-id374 . -639) (undo-tree-id375 . -639) (undo-tree-id376 . -639) (undo-tree-id377 . -639) (undo-tree-id378 . -639) (undo-tree-id379 . -639) (undo-tree-id380 . -639) (undo-tree-id381 . -639) (undo-tree-id382 . -639) (undo-tree-id383 . -639) (undo-tree-id384 . -639) (undo-tree-id385 . -639) (undo-tree-id386 . -682) (undo-tree-id387 . -683) (undo-tree-id388 . -683) (undo-tree-id389 . -683) (undo-tree-id390 . -683) (undo-tree-id391 . -683) (undo-tree-id392 . -683) (undo-tree-id393 . -683) (undo-tree-id394 . -683) (undo-tree-id395 . -683) (undo-tree-id396 . -683) (undo-tree-id397 . -683) (undo-tree-id398 . -683) (undo-tree-id399 . -683) (undo-tree-id400 . -683) (undo-tree-id401 . -683) (undo-tree-id402 . -13) (undo-tree-id403 . -683) (undo-tree-id404 . -683) (undo-tree-id405 . -683) (undo-tree-id406 . -683) 2685 (t 27037 50004 107766 618000)) nil (27037 50947 313549 696000) 0 nil])
([nil nil ((#("    " 0 4 (fontified t)) . -2182)) nil (27037 50947 313334 653000) 0 nil])
([nil nil ((614 . 615) (t 27037 50947 315223 663000) 567) nil (27037 50973 611286 624000) 0 nil])
([nil nil ((nil rear-nonsticky nil 666 . 667) (nil fontified nil 615 . 667) (615 . 667)) nil (27037 50973 611285 985000) 0 nil])
([nil nil ((#("const LEADS_FILE       = path.join(__dirname, 'leads.txt')
" 0 5 (face font-lock-keyword-face fontified t) 5 6 (fontified t) 6 16 (face font-lock-variable-name-face fontified t) 16 34 (fontified t) 34 35 (face (rainbow-delimiters-depth-1-face) fontified t) 35 46 (fontified t) 46 57 (face font-lock-string-face fontified t) 57 58 (face (rainbow-delimiters-depth-1-face) fontified t) 58 59 (fontified t)) . 556) (undo-tree-id407 . -59) (undo-tree-id408 . -58) (undo-tree-id409 . -11) (undo-tree-id410 . -11) (undo-tree-id411 . -11) (undo-tree-id412 . -11) (undo-tree-id413 . -11) (undo-tree-id414 . -11) (undo-tree-id415 . -11) (undo-tree-id416 . -11) (undo-tree-id417 . -11) (undo-tree-id418 . -11) (undo-tree-id419 . -11) (undo-tree-id420 . -11) (undo-tree-id421 . -11) (undo-tree-id422 . -11) (undo-tree-id423 . -11) (undo-tree-id424 . -11) (undo-tree-id425 . -11) (undo-tree-id426 . -11) (undo-tree-id427 . -11) (undo-tree-id428 . -11) (undo-tree-id429 . -11) (undo-tree-id430 . -11) (undo-tree-id431 . -11) (undo-tree-id432 . -11) (undo-tree-id433 . -11) (undo-tree-id434 . -11) (undo-tree-id435 . -11) (undo-tree-id436 . -11) (undo-tree-id437 . -11) (undo-tree-id438 . -11) (undo-tree-id439 . -11) (undo-tree-id440 . -11) (undo-tree-id441 . -11) (undo-tree-id442 . -11) (undo-tree-id443 . -11) (undo-tree-id444 . -11) (undo-tree-id445 . -11) (undo-tree-id446 . -11) (undo-tree-id447 . -11) (undo-tree-id448 . -11) (undo-tree-id449 . -11) (undo-tree-id450 . -11) (undo-tree-id451 . -11) (undo-tree-id452 . -11) (undo-tree-id453 . -11) (undo-tree-id454 . -11) (undo-tree-id455 . -11) (undo-tree-id456 . -11) (undo-tree-id457 . -11) (undo-tree-id458 . -11) (undo-tree-id459 . -59) (undo-tree-id460 . -59) (undo-tree-id461 . -59) (undo-tree-id462 . -59) (undo-tree-id463 . -59) (undo-tree-id464 . -59) (undo-tree-id465 . -59) (undo-tree-id466 . -59) (undo-tree-id467 . -59) (undo-tree-id468 . -59) (undo-tree-id469 . -59) (undo-tree-id470 . -59) (undo-tree-id471 . -59) (undo-tree-id472 . -59) (undo-tree-id473 . -59) (undo-tree-id474 . -59) (undo-tree-id475 . -59) (undo-tree-id476 . -59) (undo-tree-id477 . -59) (undo-tree-id478 . -59) (undo-tree-id479 . -59) (undo-tree-id480 . -59) (undo-tree-id481 . -59) (undo-tree-id482 . -59) (undo-tree-id483 . -59) (undo-tree-id484 . -59) (undo-tree-id485 . -59) (undo-tree-id486 . -59) (undo-tree-id487 . -59) (undo-tree-id488 . -59) (undo-tree-id489 . -59) (undo-tree-id490 . -59) (undo-tree-id491 . -59) (undo-tree-id492 . -59) (undo-tree-id493 . -59) (undo-tree-id494 . -59) (undo-tree-id495 . -59) (undo-tree-id496 . -59) (undo-tree-id497 . -59) (undo-tree-id498 . -59) (undo-tree-id499 . -51) (undo-tree-id500 . -51) (undo-tree-id501 . -51) (undo-tree-id502 . -51) (undo-tree-id503 . -51) (undo-tree-id504 . -51) (undo-tree-id505 . -51) (undo-tree-id506 . -51) (undo-tree-id507 . -51) (undo-tree-id508 . -51) (undo-tree-id509 . -51) (undo-tree-id510 . -51) (undo-tree-id511 . -51) (undo-tree-id512 . -51) (undo-tree-id513 . -51) (undo-tree-id514 . -51) (undo-tree-id515 . -51) (undo-tree-id516 . -51) (undo-tree-id517 . -51) (undo-tree-id518 . -51) (undo-tree-id519 . -11) (undo-tree-id520 . -51) (undo-tree-id521 . -51) (undo-tree-id522 . -51) (undo-tree-id523 . -51) (undo-tree-id524 . -59) 607) nil (27037 50973 611281 238000) 0 nil])
([nil nil ((99 . 100) (t 27037 50973 613351 441000) 82) nil (27040 42058 719811 17000) 0 nil])
([nil nil ((#("
" 0 1 (fontified t)) . 99) (undo-tree-id313 . -1) (undo-tree-id314 . -1) (undo-tree-id315 . -1)) nil (27040 42058 719810 30000) 0 nil])
([nil nil ((#("                numero: {
                    type: 'string',
                    description: 'N√∫mero de WhatsApp del contacto'
                },
" 0 24 (fontified t) 24 25 (face (rainbow-delimiters-depth-5-face) fontified t) 25 52 (fontified t) 52 60 (face font-lock-string-face fontified t) 60 95 (fontified t) 95 128 (face font-lock-string-face fontified t) 128 145 (fontified t) 145 146 (face (rainbow-delimiters-depth-5-face) fontified t) 146 148 (fontified t)) . 4128) (undo-tree-id0 . -135) (undo-tree-id1 . -6) (undo-tree-id2 . -135) (undo-tree-id3 . -147) (undo-tree-id4 . -6) (undo-tree-id5 . -6) (undo-tree-id6 . -6) (undo-tree-id7 . -6) (undo-tree-id8 . -6) (undo-tree-id9 . -6) (undo-tree-id10 . -6) (undo-tree-id11 . -6) (undo-tree-id12 . -32) (undo-tree-id13 . -32) (undo-tree-id14 . -32) (undo-tree-id15 . -32) (undo-tree-id16 . -32) (undo-tree-id17 . -32) (undo-tree-id18 . -32) (undo-tree-id19 . -32) (undo-tree-id20 . -32) (undo-tree-id21 . -32) (undo-tree-id22 . -32) (undo-tree-id23 . -32) (undo-tree-id24 . -32) (undo-tree-id25 . -32) (undo-tree-id26 . -32) (undo-tree-id27 . -32) (undo-tree-id28 . -32) (undo-tree-id29 . -32) (undo-tree-id30 . -32) (undo-tree-id31 . -32) (undo-tree-id32 . -32) (undo-tree-id33 . -32) (undo-tree-id34 . -32) (undo-tree-id35 . -32) (undo-tree-id36 . -32) (undo-tree-id37 . -32) (undo-tree-id38 . -32) (undo-tree-id39 . -32) (undo-tree-id40 . -32) (undo-tree-id41 . -6) (undo-tree-id42 . -6) (undo-tree-id43 . -6) (undo-tree-id44 . -6) (undo-tree-id45 . -6) (undo-tree-id46 . -6) (undo-tree-id47 . -6) (undo-tree-id48 . -6) (undo-tree-id49 . -6) (undo-tree-id50 . -6) (undo-tree-id51 . -6) (undo-tree-id52 . -6) (undo-tree-id53 . -6) (undo-tree-id54 . -6) (undo-tree-id55 . -6) (undo-tree-id56 . -6) (undo-tree-id57 . -6) (undo-tree-id58 . -6) (undo-tree-id59 . -6) (undo-tree-id60 . -6) (undo-tree-id61 . -6) (undo-tree-id62 . -6) (undo-tree-id63 . -6) (undo-tree-id64 . -6) (undo-tree-id65 . -6) (undo-tree-id66 . -6) (undo-tree-id67 . -6) (undo-tree-id68 . -6) (undo-tree-id69 . -6) (undo-tree-id70 . -6) (undo-tree-id71 . -6) (undo-tree-id72 . -6) (undo-tree-id73 . -6) (undo-tree-id74 . -6) (undo-tree-id75 . -6) (undo-tree-id76 . -6) (undo-tree-id77 . -6) (undo-tree-id78 . -6) (undo-tree-id79 . -6) (undo-tree-id80 . -6) (undo-tree-id81 . -6) (undo-tree-id82 . -6) (undo-tree-id83 . -32) (undo-tree-id84 . -32) (undo-tree-id85 . -32) (undo-tree-id86 . -32) (undo-tree-id87 . -32) (undo-tree-id88 . -32) (undo-tree-id89 . -32) (undo-tree-id90 . -32) (undo-tree-id91 . -32) (undo-tree-id92 . -32) (undo-tree-id93 . -32) (undo-tree-id94 . -32) (undo-tree-id95 . -32) (undo-tree-id96 . -32) (undo-tree-id97 . -68) (undo-tree-id98 . -68) (undo-tree-id99 . -68) (undo-tree-id100 . -68) (undo-tree-id101 . -68) (undo-tree-id102 . -68) (undo-tree-id103 . -68) (undo-tree-id104 . -68) (undo-tree-id105 . -68) (undo-tree-id106 . -68) (undo-tree-id107 . -68) (undo-tree-id108 . -68) (undo-tree-id109 . -68) (undo-tree-id110 . -68) (undo-tree-id111 . -68) (undo-tree-id112 . -68) (undo-tree-id113 . -68) (undo-tree-id114 . -68) (undo-tree-id115 . -68) (undo-tree-id116 . -68) (undo-tree-id117 . -68) (undo-tree-id118 . -68) (undo-tree-id119 . -68) (undo-tree-id120 . -68) (undo-tree-id121 . -68) (undo-tree-id122 . -68) (undo-tree-id123 . -68) (undo-tree-id124 . -68) (undo-tree-id125 . -68) (undo-tree-id126 . -32) (undo-tree-id127 . -32) (undo-tree-id128 . -32) (undo-tree-id129 . -32) (undo-tree-id130 . -32) (undo-tree-id131 . -32) (undo-tree-id132 . -32) (undo-tree-id133 . -32) (undo-tree-id134 . -32) (undo-tree-id135 . -32) (undo-tree-id136 . -32) (undo-tree-id137 . -32) (undo-tree-id138 . -32) (undo-tree-id139 . -32) (undo-tree-id140 . -32) (undo-tree-id141 . -32) (undo-tree-id142 . -32) (undo-tree-id143 . -32) (undo-tree-id144 . -32) (undo-tree-id145 . -32) (undo-tree-id146 . -32) (undo-tree-id147 . -32) (undo-tree-id148 . -32) (undo-tree-id149 . -32) (undo-tree-id150 . -32) (undo-tree-id151 . -32) (undo-tree-id152 . -32) (undo-tree-id153 . -32) (undo-tree-id154 . -32) (undo-tree-id155 . -32) (undo-tree-id156 . -32) (undo-tree-id157 . -32) (undo-tree-id158 . -32) (undo-tree-id159 . -32) (undo-tree-id160 . -32) (undo-tree-id161 . -6) (undo-tree-id162 . -6) (undo-tree-id163 . -6) (undo-tree-id164 . -6) (undo-tree-id165 . -6) (undo-tree-id166 . -6) (undo-tree-id167 . -6) (undo-tree-id168 . -6) (undo-tree-id169 . -6) (undo-tree-id170 . -6) (undo-tree-id171 . -6) (undo-tree-id172 . -6) (undo-tree-id173 . -6) (undo-tree-id174 . -6) (undo-tree-id175 . -6) (undo-tree-id176 . -6) (undo-tree-id177 . -6) (undo-tree-id178 . -6) (undo-tree-id179 . -6) (undo-tree-id180 . -6) (undo-tree-id181 . -6) (undo-tree-id182 . -6) (undo-tree-id183 . -6) (undo-tree-id184 . -6) (undo-tree-id185 . -6) (undo-tree-id186 . -6) (undo-tree-id187 . -6) (undo-tree-id188 . -6) (undo-tree-id189 . -6) (undo-tree-id190 . -6) (undo-tree-id191 . -6) (undo-tree-id192 . -6) (undo-tree-id193 . -6) (undo-tree-id194 . -6) (undo-tree-id195 . -6) (undo-tree-id196 . -6) (undo-tree-id197 . -6) (undo-tree-id198 . -6) (undo-tree-id199 . -6) (undo-tree-id200 . -6) (undo-tree-id201 . -6) (undo-tree-id202 . -6) (undo-tree-id203 . -6) (undo-tree-id204 . -6) (undo-tree-id205 . -6) (undo-tree-id206 . -6) (undo-tree-id207 . -6) (undo-tree-id208 . -6) (undo-tree-id209 . -6) (undo-tree-id210 . -6) (undo-tree-id211 . -6) (undo-tree-id212 . -6) (undo-tree-id213 . -6) (undo-tree-id214 . -6) (undo-tree-id215 . -6) (undo-tree-id216 . -6) (undo-tree-id217 . -6) (undo-tree-id218 . -6) (undo-tree-id219 . -32) (undo-tree-id220 . -32) (undo-tree-id221 . -32) (undo-tree-id222 . -32) (undo-tree-id223 . -32) (undo-tree-id224 . -32) (undo-tree-id225 . -32) (undo-tree-id226 . -32) (undo-tree-id227 . -32) (undo-tree-id228 . -32) (undo-tree-id229 . -32) (undo-tree-id230 . -32) (undo-tree-id231 . -32) (undo-tree-id232 . -32) (undo-tree-id233 . -32) (undo-tree-id234 . -32) (undo-tree-id235 . -32) (undo-tree-id236 . -32) (undo-tree-id237 . -32) (undo-tree-id238 . -32) (undo-tree-id239 . -32) (undo-tree-id240 . -32) (undo-tree-id241 . -32) (undo-tree-id242 . -32) (undo-tree-id243 . -32) (undo-tree-id244 . -32) (undo-tree-id245 . -32) (undo-tree-id246 . -32) (undo-tree-id247 . -32) (undo-tree-id248 . -32) (undo-tree-id249 . -68) (undo-tree-id250 . -68) (undo-tree-id251 . -68) (undo-tree-id252 . -68) (undo-tree-id253 . -68) (undo-tree-id254 . -68) (undo-tree-id255 . -68) (undo-tree-id256 . -68) (undo-tree-id257 . -68) (undo-tree-id258 . -68) (undo-tree-id259 . -68) (undo-tree-id260 . -68) (undo-tree-id261 . -68) (undo-tree-id262 . -68) (undo-tree-id263 . -68) (undo-tree-id264 . -68) (undo-tree-id265 . -68) (undo-tree-id266 . -68) (undo-tree-id267 . -68) (undo-tree-id268 . -68) (undo-tree-id269 . -68) (undo-tree-id270 . -68) (undo-tree-id271 . -68) (undo-tree-id272 . -68) (undo-tree-id273 . -68) (undo-tree-id274 . -68) (undo-tree-id275 . -68) (undo-tree-id276 . -68) (undo-tree-id277 . -68) (undo-tree-id278 . -68) (undo-tree-id279 . -129) (undo-tree-id280 . -135) (undo-tree-id281 . -135) (undo-tree-id282 . -135) (undo-tree-id283 . -135) (undo-tree-id284 . -135) (undo-tree-id285 . -135) (undo-tree-id286 . -135) (undo-tree-id287 . -135) (undo-tree-id288 . -135) (undo-tree-id289 . -135) (undo-tree-id290 . -135) (undo-tree-id291 . -135) (undo-tree-id292 . -135) (undo-tree-id293 . -135) (undo-tree-id294 . -135) (undo-tree-id295 . -135) (undo-tree-id296 . -135) (undo-tree-id297 . -135) (undo-tree-id298 . -135) (undo-tree-id299 . -135) (undo-tree-id300 . -135) (undo-tree-id301 . -135) (undo-tree-id302 . -135) (undo-tree-id303 . -135) (undo-tree-id304 . -135) (undo-tree-id305 . -135) (undo-tree-id306 . -135) (undo-tree-id307 . -135) (undo-tree-id308 . -135) (undo-tree-id309 . -135) (undo-tree-id310 . -135) (undo-tree-id311 . -135) (undo-tree-id312 . -148) 4263 (t 27037 50973 613351 441000)) nil (27040 42058 719802 179000) 0 nil])
([nil nil ((#(" " 0 1 (fontified t)) . 4711) (t 27040 42058 728938 691000)) nil (27040 42086 88004 175000) 0 nil])
([nil nil ((#("'" 0 1 (face font-lock-string-face fontified t)) . 4711)) nil (27040 42086 88003 382000) 0 nil])
([nil nil ((#("n" 0 1 (fontified t)) . 4711)) nil (27040 42086 88002 995000) 0 nil])
([nil nil ((#("u" 0 1 (fontified t)) . 4711)) nil (27040 42086 88002 296000) 0 nil])
([nil nil ((#("m" 0 1 (fontified t)) . 4711)) nil (27040 42086 88001 410000) 0 nil])
([nil nil ((#("e" 0 1 (fontified t)) . 4711)) nil (27040 42086 88000 632000) 0 nil])
([nil nil ((#("r" 0 1 (fontified t)) . 4711)) nil (27040 42086 87999 953000) 0 nil])
([nil nil ((#("o" 0 1 (fontified t)) . 4711)) nil (27040 42086 87999 233000) 0 nil])
([nil nil ((#("'" 0 1 (face font-lock-string-face fontified t)) . 4711)) nil (27040 42086 87997 572000) 0 nil])
([nil nil ((#("," 0 1 (fontified t)) . 4711)) nil (27040 42086 87992 458000) 0 nil])
([nil nil ((nil rear-nonsticky nil 15427 . 15428) (nil fontified nil 1 . 15428) (1 . 15428) (#("const { default: makeWASocket, useMultiFileAuthState, delay } = require('@whiskeysockets/baileys')
const { fetchLatestWaWebVersion } = require('@whiskeysockets/baileys')

const qrcode = require('qrcode-terminal')
const Anthropic = require('@anthropic-ai/sdk')
const fs = require('fs')
const path = require('path')

// ‚îÄ‚îÄ‚îÄ CONFIG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const DEBOUNCE_MS      = 10000
const MEMORY_DIR       = path.join(__dirname, 'memory')
const LOG_FILE         = path.join(__dirname, 'logs', 'messages.log')
const LEADS_FILE = path.join(__dirname, 'leads.csv')
const PROMPT_FILE      = path.join(__dirname, 'prompt.txt')
const MAX_HISTORY      = 20
const RECONNECT_DELAY  = 5000

// ‚îÄ‚îÄ‚îÄ SETUP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const secretsPath = path.join(__dirname, '..', '.secrets')
const secrets = fs.readFileSync(secretsPath, 'utf-8')
const apiKey = secrets.match(/ANTHROPIC_API_KEY=(.+)/)[1].trim()
const claude = new Anthropic({ apiKey })

if (!fs.existsSync(MEMORY_DIR)) fs.mkdirSync(MEMORY_DIR, { recursive: true })
if (!fs.existsSync(path.dirname(LOG_FILE))) fs.mkdirSync(path.dirname(LOG_FILE), { recursive: true })

// ‚îÄ‚îÄ‚îÄ PROMPT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function getSystemPrompt() {
    try {
        return fs.readFileSync(PROMPT_FILE, 'utf-8')
    } catch (err) {
        console.error('‚ùå Could not read prompt.txt, using fallback')
        return 'Eres Camila, asistente del Dr. Vel√°squez. Ayuda a los pacientes con fibromialgia.'
    }
}

// ‚îÄ‚îÄ‚îÄ LOGGING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function logMessage(sender, direction, text) {
    const timestamp = new Date().toISOString()
    const line = `[${timestamp}] [${direction}] [${sender}]: ${text}\\n`
    fs.appendFileSync(LOG_FILE, line, 'utf-8')
    console.log(line.trim())
}

// ‚îÄ‚îÄ‚îÄ LEADS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function guardarLead({ nombre, numero, tiempo_enfermedad, tratamientos, hora_preferida }) {
    const timestamp = new Date().toLocaleString('es-CO', { timeZone: 'America/Bogota' })

    // Write header if file doesn't exist yet
    if (!fs.existsSync(LEADS_FILE)) {
        fs.writeFileSync(LEADS_FILE, 'Fecha,Nombre,N√∫mero,Tiempo enfermedad,Tratamientos,Hora preferida,Estado\\n', 'utf-8')
    }

    // Wrap fields in quotes to handle commas inside the text
    const escape = (val) => `\"${String(val).replace(/\"/g, '\"\"')}\"`

    const row = [
        escape(timestamp),
        escape(nombre),
        escape(numero),
        escape(tiempo_enfermedad),
        escape(tratamientos),
        escape(hora_preferida),
        escape('PENDIENTE LLAMAR')
    ].join(',') + '\\n'

    fs.appendFileSync(LEADS_FILE, row, 'utf-8')
    console.log(`‚úÖ Lead guardado: ${nombre} (${numero})`)
    return `Lead guardado correctamente para ${nombre}`
}

// ‚îÄ‚îÄ‚îÄ MEMORY ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function getMemoryPath(sender) {
    return path.join(MEMORY_DIR, `${sender}.json`)
}

function loadConversation(sender) {
    const filePath = getMemoryPath(sender)
    if (fs.existsSync(filePath)) {
        return JSON.parse(fs.readFileSync(filePath, 'utf-8'))
    }
    return []
}

function saveConversation(sender, messages) {
    const trimmed = messages.slice(-MAX_HISTORY)
    fs.writeFileSync(getMemoryPath(sender), JSON.stringify(trimmed, null, 2), 'utf-8')
}

// ‚îÄ‚îÄ‚îÄ TOOL DEFINITION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const TOOLS = [
    {
        name: 'guardar_lead',
        description: 'Guarda la informaci√≥n del lead una vez que tienes su nombre, cu√°nto tiempo lleva con la enfermedad, qu√© tratamientos ha intentado y su hora preferida para la llamada. Solo llama esta herramienta una vez por conversaci√≥n, cuando tengas todos estos datos.',
        input_schema: {
            type: 'object',
            properties: {
                nombre: {
                    type: 'string',
                    description: 'Nombre del paciente o familiar'
                },
                tiempo_enfermedad: {
                    type: 'string',
                    description: 'Cu√°nto tiempo lleva con fibromialgia u otra enfermedad mencionada'
                },
                tratamientos: {
                    type: 'string',
                    description: 'Qu√© tratamientos o medicamentos ha intentado'
                },
                hora_preferida: {
                    type: 'string',
                    description: 'Ma√±ana o tarde, o una hora espec√≠fica si la mencion√≥'
                }
            },
            required: ['nombre', 'tiempo_enfermedad', 'tratamientos', 'hora_preferida']
        }
    }
]

// ‚îÄ‚îÄ‚îÄ CLAUDE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

async function askClaude(sender, userMessage, retries = 3) {
    const history = loadConversation(sender)
    const isReturning = history.length > 0

    if (!isReturning) {
        history.push({
            role: 'user',
            content: `[Nota interna: esta persona podr√≠a tener una conversaci√≥n previa. Si su mensaje no parece un primer contacto, saluda brevemente y retoma natural.] ${userMessage}`
        })
    } else {
        history.push({ role: 'user', content: userMessage })
    }

    for (let attempt = 1; attempt <= retries; attempt++) {
        try {
            const response = await claude.messages.create({
                model: 'claude-sonnet-4-5',
                max_tokens: 1024,
                system: getSystemPrompt(),
                tools: TOOLS,
                messages: history
            })

            // Guard: empty response
            if (!response.content || response.content.length === 0) {
                console.error('‚ùå Claude returned empty content')
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }

            // Handle tool use
            if (response.stop_reason === 'tool_use') {
                const toolUseBlock = response.content.find(b => b.type === 'tool_use')

                if (toolUseBlock && toolUseBlock.name === 'guardar_lead') {

                    // Guard: tool input is empty or missing required fields
                    const input = toolUseBlock.input
                    if (!input || !input.nombre || !input.hora_preferida) {
                        console.error('‚ùå Tool call missing required fields:', input)
                        const fallback = 'Perfecto, alguien de nuestro equipo te contacta pronto. Que tengas buen dia.'
                        history.push({ role: 'assistant', content: fallback })
                        saveConversation(sender, history)
                        return fallback
                    }

                    const leadData = { ...input, numero: sender.replace(/@s\\.whatsapp\\.net/, '') }
                    const result = guardarLead(leadData)

                    history.push({ role: 'assistant', content: response.content })
                    history.push({
                        role: 'user',
                        content: [{
                            type: 'tool_result',
                            tool_use_id: toolUseBlock.id,
                            content: result
                        }]
                    })

                    const finalResponse = await claude.messages.create({
                        model: 'claude-sonnet-4-5',
                        max_tokens: 1024,
                        system: getSystemPrompt(),
                        tools: TOOLS,
                        messages: history
                    })

                    // Guard: empty final response after tool use
                    const finalText = finalResponse.content?.find(b => b.type === 'text')?.text
                    if (!finalText) {
                        console.error('‚ùå Empty final response after tool use')
                        const fallback = 'Perfecto, alguien de nuestro equipo te contacta pronto. Que tengas buen dia.'
                        history.push({ role: 'assistant', content: fallback })
                        saveConversation(sender, history)
                        return fallback
                    }

                    history.push({ role: 'assistant', content: finalText })
                    saveConversation(sender, history)
                    return finalText
                }
            }

            // Normal text response
            const reply = response.content.find(b => b.type === 'text')?.text
            if (!reply) {
                console.error('‚ùå No text block in response')
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }
            history.push({ role: 'assistant', content: reply })
            saveConversation(sender, history)
            return reply

        } catch (err) {
            console.error(`‚ùå Attempt ${attempt}/${retries} failed:`, err.message)
            if (attempt === retries) {
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }
            await delay(attempt * 2000)
        }
    }
}

// ‚îÄ‚îÄ‚îÄ BOT TOGGLE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

let botEnabled = true
const OWNER_NUMBER = '573145592704'

function handleOwnerCommand(text) {
    const cmd = text.trim().toLowerCase()
    if (cmd === '!bot off') {
        botEnabled = false
        console.log('üî¥ Bot desactivado')
        return 'Bot desactivado. Los mensajes entran pero no responde automaticamente.'
    }
    if (cmd === '!bot on') {
        botEnabled = true
        console.log('üü¢ Bot activado')
        return 'Bot activado. Respondiendo automaticamente.'
    }
    if (cmd === '!bot status') {
        return `Bot esta ${botEnabled ? 'activo üü¢' : 'inactivo üî¥'}`
    }
    if (cmd === '!bot prompt') {
        const preview = getSystemPrompt().slice(0, 120)
        return `Prompt activo (primeros 120 chars):\\n\"${preview}...\"`
    }
    return null
}

// ‚îÄ‚îÄ‚îÄ ANTI-BAN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

async function sendHumanReply(sock, sender, text) {
    const thinkDelay = Math.floor(Math.random() * 2000) + 1000
    const typeDelay  = Math.min(text.length * 30, 5000)

    await delay(thinkDelay)
    await sock.sendPresenceUpdate('composing', sender)
    await delay(typeDelay)
    await sock.sendPresenceUpdate('paused', sender)
    await sock.sendMessage(sender, { text })
}

// ‚îÄ‚îÄ‚îÄ MAIN BOT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

let isConnecting = false

async function startBot() {
    const { version } = await fetchLatestWaWebVersion()
    const { state, saveCreds } = await useMultiFileAuthState('auth')
    const sock = makeWASocket({
        auth: state,
        version,
        printQRInTerminal: true
    })

    sock.ev.on('creds.update', saveCreds)

    sock.ev.on('messaging-history.set', ({ messages }) => {
        for (const msg of messages) {
            const jid = msg.key.remoteJid
            if (!jid || jid.endsWith('@g.us')) continue

            const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
            if (!text) continue

            const role = msg.key.fromMe ? 'assistant' : 'user'
            const history = loadConversation(jid)

            const alreadyExists = history.some(h => h.content === text && h.role === role)
            if (!alreadyExists) {
                history.push({ role, content: text })
            }

            saveConversation(jid, history)
        }
        console.log('üìö History seeded from WhatsApp sync')
    })

    sock.ev.on('connection.update', ({ connection, qr, lastDisconnect }) => {
        if (qr) qrcode.generate(qr, { small: true })

        if (connection === 'open') {
            isConnecting = false
            console.log('‚úÖ Bot connected!')
        }

        if (connection === 'close') {
            const shouldReconnect = lastDisconnect?.error?.output?.statusCode !== 401
            if (shouldReconnect && !isConnecting) {
                isConnecting = true
                console.log(`üîÑ Connection closed. Reconnecting in ${RECONNECT_DELAY / 1000}s...`)
                setTimeout(() => { isConnecting = false; startBot() }, RECONNECT_DELAY)
            } else if (!shouldReconnect) {
                console.log('üö´ Logged out. Please delete the auth folder and restart to scan QR again.')
            }
        }
    })

    const pendingMessages = {}

    sock.ev.on('messages.upsert', async ({ messages, type }) => {
        if (type !== 'notify') return

        const msg = messages[0]

        const msgTimestamp = (msg.messageTimestamp || 0) * 1000
        if (Date.now() - msgTimestamp > 30_000) return

        const sender = msg.key.remoteJid
        if (sender.endsWith('@g.us')) return

        if (msg.key.fromMe) {
            const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
            if (text) {
                const commandResult = handleOwnerCommand(text)
                if (commandResult) {
                    console.log(`‚ö° Comando: ${text} ‚Üí ${commandResult}`)
                    await sock.sendMessage(sender, { text: `‚ö° ${commandResult}` })
                    return
                }

                const history = loadConversation(sender)
                history.push({ role: 'assistant', content: text })
                saveConversation(sender, history)
                logMessage(sender.replace(/@s\\.whatsapp\\.net/, ''), 'OUT-MANUAL', text)
            }
            return
        }

        const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
        if (!text) return

        const senderNumber = sender.replace(/@s\\.whatsapp\\.net/, '')

        if (pendingMessages[sender]) {
            clearTimeout(pendingMessages[sender].timer)
            pendingMessages[sender].texts.push(text)
        } else {
            pendingMessages[sender] = { texts: [text] }
        }

        pendingMessages[sender].timer = setTimeout(async () => {
            const combined = pendingMessages[sender].texts.join(' ')
            delete pendingMessages[sender]

            logMessage(senderNumber, 'IN', combined)

            if (!botEnabled && senderNumber !== OWNER_NUMBER) {
                console.log(`‚è∏Ô∏è  Bot inactivo, mensaje de ${senderNumber} no respondido automaticamente`)
                return
            }

            try {
                const reply = await askClaude(sender, combined)
                await sendHumanReply(sock, sender, reply)
                logMessage(senderNumber, 'OUT', reply)
            } catch (err) {
                console.error('‚ùå Error:', err)
            }
        }, DEBOUNCE_MS)
    })
}

startBot()" 0 5 (face font-lock-keyword-face fontified t) 5 6 (fontified t) 6 7 (face (rainbow-delimiters-depth-1-face) fontified t) 7 8 (fontified t) 8 15 (face font-lock-keyword-face fontified t) 15 60 (fontified t) 60 61 (face (rainbow-delimiters-depth-1-face) fontified t) 61 71 (fontified t) 71 72 (face (rainbow-delimiters-depth-1-face) fontified t) 72 97 (face font-lock-string-face fontified t) 97 98 (face (rainbow-delimiters-depth-1-face) fontified t) 98 99 (fontified t) 99 104 (face font-lock-keyword-face fontified t) 104 105 (fontified t) 105 106 (face (rainbow-delimiters-depth-1-face) fontified t) 106 131 (fontified t) 131 132 (face (rainbow-delimiters-depth-1-face) fontified t) 132 142 (fontified t) 142 143 (face (rainbow-delimiters-depth-1-face) fontified t) 143 168 (face font-lock-string-face fontified t) 168 169 (face (rainbow-delimiters-depth-1-face) fontified t) 169 171 (fontified t) 171 176 (face font-lock-keyword-face fontified t) 176 177 (fontified t) 177 183 (face font-lock-variable-name-face fontified t) 183 193 (fontified t) 193 194 (face (rainbow-delimiters-depth-1-face) fontified t) 194 211 (face font-lock-string-face fontified t) 211 212 (face (rainbow-delimiters-depth-1-face) fontified t) 212 213 (fontified t) 213 218 (face font-lock-keyword-face fontified t) 218 219 (fontified t) 219 228 (face font-lock-variable-name-face fontified t) 228 238 (fontified t) 238 239 (face (rainbow-delimiters-depth-1-face) fontified t) 239 258 (face font-lock-string-face fontified t) 258 259 (face (rainbow-delimiters-depth-1-face) fontified t) 259 260 (fontified t) 260 265 (face font-lock-keyword-face fontified t) 265 266 (fontified t) 266 268 (face font-lock-variable-name-face fontified t) 268 278 (fontified t) 278 279 (face (rainbow-delimiters-depth-1-face) fontified t) 279 283 (face font-lock-string-face fontified t) 283 284 (face (rainbow-delimiters-depth-1-face) fontified t) 284 285 (fontified t) 285 290 (face font-lock-keyword-face fontified t) 290 291 (fontified t) 291 295 (face font-lock-variable-name-face fontified t) 295 305 (fontified t) 305 306 (face (rainbow-delimiters-depth-1-face) fontified t) 306 312 (face font-lock-string-face fontified t) 312 313 (face (rainbow-delimiters-depth-1-face) fontified t) 313 315 (fontified t) 315 318 (face font-lock-comment-delimiter-face fontified t) 318 397 (face font-lock-comment-face fontified t) 397 398 (fontified t) 398 403 (face font-lock-keyword-face fontified t) 403 404 (fontified t) 404 415 (face font-lock-variable-name-face fontified t) 415 429 (fontified t) 429 434 (face font-lock-keyword-face fontified t) 434 435 (fontified t) 435 445 (face font-lock-variable-name-face fontified t) 445 463 (fontified t) 463 464 (face (rainbow-delimiters-depth-1-face) fontified t) 464 475 (fontified t) 475 483 (face font-lock-string-face fontified t) 483 484 (face (rainbow-delimiters-depth-1-face) fontified t) 484 485 (fontified t) 485 490 (face font-lock-keyword-face fontified t) 490 491 (fontified t) 491 499 (face font-lock-variable-name-face fontified t) 499 519 (fontified t) 519 520 (face (rainbow-delimiters-depth-1-face) fontified t) 520 531 (fontified t) 531 537 (face font-lock-string-face fontified t) 537 539 (fontified t) 539 553 (face font-lock-string-face fontified t) 553 554 (face (rainbow-delimiters-depth-1-face) fontified t) 554 555 (fontified t) 555 560 (face font-lock-keyword-face fontified t) 560 561 (fontified t) 561 571 (face font-lock-variable-name-face fontified t) 571 583 (fontified t) 583 584 (face (rainbow-delimiters-depth-1-face) fontified t) 584 595 (fontified t) 595 606 (face font-lock-string-face fontified t) 606 607 (face (rainbow-delimiters-depth-1-face) fontified t) 607 608 (fontified t) 608 613 (face font-lock-keyword-face fontified t) 613 614 (fontified t) 614 625 (face font-lock-variable-name-face fontified t) 625 642 (fontified t) 642 643 (face (rainbow-delimiters-depth-1-face) fontified t) 643 654 (fontified t) 654 666 (face font-lock-string-face fontified t) 666 667 (face (rainbow-delimiters-depth-1-face) fontified t) 667 668 (fontified t) 668 673 (face font-lock-keyword-face fontified t) 673 674 (fontified t) 674 685 (face font-lock-variable-name-face fontified t) 685 696 (fontified t) 696 701 (face font-lock-keyword-face fontified t) 701 702 (fontified t) 702 717 (face font-lock-variable-name-face fontified t) 717 727 (fontified t) 727 730 (face font-lock-comment-delimiter-face fontified t) 730 809 (face font-lock-comment-face fontified t) 809 810 (fontified t) 810 815 (face font-lock-keyword-face fontified t) 815 816 (fontified t) 816 827 (face font-lock-variable-name-face fontified t) 827 839 (fontified t) 839 840 (face (rainbow-delimiters-depth-1-face) fontified t) 840 851 (fontified t) 851 855 (face font-lock-string-face fontified t) 855 857 (fontified t) 857 867 (face font-lock-string-face fontified t) 867 868 (face (rainbow-delimiters-depth-1-face) fontified t) 868 869 (fontified t) 869 874 (face font-lock-keyword-face fontified t) 874 875 (fontified t) 875 882 (face font-lock-variable-name-face fontified t) 882 900 (fontified t) 900 901 (face (rainbow-delimiters-depth-1-face) fontified t) 901 914 (fontified t) 914 921 (face font-lock-string-face fontified t) 921 922 (face (rainbow-delimiters-depth-1-face) fontified t) 922 923 (fontified t) 923 928 (face font-lock-keyword-face fontified t) 928 929 (fontified t) 929 935 (face font-lock-variable-name-face fontified t) 935 951 (fontified t) 951 952 (face (rainbow-delimiters-depth-1-face) fontified t) 952 953 (face font-lock-string-face fontified t syntax-table (7 . 47)) 953 975 (face font-lock-string-face fontified t) 975 976 (face font-lock-string-face fontified t syntax-table (7 . 47)) 976 977 (face (rainbow-delimiters-depth-1-face) fontified t) 977 978 (face (rainbow-delimiters-depth-1-face) fontified t) 978 979 (fontified t) 979 980 (face (rainbow-delimiters-depth-1-face) fontified t) 980 985 (fontified t) 985 986 (face (rainbow-delimiters-depth-1-face) fontified t) 986 987 (face (rainbow-delimiters-depth-1-face) fontified t) 987 988 (fontified t) 988 993 (face font-lock-keyword-face fontified t) 993 994 (fontified t) 994 1000 (face font-lock-variable-name-face fontified t) 1000 1003 (fontified t) 1003 1006 (face font-lock-keyword-face fontified t) 1006 1007 (fontified t) 1007 1016 (face font-lock-type-face fontified t) 1016 1017 (face (rainbow-delimiters-depth-1-face) fontified t) 1017 1018 (face (rainbow-delimiters-depth-2-face) fontified t) 1018 1026 (fontified t) 1026 1027 (face (rainbow-delimiters-depth-2-face) fontified t) 1027 1028 (face (rainbow-delimiters-depth-1-face) fontified t) 1028 1030 (fontified t) 1030 1032 (face font-lock-keyword-face fontified t) 1032 1033 (fontified t) 1033 1034 (face (rainbow-delimiters-depth-1-face) fontified t) 1034 1048 (fontified t) 1048 1049 (face (rainbow-delimiters-depth-2-face) fontified t) 1049 1059 (fontified t) 1059 1060 (face (rainbow-delimiters-depth-2-face) fontified t) 1060 1061 (face (rainbow-delimiters-depth-1-face) fontified t) 1061 1074 (fontified t) 1074 1075 (face (rainbow-delimiters-depth-1-face) fontified t) 1075 1087 (fontified t) 1087 1088 (face (rainbow-delimiters-depth-2-face) fontified t) 1088 1100 (fontified t) 1100 1104 (face font-lock-constant-face fontified t) 1104 1105 (fontified t) 1105 1106 (face (rainbow-delimiters-depth-2-face) fontified t) 1106 1107 (face (rainbow-delimiters-depth-1-face) fontified t) 1107 1108 (fontified t) 1108 1110 (face font-lock-keyword-face fontified t) 1110 1111 (fontified t) 1111 1112 (face (rainbow-delimiters-depth-1-face) fontified t) 1112 1126 (fontified t) 1126 1127 (face (rainbow-delimiters-depth-2-face) fontified t) 1127 1139 (fontified t) 1139 1140 (face (rainbow-delimiters-depth-3-face) fontified t) 1140 1148 (fontified t) 1148 1149 (face (rainbow-delimiters-depth-3-face) fontified t) 1149 1150 (face (rainbow-delimiters-depth-2-face) fontified t) 1150 1151 (face (rainbow-delimiters-depth-1-face) fontified t) 1151 1164 (fontified t) 1164 1165 (face (rainbow-delimiters-depth-1-face) fontified t) 1165 1177 (fontified t) 1177 1178 (face (rainbow-delimiters-depth-2-face) fontified t) 1178 1186 (fontified t) 1186 1187 (face (rainbow-delimiters-depth-2-face) fontified t) 1187 1189 (fontified t) 1189 1190 (face (rainbow-delimiters-depth-2-face) fontified t) 1190 1202 (fontified t) 1202 1206 (face font-lock-constant-face fontified t) 1206 1207 (fontified t) 1207 1208 (face (rainbow-delimiters-depth-2-face) fontified t) 1208 1209 (face (rainbow-delimiters-depth-1-face) fontified t) 1209 1211 (fontified t) 1211 1214 (face font-lock-comment-delimiter-face fontified t) 1214 1293 (face font-lock-comment-face fontified t) 1293 1294 (fontified t) 1294 1302 (face font-lock-keyword-face fontified t) 1302 1303 (fontified t) 1303 1318 (face font-lock-function-name-face fontified t) 1318 1319 (face (rainbow-delimiters-depth-1-face) fontified t) 1319 1320 (face (rainbow-delimiters-depth-1-face) fontified t) 1320 1321 (fontified t) 1321 1322 (face (rainbow-delimiters-depth-1-face) fontified t js--pstate ((nil 0 function 1295 ("getSystemPrompt") 1582) (nil -2305843009213693952 toplevel nil nil nil))) 1322 1327 (fontified t) 1327 1330 (face font-lock-keyword-face fontified t) 1330 1331 (fontified t) 1331 1332 (face (rainbow-delimiters-depth-2-face) fontified t) 1332 1341 (fontified t) 1341 1347 (face font-lock-keyword-face fontified t) 1347 1363 (fontified t) 1363 1364 (face (rainbow-delimiters-depth-3-face) fontified t) 1364 1377 (fontified t) 1377 1384 (face font-lock-string-face fontified t) 1384 1385 (face (rainbow-delimiters-depth-3-face) fontified t) 1385 1390 (fontified t) 1390 1391 (face (rainbow-delimiters-depth-2-face) fontified t) 1391 1392 (fontified t) 1392 1397 (face font-lock-keyword-face fontified t) 1397 1398 (fontified t) 1398 1399 (face (rainbow-delimiters-depth-2-face) fontified t) 1399 1402 (fontified t) 1402 1403 (face (rainbow-delimiters-depth-2-face) fontified t) 1403 1404 (fontified t) 1404 1405 (face (rainbow-delimiters-depth-2-face) fontified t) 1405 1427 (fontified t) 1427 1428 (face (rainbow-delimiters-depth-3-face) fontified t) 1428 1473 (face font-lock-string-face fontified t) 1473 1474 (face (rainbow-delimiters-depth-3-face) fontified t) 1474 1483 (fontified t) 1483 1489 (face font-lock-keyword-face fontified t) 1489 1490 (fontified t) 1490 1500 (face font-lock-string-face fontified t) 1500 1573 (face font-lock-string-face fontified t) 1573 1574 (fontified t) 1574 1578 (fontified t) 1578 1579 (face (rainbow-delimiters-depth-2-face) fontified t) 1579 1580 (fontified t) 1580 1581 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 1295 ("getSystemPrompt") 1582)) 1581 1583 (fontified t) 1583 1586 (face font-lock-comment-delimiter-face fontified t) 1586 1599 (face font-lock-comment-face fontified t) 1599 1665 (fontified t face font-lock-comment-face) 1665 1666 (fontified t) 1666 1674 (face font-lock-keyword-face fontified t) 1674 1675 (fontified t) 1675 1685 (face font-lock-function-name-face fontified t) 1685 1686 (face (rainbow-delimiters-depth-1-face) fontified t) 1686 1692 (face font-lock-variable-name-face fontified t) 1692 1694 (fontified t) 1694 1703 (face font-lock-variable-name-face fontified t) 1703 1705 (fontified t) 1705 1709 (face font-lock-variable-name-face fontified t) 1709 1710 (face (rainbow-delimiters-depth-1-face) fontified t) 1710 1711 (fontified t) 1711 1712 (face (rainbow-delimiters-depth-1-face) fontified t js--pstate ((nil 0 function 1667 ("logMessage") 1910) (((nil 0 function 1295 ("getSystemPrompt") 1582)) -2305843009213693952 toplevel nil nil nil))) 1712 1717 (fontified t) 1717 1722 (face font-lock-keyword-face fontified t) 1722 1723 (fontified t) 1723 1732 (face font-lock-variable-name-face fontified t) 1732 1735 (fontified t) 1735 1738 (face font-lock-keyword-face fontified t) 1738 1739 (fontified t) 1739 1743 (face font-lock-type-face fontified t) 1743 1744 (face (rainbow-delimiters-depth-2-face) fontified t) 1744 1745 (face (rainbow-delimiters-depth-2-face) fontified t) 1745 1757 (fontified t) 1757 1758 (face (rainbow-delimiters-depth-2-face) fontified t) 1758 1759 (face (rainbow-delimiters-depth-2-face) fontified t) 1759 1764 (fontified t) 1764 1769 (face font-lock-keyword-face fontified t) 1769 1770 (fontified t) 1770 1774 (face font-lock-variable-name-face fontified t) 1774 1777 (fontified t) 1777 1831 (face font-lock-string-face fontified t) 1831 1853 (fontified t) 1853 1854 (face (rainbow-delimiters-depth-2-face) fontified t) 1854 1870 (fontified t) 1870 1877 (face font-lock-string-face fontified t) 1877 1878 (face (rainbow-delimiters-depth-2-face) fontified t) 1878 1894 (fontified t) 1894 1895 (face (rainbow-delimiters-depth-2-face) fontified t) 1895 1904 (fontified t) 1904 1905 (face (rainbow-delimiters-depth-3-face) fontified t) 1905 1906 (face (rainbow-delimiters-depth-3-face) fontified t) 1906 1907 (face (rainbow-delimiters-depth-2-face) fontified t) 1907 1908 (fontified t) 1908 1909 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 1667 ("logMessage") 1910)) 1909 1911 (fontified t) 1911 1914 (face font-lock-comment-delimiter-face fontified t) 1914 1993 (face font-lock-comment-face fontified t) 1993 1994 (fontified t) 1994 2002 (face font-lock-keyword-face fontified t) 2002 2003 (fontified t) 2003 2014 (face font-lock-function-name-face fontified t) 2014 2015 (face (rainbow-delimiters-depth-1-face) fontified t) 2015 2016 (face (rainbow-delimiters-depth-2-face) fontified t) 2016 2081 (fontified t) 2081 2082 (face (rainbow-delimiters-depth-2-face) fontified t) 2082 2083 (face (rainbow-delimiters-depth-1-face) fontified t) 2083 2084 (fontified t) 2084 2085 (face (rainbow-delimiters-depth-1-face) fontified t js--pstate ((nil 0 function 1995 ("guardarLead") 2934) (((nil 0 function 1667 ("logMessage") 1910) (nil 0 function 1295 ("getSystemPrompt") 1582)) -2305843009213693952 toplevel nil nil nil))) 2085 2090 (fontified t) 2090 2095 (face font-lock-keyword-face fontified t) 2095 2096 (fontified t) 2096 2105 (face font-lock-variable-name-face fontified t) 2105 2108 (fontified t) 2108 2111 (face font-lock-keyword-face fontified t) 2111 2112 (fontified t) 2112 2116 (face font-lock-type-face fontified t) 2116 2117 (face (rainbow-delimiters-depth-2-face) fontified t) 2117 2118 (face (rainbow-delimiters-depth-2-face) fontified t) 2118 2133 (fontified t) 2133 2134 (face (rainbow-delimiters-depth-2-face) fontified t) 2134 2141 (face font-lock-string-face fontified t) 2141 2143 (fontified t) 2143 2144 (face (rainbow-delimiters-depth-3-face) fontified t) 2144 2155 (fontified t) 2155 2171 (face font-lock-string-face fontified t) 2171 2172 (fontified t) 2172 2173 (face (rainbow-delimiters-depth-3-face) fontified t) 2173 2174 (face (rainbow-delimiters-depth-2-face) fontified t) 2174 2180 (fontified t) 2180 2183 (face font-lock-comment-delimiter-face fontified t) 2183 2222 (face font-lock-comment-face fontified t) 2222 2226 (fontified t) 2226 2228 (face font-lock-keyword-face fontified t) 2228 2229 (fontified t) 2229 2230 (face (rainbow-delimiters-depth-2-face) fontified t) 2230 2244 (fontified t) 2244 2245 (face (rainbow-delimiters-depth-3-face) fontified t) 2245 2255 (fontified t) 2255 2256 (face (rainbow-delimiters-depth-3-face) fontified t) 2256 2257 (face (rainbow-delimiters-depth-2-face) fontified t) 2257 2258 (fontified t) 2258 2259 (face (rainbow-delimiters-depth-2-face) fontified t) 2259 2284 (fontified t) 2284 2285 (face (rainbow-delimiters-depth-3-face) fontified t) 2285 2297 (fontified t) 2297 2373 (face font-lock-string-face fontified t) 2373 2375 (fontified t) 2375 2382 (face font-lock-string-face fontified t) 2382 2383 (face (rainbow-delimiters-depth-3-face) fontified t) 2383 2388 (fontified t) 2388 2389 (face (rainbow-delimiters-depth-2-face) fontified t) 2389 2395 (fontified t) 2395 2398 (face font-lock-comment-delimiter-face fontified t) 2398 2453 (face font-lock-comment-face fontified t) 2453 2457 (fontified t) 2457 2462 (face font-lock-keyword-face fontified t) 2462 2463 (fontified t) 2463 2469 (face font-lock-variable-name-face fontified t) 2469 2472 (fontified t) 2472 2473 (face (rainbow-delimiters-depth-2-face) fontified t) 2473 2476 (fontified t) 2476 2477 (face (rainbow-delimiters-depth-2-face) fontified t) 2477 2481 (fontified t) 2481 2505 (face font-lock-string-face fontified t) 2505 2506 (face font-lock-string-face fontified t syntax-table (7 . 47)) 2506 2519 (face font-lock-string-face fontified t) 2519 2525 (fontified t) 2525 2530 (face font-lock-keyword-face fontified t) 2530 2531 (fontified t) 2531 2534 (face font-lock-variable-name-face fontified t) 2534 2537 (fontified t) 2537 2538 (face (rainbow-delimiters-depth-2-face) fontified t) 2538 2553 (fontified t) 2553 2554 (face (rainbow-delimiters-depth-3-face) fontified t) 2554 2563 (fontified t) 2563 2564 (face (rainbow-delimiters-depth-3-face) fontified t) 2564 2580 (fontified t) 2580 2581 (face (rainbow-delimiters-depth-3-face) fontified t) 2581 2587 (fontified t) 2587 2588 (face (rainbow-delimiters-depth-3-face) fontified t) 2588 2604 (fontified t) 2604 2605 (face (rainbow-delimiters-depth-3-face) fontified t) 2605 2611 (fontified t) 2611 2612 (face (rainbow-delimiters-depth-3-face) fontified t) 2612 2614 (fontified t) 2614 2628 (fontified t) 2628 2629 (face (rainbow-delimiters-depth-3-face) fontified t) 2629 2646 (fontified t) 2646 2647 (face (rainbow-delimiters-depth-3-face) fontified t) 2647 2663 (fontified t) 2663 2664 (face (rainbow-delimiters-depth-3-face) fontified t) 2664 2676 (fontified t) 2676 2677 (face (rainbow-delimiters-depth-3-face) fontified t) 2677 2693 (fontified t) 2693 2694 (face (rainbow-delimiters-depth-3-face) fontified t) 2694 2708 (fontified t) 2708 2709 (face (rainbow-delimiters-depth-3-face) fontified t) 2709 2725 (fontified t) 2725 2726 (face (rainbow-delimiters-depth-3-face) fontified t) 2726 2744 (face font-lock-string-face fontified t) 2744 2745 (face (rainbow-delimiters-depth-3-face) fontified t) 2745 2750 (fontified t) 2750 2751 (face (rainbow-delimiters-depth-2-face) fontified t) 2751 2756 (fontified t) 2756 2757 (face (rainbow-delimiters-depth-2-face) fontified t) 2757 2760 (face font-lock-string-face fontified t) 2760 2761 (face (rainbow-delimiters-depth-2-face) fontified t) 2761 2764 (fontified t) 2764 2768 (face font-lock-string-face fontified t) 2768 2791 (fontified t) 2791 2792 (face (rainbow-delimiters-depth-2-face) fontified t) 2792 2809 (fontified t) 2809 2816 (face font-lock-string-face fontified t) 2816 2817 (face (rainbow-delimiters-depth-2-face) fontified t) 2817 2833 (fontified t) 2833 2834 (face (rainbow-delimiters-depth-2-face) fontified t) 2834 2874 (face font-lock-string-face fontified t) 2874 2875 (face (rainbow-delimiters-depth-2-face) fontified t) 2875 2880 (fontified t) 2880 2886 (face font-lock-keyword-face fontified t) 2886 2887 (fontified t) 2887 2931 (face font-lock-string-face fontified t) 2931 2932 (fontified t) 2932 2933 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 1995 ("guardarLead") 2934)) 2933 2935 (fontified t) 2935 2938 (face font-lock-comment-delimiter-face fontified t) 2938 3017 (face font-lock-comment-face fontified t) 3017 3018 (fontified t) 3018 3026 (face font-lock-keyword-face fontified t) 3026 3027 (fontified t) 3027 3040 (face font-lock-function-name-face fontified t) 3040 3041 (face (rainbow-delimiters-depth-1-face) fontified t) 3041 3047 (face font-lock-variable-name-face fontified t) 3047 3048 (face (rainbow-delimiters-depth-1-face) fontified t) 3048 3049 (fontified t) 3049 3050 (face (rainbow-delimiters-depth-1-face) fontified t js--pstate ((nil 0 function 3019 ("getMemoryPath") 3104) (((nil 0 function 1995 ("guardarLead") 2934) (nil 0 function 1667 ("logMessage") 1910) (nil 0 function 1295 ("getSystemPrompt") 1582)) -2305843009213693952 toplevel nil nil nil))) 3050 3055 (fontified t) 3055 3061 (face font-lock-keyword-face fontified t) 3061 3071 (fontified t) 3071 3072 (face (rainbow-delimiters-depth-2-face) fontified t) 3072 3074 (fontified t) 3074 3084 (fontified t) 3084 3100 (face font-lock-string-face fontified t) 3100 3101 (face (rainbow-delimiters-depth-2-face) fontified t) 3101 3102 (fontified t) 3102 3103 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 3019 ("getMemoryPath") 3104)) 3103 3105 (fontified t) 3105 3113 (face font-lock-keyword-face fontified t) 3113 3114 (fontified t) 3114 3130 (face font-lock-function-name-face fontified t) 3130 3131 (face (rainbow-delimiters-depth-1-face) fontified t) 3131 3137 (face font-lock-variable-name-face fontified t) 3137 3138 (face (rainbow-delimiters-depth-1-face) fontified t) 3138 3139 (fontified t) 3139 3140 (face (rainbow-delimiters-depth-1-face) fontified t js--pstate ((nil 0 function 3106 ("loadConversation") 3303) (((nil 0 function 3019 ("getMemoryPath") 3104) (nil 0 function 1995 ("guardarLead") 2934) (nil 0 function 1667 ("logMessage") 1910) (nil 0 function 1295 ("getSystemPrompt") 1582)) -2305843009213693952 toplevel nil nil nil))) 3140 3145 (fontified t) 3145 3150 (face font-lock-keyword-face fontified t) 3150 3151 (fontified t) 3151 3159 (face font-lock-variable-name-face fontified t) 3159 3165 (fontified t) 3165 3175 (fontified t) 3175 3176 (face (rainbow-delimiters-depth-2-face) fontified t) 3176 3182 (fontified t) 3182 3183 (face (rainbow-delimiters-depth-2-face) fontified t) 3183 3184 (fontified t) 3184 3188 (fontified t) 3188 3190 (face font-lock-keyword-face fontified t) 3190 3191 (fontified t) 3191 3192 (face (rainbow-delimiters-depth-2-face) fontified t) 3192 3205 (fontified t) 3205 3206 (face (rainbow-delimiters-depth-3-face) fontified t) 3206 3214 (fontified t) 3214 3215 (face (rainbow-delimiters-depth-3-face) fontified t) 3215 3216 (face (rainbow-delimiters-depth-2-face) fontified t) 3216 3217 (fontified t) 3217 3218 (face (rainbow-delimiters-depth-2-face) fontified t) 3218 3227 (fontified t) 3227 3233 (face font-lock-keyword-face fontified t) 3233 3244 (fontified t) 3244 3245 (face (rainbow-delimiters-depth-3-face) fontified t) 3245 3260 (fontified t) 3260 3261 (face (rainbow-delimiters-depth-4-face) fontified t) 3261 3271 (fontified t) 3271 3278 (face font-lock-string-face fontified t) 3278 3279 (face (rainbow-delimiters-depth-4-face) fontified t) 3279 3280 (face (rainbow-delimiters-depth-3-face) fontified t) 3280 3285 (fontified t) 3285 3286 (face (rainbow-delimiters-depth-2-face) fontified t) 3286 3291 (fontified t) 3291 3297 (face font-lock-keyword-face fontified t) 3297 3298 (fontified t) 3298 3299 (face (rainbow-delimiters-depth-2-face) fontified t) 3299 3300 (face (rainbow-delimiters-depth-2-face) fontified t) 3300 3301 (fontified t) 3301 3302 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 3106 ("loadConversation") 3303)) 3302 3304 (fontified t) 3304 3312 (face font-lock-keyword-face fontified t) 3312 3313 (fontified t) 3313 3329 (face font-lock-function-name-face fontified t) 3329 3330 (face (rainbow-delimiters-depth-1-face) fontified t) 3330 3336 (face font-lock-variable-name-face fontified t) 3336 3338 (fontified t) 3338 3346 (face font-lock-variable-name-face fontified t) 3346 3347 (face (rainbow-delimiters-depth-1-face) fontified t) 3347 3348 (fontified t) 3348 3349 (face (rainbow-delimiters-depth-1-face) fontified t js--pstate ((nil 0 function 3305 ("saveConversation") 3488) (((nil 0 function 3106 ("loadConversation") 3303) (nil 0 function 3019 ("getMemoryPath") 3104) (nil 0 function 1995 ("guardarLead") 2934) (nil 0 function 1667 ("logMessage") 1910) (nil 0 function 1295 ("getSystemPrompt") 1582)) -2305843009213693952 toplevel nil nil nil))) 3349 3354 (fontified t) 3354 3359 (face font-lock-keyword-face fontified t) 3359 3360 (fontified t) 3360 3367 (face font-lock-variable-name-face fontified t) 3367 3384 (fontified t) 3384 3385 (face (rainbow-delimiters-depth-2-face) fontified t) 3385 3397 (fontified t) 3397 3398 (face (rainbow-delimiters-depth-2-face) fontified t) 3398 3419 (fontified t) 3419 3420 (face (rainbow-delimiters-depth-2-face) fontified t) 3420 3433 (fontified t) 3433 3434 (face (rainbow-delimiters-depth-3-face) fontified t) 3434 3440 (fontified t) 3440 3441 (face (rainbow-delimiters-depth-3-face) fontified t) 3441 3457 (fontified t) 3457 3458 (face (rainbow-delimiters-depth-3-face) fontified t) 3458 3467 (fontified t) 3467 3471 (face font-lock-constant-face fontified t) 3471 3474 (fontified t) 3474 3475 (face (rainbow-delimiters-depth-3-face) fontified t) 3475 3477 (fontified t) 3477 3484 (face font-lock-string-face fontified t) 3484 3485 (face (rainbow-delimiters-depth-2-face) fontified t) 3485 3486 (fontified t) 3486 3487 (js--pend (nil 0 function 3305 ("saveConversation") 3488) face (rainbow-delimiters-depth-1-face) fontified t) 3487 3489 (fontified t) 3489 3492 (face font-lock-comment-delimiter-face fontified t) 3492 3571 (face font-lock-comment-face fontified t) 3571 3572 (fontified t) 3572 3577 (face font-lock-keyword-face fontified t) 3577 3578 (fontified t) 3578 3583 (face font-lock-variable-name-face fontified t) 3583 3586 (fontified t) 3586 3587 (face (rainbow-delimiters-depth-1-face) fontified t) 3587 3592 (fontified t) 3592 3593 (face (rainbow-delimiters-depth-2-face) fontified t) 3593 3608 (fontified t) 3608 3622 (face font-lock-string-face fontified t) 3622 3645 (fontified t) 3645 3900 (face font-lock-string-face fontified t) 3900 3924 (fontified t) 3924 3925 (face (rainbow-delimiters-depth-3-face) fontified t) 3925 3944 (fontified t) 3944 3952 (face font-lock-string-face fontified t) 3952 3978 (fontified t) 3978 3979 (face (rainbow-delimiters-depth-4-face) fontified t) 3979 4004 (fontified t) 4004 4005 (face (rainbow-delimiters-depth-5-face) fontified t) 4005 4032 (fontified t) 4032 4040 (face font-lock-string-face fontified t) 4040 4075 (fontified t) 4075 4107 (face font-lock-string-face fontified t) 4107 4114 (fontified t) 4114 4124 (fontified t) 4124 4125 (fontified t face (rainbow-delimiters-depth-5-face)) 4125 4127 (fontified t) 4127 4162 (fontified t) 4162 4163 (face (rainbow-delimiters-depth-5-face) fontified t) 4163 4164 (fontified t) 4164 4190 (fontified t) 4190 4198 (face font-lock-string-face fontified t) 4198 4233 (fontified t) 4233 4300 (face font-lock-string-face fontified t) 4300 4317 (fontified t) 4317 4318 (face (rainbow-delimiters-depth-5-face) fontified t) 4318 4350 (fontified t) 4350 4351 (face (rainbow-delimiters-depth-5-face) fontified t) 4351 4378 (fontified t) 4378 4386 (face font-lock-string-face fontified t) 4386 4421 (fontified t) 4421 4454 (face font-lock-string-face fontified t) 4454 4467 (face font-lock-string-face fontified t) 4467 4468 (fontified t) 4468 4484 (fontified t) 4484 4485 (face (rainbow-delimiters-depth-5-face) fontified t) 4485 4519 (fontified t) 4519 4520 (face (rainbow-delimiters-depth-5-face) fontified t) 4520 4536 (fontified t) 4536 4547 (fontified t) 4547 4555 (face font-lock-string-face fontified t) 4555 4557 (fontified t) 4557 4590 (fontified t) 4590 4644 (face font-lock-string-face fontified t) 4644 4661 (fontified t) 4661 4662 (face (rainbow-delimiters-depth-5-face) fontified t) 4662 4675 (fontified t) 4675 4676 (face (rainbow-delimiters-depth-4-face) fontified t) 4676 4678 (fontified t) 4678 4700 (fontified t) 4700 4701 (face (rainbow-delimiters-depth-4-face) fontified t) 4701 4709 (face font-lock-string-face fontified t) 4709 4710 (fontified t) 4710 4711 (fontified t) 4711 4712 (face font-lock-string-face fontified t) 4712 4729 (face font-lock-string-face fontified t) 4729 4730 (face font-lock-string-face fontified t) 4730 4732 (fontified t) 4732 4733 (face font-lock-string-face fontified t) 4733 4745 (face font-lock-string-face fontified t) 4745 4746 (face font-lock-string-face fontified t) 4746 4748 (fontified t) 4748 4749 (face font-lock-string-face fontified t) 4749 4763 (face font-lock-string-face fontified t) 4763 4764 (face font-lock-string-face fontified t) 4764 4765 (face (rainbow-delimiters-depth-4-face) fontified t) 4765 4766 (fontified t) 4766 4774 (fontified t) 4774 4775 (face (rainbow-delimiters-depth-3-face) fontified t) 4775 4780 (fontified t) 4780 4781 (face (rainbow-delimiters-depth-2-face) fontified t) 4781 4782 (fontified t) 4782 4783 (face (rainbow-delimiters-depth-1-face) fontified t) 4783 4785 (fontified t) 4785 4788 (face font-lock-comment-delimiter-face fontified t) 4788 4867 (face font-lock-comment-face fontified t) 4867 4868 (fontified t) 4868 4873 (face font-lock-keyword-face fontified t) 4873 4874 (fontified t) 4874 4882 (face font-lock-keyword-face fontified t) 4882 4892 (fontified t) 4892 4893 (face (rainbow-delimiters-depth-1-face) fontified t) 4893 4899 (face font-lock-variable-name-face fontified t) 4899 4901 (fontified t) 4901 4912 (face font-lock-variable-name-face fontified t) 4912 4914 (fontified t) 4914 4921 (face font-lock-variable-name-face fontified t) 4921 4925 (fontified t) 4925 4926 (face (rainbow-delimiters-depth-1-face) fontified t) 4926 4927 (fontified t) 4927 4928 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 4869 ("askClaude") 9306) (((nil 0 function 3305 ("saveConversation") 3488) (nil 0 function 3106 ("loadConversation") 3303) (nil 0 function 3019 ("getMemoryPath") 3104) (nil 0 function 1995 ("guardarLead") 2934) (nil 0 function 1667 ("logMessage") 1910) (nil 0 function 1295 ("getSystemPrompt") 1582)) -2305843009213693952 toplevel nil nil nil)) fontified t) 4928 4933 (fontified t) 4933 4938 (face font-lock-keyword-face fontified t) 4938 4939 (fontified t) 4939 4946 (face font-lock-variable-name-face fontified t) 4946 4965 (fontified t) 4965 4966 (face (rainbow-delimiters-depth-2-face) fontified t) 4966 4972 (fontified t) 4972 4973 (face (rainbow-delimiters-depth-2-face) fontified t) 4973 4978 (fontified t) 4978 4983 (face font-lock-keyword-face fontified t) 4983 4984 (fontified t) 4984 4995 (face font-lock-variable-name-face fontified t) 4995 5022 (fontified t) 5022 5024 (face font-lock-keyword-face fontified t) 5024 5025 (fontified t) 5025 5026 (face (rainbow-delimiters-depth-2-face) fontified t) 5026 5038 (fontified t) 5038 5039 (face (rainbow-delimiters-depth-2-face) fontified t) 5039 5040 (fontified t) 5040 5041 (face (rainbow-delimiters-depth-2-face) fontified t) 5041 5062 (fontified t) 5062 5063 (face (rainbow-delimiters-depth-3-face) fontified t) 5063 5064 (face (rainbow-delimiters-depth-4-face) fontified t) 5064 5083 (fontified t) 5083 5089 (face font-lock-string-face fontified t) 5089 5112 (fontified t) 5112 5275 (face font-lock-string-face fontified t) 5275 5284 (fontified t) 5284 5285 (face (rainbow-delimiters-depth-4-face) fontified t) 5285 5286 (face (rainbow-delimiters-depth-3-face) fontified t) 5286 5291 (fontified t) 5291 5292 (face (rainbow-delimiters-depth-2-face) fontified t) 5292 5293 (fontified t) 5293 5297 (face font-lock-keyword-face fontified t) 5297 5298 (fontified t) 5298 5299 (face (rainbow-delimiters-depth-2-face) fontified t) 5299 5320 (fontified t) 5320 5321 (face (rainbow-delimiters-depth-3-face) fontified t) 5321 5322 (face (rainbow-delimiters-depth-4-face) fontified t) 5322 5329 (fontified t) 5329 5335 (face font-lock-string-face fontified t) 5335 5358 (fontified t) 5358 5359 (face (rainbow-delimiters-depth-4-face) fontified t) 5359 5360 (face (rainbow-delimiters-depth-3-face) fontified t) 5360 5365 (fontified t) 5365 5366 (face (rainbow-delimiters-depth-2-face) fontified t) 5366 5372 (fontified t) 5372 5375 (face font-lock-keyword-face fontified t) 5375 5376 (fontified t) 5376 5377 (face (rainbow-delimiters-depth-2-face) fontified t) 5377 5380 (face font-lock-keyword-face fontified t) 5380 5381 (fontified t) 5381 5388 (face font-lock-variable-name-face fontified t) 5388 5423 (fontified t) 5423 5424 (face (rainbow-delimiters-depth-2-face) fontified t) 5424 5425 (fontified t) 5425 5426 (face (rainbow-delimiters-depth-2-face) fontified t) 5426 5435 (fontified t) 5435 5438 (face font-lock-keyword-face fontified t) 5438 5439 (fontified t) 5439 5440 (face (rainbow-delimiters-depth-3-face) fontified t) 5440 5453 (fontified t) 5453 5458 (face font-lock-keyword-face fontified t) 5458 5459 (fontified t) 5459 5467 (face font-lock-variable-name-face fontified t) 5467 5469 (fontified t) 5469 5470 (fontified t) 5470 5475 (face font-lock-keyword-face fontified t) 5475 5498 (fontified t) 5498 5499 (face (rainbow-delimiters-depth-4-face) fontified t) 5499 5500 (face (rainbow-delimiters-depth-5-face) fontified t) 5500 5501 (fontified t) 5501 5524 (fontified t) 5524 5543 (face font-lock-string-face fontified t) 5543 5618 (fontified t) 5618 5619 (face (rainbow-delimiters-depth-6-face) fontified t) 5619 5620 (face (rainbow-delimiters-depth-6-face) fontified t) 5620 5653 (fontified t) 5653 5654 (fontified t) 5654 5686 (fontified t) 5686 5698 (fontified t) 5698 5699 (face (rainbow-delimiters-depth-5-face) fontified t) 5699 5700 (face (rainbow-delimiters-depth-4-face) fontified t) 5700 5714 (fontified t) 5714 5717 (face font-lock-comment-delimiter-face fontified t) 5717 5739 (face font-lock-comment-face fontified t) 5739 5751 (fontified t) 5751 5753 (face font-lock-keyword-face fontified t) 5753 5754 (fontified t) 5754 5755 (face (rainbow-delimiters-depth-4-face) fontified t) 5755 5805 (fontified t) 5805 5806 (face (rainbow-delimiters-depth-4-face) fontified t) 5806 5807 (fontified t) 5807 5808 (face (rainbow-delimiters-depth-4-face) fontified t) 5808 5838 (fontified t) 5838 5839 (face (rainbow-delimiters-depth-5-face) fontified t) 5839 5872 (face font-lock-string-face fontified t) 5872 5873 (face (rainbow-delimiters-depth-5-face) fontified t) 5873 5890 (fontified t) 5890 5896 (face font-lock-keyword-face fontified t) 5896 5897 (fontified t) 5897 5978 (face font-lock-string-face fontified t) 5978 5991 (fontified t) 5991 5992 (face (rainbow-delimiters-depth-4-face) fontified t) 5992 6006 (fontified t) 6006 6009 (face font-lock-comment-delimiter-face fontified t) 6009 6025 (face font-lock-comment-face fontified t) 6025 6037 (fontified t) 6037 6039 (face font-lock-keyword-face fontified t) 6039 6040 (fontified t) 6040 6041 (face (rainbow-delimiters-depth-4-face) fontified t) 6041 6066 (fontified t) 6066 6076 (face font-lock-string-face fontified t) 6076 6077 (face (rainbow-delimiters-depth-4-face) fontified t) 6077 6078 (fontified t) 6078 6079 (face (rainbow-delimiters-depth-4-face) fontified t) 6079 6096 (fontified t) 6096 6101 (face font-lock-keyword-face fontified t) 6101 6102 (fontified t) 6102 6114 (face font-lock-variable-name-face fontified t) 6114 6138 (fontified t) 6138 6139 (face (rainbow-delimiters-depth-5-face) fontified t) 6139 6155 (fontified t) 6155 6165 (face font-lock-string-face fontified t) 6165 6166 (face (rainbow-delimiters-depth-5-face) fontified t) 6166 6169 (fontified t) 6169 6184 (fontified t) 6184 6186 (face font-lock-keyword-face fontified t) 6186 6187 (fontified t) 6187 6188 (face (rainbow-delimiters-depth-5-face) fontified t) 6188 6226 (fontified t) 6226 6240 (face font-lock-string-face fontified t) 6240 6241 (face (rainbow-delimiters-depth-5-face) fontified t) 6241 6242 (fontified t) 6242 6243 (face (rainbow-delimiters-depth-5-face) fontified t) 6243 6244 (fontified t) 6244 6265 (fontified t) 6265 6266 (face font-lock-comment-delimiter-face fontified t) 6266 6268 (fontified t face font-lock-comment-delimiter-face) 6268 6322 (fontified t face font-lock-comment-face) 6322 6342 (fontified t) 6342 6347 (face font-lock-keyword-face fontified t) 6347 6348 (fontified t) 6348 6353 (face font-lock-variable-name-face fontified t) 6353 6395 (fontified t) 6395 6397 (face font-lock-keyword-face fontified t) 6397 6398 (fontified t) 6398 6399 (face (rainbow-delimiters-depth-6-face) fontified t) 6399 6447 (fontified t) 6447 6448 (face (rainbow-delimiters-depth-6-face) fontified t) 6448 6449 (fontified t) 6449 6450 (face (rainbow-delimiters-depth-6-face) fontified t) 6450 6488 (fontified t) 6488 6489 (face (rainbow-delimiters-depth-7-face) fontified t) 6489 6527 (face font-lock-string-face fontified t) 6527 6534 (fontified t) 6534 6535 (face (rainbow-delimiters-depth-7-face) fontified t) 6535 6560 (fontified t) 6560 6565 (face font-lock-keyword-face fontified t) 6565 6566 (fontified t) 6566 6574 (face font-lock-variable-name-face fontified t) 6574 6577 (fontified t) 6577 6655 (face font-lock-string-face fontified t) 6655 6692 (fontified t) 6692 6693 (face (rainbow-delimiters-depth-7-face) fontified t) 6693 6694 (face (rainbow-delimiters-depth-8-face) fontified t) 6694 6701 (fontified t) 6701 6712 (face font-lock-string-face fontified t) 6712 6732 (fontified t) 6732 6733 (face (rainbow-delimiters-depth-8-face) fontified t) 6733 6734 (face (rainbow-delimiters-depth-7-face) fontified t) 6734 6775 (fontified t) 6775 6776 (face (rainbow-delimiters-depth-7-face) fontified t) 6776 6791 (fontified t) 6791 6792 (face (rainbow-delimiters-depth-7-face) fontified t) 6792 6817 (fontified t) 6817 6823 (face font-lock-keyword-face fontified t) 6823 6853 (fontified t) 6853 6854 (face (rainbow-delimiters-depth-6-face) fontified t) 6854 6876 (fontified t) 6876 6881 (face font-lock-keyword-face fontified t) 6881 6882 (fontified t) 6882 6890 (face font-lock-variable-name-face fontified t) 6890 6893 (fontified t) 6893 6894 (face (rainbow-delimiters-depth-6-face) fontified t) 6894 6927 (fontified t) 6927 6928 (face (rainbow-delimiters-depth-7-face) fontified t) 6928 6929 (face font-lock-string-face fontified t syntax-table (7 . 47)) 6929 6946 (face font-lock-string-face fontified t) 6946 6947 (face font-lock-string-face fontified t syntax-table (7 . 47)) 6947 6949 (fontified t) 6949 6951 (face font-lock-string-face fontified t) 6951 6952 (face (rainbow-delimiters-depth-7-face) fontified t) 6952 6953 (fontified t) 6953 6954 (face (rainbow-delimiters-depth-6-face) fontified t) 6954 6975 (fontified t) 6975 6980 (face font-lock-keyword-face fontified t) 6980 6981 (fontified t) 6981 6987 (face font-lock-variable-name-face fontified t) 6987 7001 (fontified t) 7001 7002 (face (rainbow-delimiters-depth-6-face) fontified t) 7002 7010 (fontified t) 7010 7011 (face (rainbow-delimiters-depth-6-face) fontified t) 7011 7045 (fontified t) 7045 7046 (face (rainbow-delimiters-depth-6-face) fontified t) 7046 7047 (face (rainbow-delimiters-depth-7-face) fontified t) 7047 7054 (fontified t) 7054 7065 (face font-lock-string-face fontified t) 7065 7093 (fontified t) 7093 7094 (face (rainbow-delimiters-depth-7-face) fontified t) 7094 7095 (face (rainbow-delimiters-depth-6-face) fontified t) 7095 7128 (fontified t) 7128 7129 (face (rainbow-delimiters-depth-6-face) fontified t) 7129 7130 (face (rainbow-delimiters-depth-7-face) fontified t) 7130 7161 (fontified t) 7161 7167 (face font-lock-string-face fontified t) 7167 7202 (fontified t) 7202 7203 (face (rainbow-delimiters-depth-8-face) fontified t) 7203 7204 (face (rainbow-delimiters-depth-9-face) fontified t) 7204 7239 (fontified t) 7239 7252 (face font-lock-string-face fontified t) 7252 7380 (fontified t) 7380 7381 (face (rainbow-delimiters-depth-9-face) fontified t) 7381 7382 (face (rainbow-delimiters-depth-8-face) fontified t) 7382 7403 (fontified t) 7403 7404 (face (rainbow-delimiters-depth-7-face) fontified t) 7404 7405 (face (rainbow-delimiters-depth-6-face) fontified t) 7405 7427 (fontified t) 7427 7432 (face font-lock-keyword-face fontified t) 7432 7433 (fontified t) 7433 7446 (face font-lock-variable-name-face fontified t) 7446 7449 (fontified t) 7449 7454 (face font-lock-keyword-face fontified t) 7454 7477 (fontified t) 7477 7478 (face (rainbow-delimiters-depth-6-face) fontified t) 7478 7479 (face (rainbow-delimiters-depth-7-face) fontified t) 7479 7511 (fontified t) 7511 7530 (face font-lock-string-face fontified t) 7530 7621 (fontified t) 7621 7622 (face (rainbow-delimiters-depth-8-face) fontified t) 7622 7623 (face (rainbow-delimiters-depth-8-face) fontified t) 7623 7725 (fontified t) 7725 7726 (face (rainbow-delimiters-depth-7-face) fontified t) 7726 7727 (face (rainbow-delimiters-depth-6-face) fontified t) 7727 7749 (fontified t) 7749 7752 (face font-lock-comment-delimiter-face fontified t) 7752 7795 (face font-lock-comment-face fontified t) 7795 7815 (fontified t) 7815 7820 (face font-lock-keyword-face fontified t) 7820 7821 (fontified t) 7821 7822 (face font-lock-variable-name-face fontified t) 7822 7830 (fontified t face font-lock-variable-name-face) 7830 7860 (fontified t) 7860 7861 (fontified t face (rainbow-delimiters-depth-6-face)) 7861 7877 (fontified t) 7877 7883 (fontified t face font-lock-string-face) 7883 7884 (fontified t face (rainbow-delimiters-depth-6-face)) 7884 7891 (fontified t) 9304 9305 (js--pend (nil 0 function 4869 ("askClaude") 9306)) 9483 9484 (js--pstate ((nil 0 function 9450 ("handleOwnerCommand") 10169) (((nil 0 function 4869 ("askClaude") 9306) (nil 0 function 3305 ("saveConversation") 3488) (nil 0 function 3106 ("loadConversation") 3303) (nil 0 function 3019 ("getMemoryPath") 3104) (nil 0 function 1995 ("guardarLead") 2934) (nil 0 function 1667 ("logMessage") 1910) (nil 0 function 1295 ("getSystemPrompt") 1582)) -2305843009213693952 toplevel nil nil nil))) 10167 10168 (js--pend (nil 0 function 9450 ("handleOwnerCommand") 10169)) 10303 10304 (js--pstate ((nil 0 function 10254 ("sendHumanReply") 10634) (((nil 0 function 9450 ("handleOwnerCommand") 10169) (nil 0 function 4869 ("askClaude") 9306) (nil 0 function 3305 ("saveConversation") 3488) (nil 0 function 3106 ("loadConversation") 3303) (nil 0 function 3019 ("getMemoryPath") 3104) (nil 0 function 1995 ("guardarLead") 2934) (nil 0 function 1667 ("logMessage") 1910) (nil 0 function 1295 ("getSystemPrompt") 1582)) -2305843009213693952 toplevel nil nil nil))) 10632 10633 (js--pend (nil 0 function 10254 ("sendHumanReply") 10634)) 10770 10771 (js--pstate ((nil 0 function 10745 ("startBot") 14943) (((nil 0 function 10254 ("sendHumanReply") 10634) (nil 0 function 9450 ("handleOwnerCommand") 10169) (nil 0 function 4869 ("askClaude") 9306) (nil 0 function 3305 ("saveConversation") 3488) (nil 0 function 3106 ("loadConversation") 3303) (nil 0 function 3019 ("getMemoryPath") 3104) (nil 0 function 1995 ("guardarLead") 2934) (nil 0 function 1667 ("logMessage") 1910) (nil 0 function 1295 ("getSystemPrompt") 1582)) -2305843009213693952 toplevel nil nil nil))) 13678 13679 (syntax-table (7 . 47)) 13696 13697 (syntax-table (7 . 47)) 13768 13776 (fontified t) 13776 13781 (face font-lock-keyword-face fontified t) 13781 13782 (fontified t) 13782 13786 (face font-lock-variable-name-face fontified t) 13786 13865 (fontified t) 13865 13867 (face font-lock-keyword-face fontified t) 13867 13868 (fontified t) 13868 13869 (face (rainbow-delimiters-depth-4-face) fontified t) 13869 13874 (fontified t) 13874 13875 (face (rainbow-delimiters-depth-4-face) fontified t) 13875 13876 (fontified t) 13876 13882 (face font-lock-keyword-face fontified t) 13882 13892 (fontified t) 13892 13897 (face font-lock-keyword-face fontified t) 13897 13898 (fontified t) 13898 13910 (face font-lock-variable-name-face fontified t) 13910 13927 (fontified t) 13927 13928 (face (rainbow-delimiters-depth-4-face) fontified t) 13928 13929 (face font-lock-string-face fontified t syntax-table (7 . 47)) 13929 13946 (face font-lock-string-face fontified t) 13946 13947 (face font-lock-string-face fontified t syntax-table (7 . 47)) 13947 13949 (fontified t) 13949 13951 (face font-lock-string-face fontified t) 13951 13952 (face (rainbow-delimiters-depth-4-face) fontified t) 13952 13962 (fontified t) 13962 13964 (face font-lock-keyword-face fontified t) 13964 13965 (fontified t) 13965 13966 (face (rainbow-delimiters-depth-4-face) fontified t) 13966 13981 (fontified t) 13981 13982 (face (rainbow-delimiters-depth-5-face) fontified t) 13982 13988 (fontified t) 13988 13989 (face (rainbow-delimiters-depth-5-face) fontified t) 13989 13990 (face (rainbow-delimiters-depth-4-face) fontified t) 13990 13991 (fontified t) 13991 13992 (face (rainbow-delimiters-depth-4-face) fontified t) 13992 14017 (fontified t) 14017 14018 (face (rainbow-delimiters-depth-5-face) fontified t) 14018 14033 (fontified t) 14033 14034 (face (rainbow-delimiters-depth-6-face) fontified t) 14034 14040 (fontified t) 14040 14041 (face (rainbow-delimiters-depth-6-face) fontified t) 14041 14047 (fontified t) 14047 14048 (face (rainbow-delimiters-depth-5-face) fontified t) 14048 14076 (fontified t) 14076 14077 (face (rainbow-delimiters-depth-5-face) fontified t) 14077 14083 (fontified t) 14083 14084 (face (rainbow-delimiters-depth-5-face) fontified t) 14084 14095 (fontified t) 14095 14096 (face (rainbow-delimiters-depth-5-face) fontified t) 14096 14100 (fontified t) 14100 14101 (face (rainbow-delimiters-depth-5-face) fontified t) 14101 14110 (fontified t) 14110 14111 (face (rainbow-delimiters-depth-4-face) fontified t) 14111 14112 (fontified t) 14112 14116 (face font-lock-keyword-face fontified t) 14116 14117 (fontified t) 14117 14118 (face (rainbow-delimiters-depth-4-face) fontified t) 14118 14146 (fontified t) 14146 14147 (face (rainbow-delimiters-depth-5-face) fontified t) 14147 14153 (fontified t) 14153 14154 (face (rainbow-delimiters-depth-5-face) fontified t) 14154 14157 (fontified t) 14157 14158 (face (rainbow-delimiters-depth-5-face) fontified t) 14158 14166 (fontified t) 14166 14167 (face (rainbow-delimiters-depth-6-face) fontified t) 14167 14171 (fontified t) 14171 14172 (face (rainbow-delimiters-depth-6-face) fontified t) 14172 14173 (fontified t) 14173 14174 (face (rainbow-delimiters-depth-5-face) fontified t) 14174 14183 (fontified t) 14183 14184 (face (rainbow-delimiters-depth-4-face) fontified t) 14184 14209 (fontified t) 14209 14210 (face (rainbow-delimiters-depth-4-face) fontified t) 14210 14216 (fontified t) 14216 14217 (face (rainbow-delimiters-depth-4-face) fontified t) 14217 14236 (fontified t) 14236 14237 (face (rainbow-delimiters-depth-4-face) fontified t) 14237 14242 (face font-lock-keyword-face fontified t) 14242 14243 (fontified t) 14243 14244 (face (rainbow-delimiters-depth-5-face) fontified t) 14244 14245 (face (rainbow-delimiters-depth-5-face) fontified t) 14245 14249 (fontified t) 14249 14250 (face (rainbow-delimiters-depth-5-face) fontified t) 14250 14263 (fontified t) 14263 14268 (face font-lock-keyword-face fontified t) 14268 14269 (fontified t) 14269 14277 (face font-lock-variable-name-face fontified t) 14277 14295 (fontified t) 14295 14296 (face (rainbow-delimiters-depth-6-face) fontified t) 14296 14302 (fontified t) 14302 14303 (face (rainbow-delimiters-depth-6-face) fontified t) 14303 14314 (fontified t) 14314 14315 (face (rainbow-delimiters-depth-6-face) fontified t) 14315 14318 (face font-lock-string-face fontified t) 14318 14319 (face (rainbow-delimiters-depth-6-face) fontified t) 14319 14332 (fontified t) 14332 14338 (face font-lock-keyword-face fontified t) 14338 14354 (fontified t) 14354 14355 (face (rainbow-delimiters-depth-6-face) fontified t) 14355 14361 (fontified t) 14361 14362 (face (rainbow-delimiters-depth-6-face) fontified t) 14362 14386 (fontified t) 14386 14387 (face (rainbow-delimiters-depth-6-face) fontified t) 14387 14401 (fontified t) 14401 14405 (face font-lock-string-face fontified t) 14405 14415 (fontified t) 14415 14416 (face (rainbow-delimiters-depth-6-face) fontified t) 14416 14430 (fontified t) 14430 14432 (face font-lock-keyword-face fontified t) 14432 14433 (fontified t) 14433 14434 (face (rainbow-delimiters-depth-6-face) fontified t) 14434 14478 (fontified t) 14478 14479 (face (rainbow-delimiters-depth-6-face) fontified t) 14479 14480 (fontified t) 14480 14481 (face (rainbow-delimiters-depth-6-face) fontified t) 14481 14482 (fontified t) 14482 14509 (fontified t) 14509 14510 (face (rainbow-delimiters-depth-7-face) fontified t) 14510 14586 (face font-lock-string-face fontified t) 14586 14587 (face (rainbow-delimiters-depth-7-face) fontified t) 14587 14588 (fontified t) 14588 14604 (fontified t) 14604 14610 (face font-lock-keyword-face fontified t) 14610 14623 (fontified t) 14623 14624 (face (rainbow-delimiters-depth-6-face) fontified t) 14624 14638 (fontified t) 14638 14641 (face font-lock-keyword-face fontified t) 14641 14642 (fontified t) 14642 14643 (face (rainbow-delimiters-depth-6-face) fontified t) 14643 14660 (fontified t) 14660 14665 (face font-lock-keyword-face fontified t) 14665 14666 (fontified t) 14666 14671 (face font-lock-variable-name-face fontified t) 14671 14674 (fontified t) 14674 14679 (face font-lock-keyword-face fontified t) 14679 14689 (fontified t) 14689 14690 (face (rainbow-delimiters-depth-7-face) fontified t) 14690 14706 (fontified t) 14706 14707 (face (rainbow-delimiters-depth-7-face) fontified t) 14707 14724 (fontified t) 14724 14729 (face font-lock-keyword-face fontified t) 14729 14744 (fontified t) 14744 14745 (face (rainbow-delimiters-depth-7-face) fontified t) 14745 14764 (fontified t) 14764 14765 (face (rainbow-delimiters-depth-7-face) fontified t) 14765 14792 (fontified t) 14792 14793 (face (rainbow-delimiters-depth-7-face) fontified t) 14793 14807 (fontified t) 14807 14812 (face font-lock-string-face fontified t) 14812 14819 (fontified t) 14819 14820 (face (rainbow-delimiters-depth-7-face) fontified t) 14820 14833 (fontified t) 14833 14834 (face (rainbow-delimiters-depth-6-face) fontified t) 14834 14835 (fontified t) 14835 14840 (face font-lock-keyword-face fontified t) 14840 14841 (fontified t) 14841 14842 (face (rainbow-delimiters-depth-6-face) fontified t) 14842 14845 (fontified t) 14845 14846 (face (rainbow-delimiters-depth-6-face) fontified t) 14846 14847 (fontified t) 14847 14848 (face (rainbow-delimiters-depth-6-face) fontified t) 14848 14878 (fontified t) 14878 14879 (face (rainbow-delimiters-depth-7-face) fontified t) 14879 14889 (face font-lock-string-face fontified t) 14889 14894 (fontified t) 14894 14895 (face (rainbow-delimiters-depth-7-face) fontified t) 14895 14908 (fontified t) 14908 14909 (face (rainbow-delimiters-depth-6-face) fontified t) 14909 14918 (fontified t) 14918 14919 (face (rainbow-delimiters-depth-5-face) fontified t) 14919 14932 (fontified t) 14932 14933 (face (rainbow-delimiters-depth-4-face) fontified t) 14933 14938 (fontified t) 14938 14939 (face (rainbow-delimiters-depth-3-face) fontified t) 14939 14940 (face (rainbow-delimiters-depth-2-face) fontified t) 14940 14941 (fontified t) 14941 14942 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 10745 ("startBot") 14943)) 14942 14944 (fontified t) 14944 14952 (fontified t) 14952 14953 (face (rainbow-delimiters-depth-1-face) fontified t) 14953 14954 (face (rainbow-delimiters-depth-1-face) fontified t)) . 1) (undo-tree-id316 . -666) (undo-tree-id317 . -666) (undo-tree-id318 . -5994) (undo-tree-id319 . -6831) (undo-tree-id320 . -428) (undo-tree-id321 . -427) (undo-tree-id322 . -427) (undo-tree-id323 . -242) (undo-tree-id324 . -29) (undo-tree-id325 . -14953) (undo-tree-id326 . -29) (undo-tree-id327 . 14856) (undo-tree-id328 . -29) (undo-tree-id329 . -98) (undo-tree-id330 . -98) (undo-tree-id331 . -81) (undo-tree-id332 . -81) (undo-tree-id333 . -3979) (undo-tree-id334 . -4781) (undo-tree-id335 . -4595) (undo-tree-id336 . -4595) (undo-tree-id337 . -4595) (undo-tree-id338 . -5579) (undo-tree-id339 . -6585) (undo-tree-id340 . -6831) (undo-tree-id341 . -6832) (undo-tree-id342 . -6831) (undo-tree-id343 . -13857) (undo-tree-id344 . -6831) (undo-tree-id345 . -6831) (undo-tree-id346 . -6831) (undo-tree-id347 . -6831) (undo-tree-id348 . -6831) (undo-tree-id349 . -6831) (undo-tree-id350 . -6831) (undo-tree-id351 . -6831) (undo-tree-id352 . -6831) (undo-tree-id353 . -6831) (undo-tree-id354 . -6831) (undo-tree-id355 . -6831) (undo-tree-id356 . -6831) (undo-tree-id357 . -6831) (undo-tree-id358 . -6831) (undo-tree-id359 . -6831) (undo-tree-id360 . -6831) (undo-tree-id361 . -6831) (undo-tree-id362 . -6831) (undo-tree-id363 . -6831) (undo-tree-id364 . -6831) (undo-tree-id365 . -6831) (undo-tree-id366 . -6831) (undo-tree-id367 . -6831) (undo-tree-id368 . -6831) (undo-tree-id369 . -6831) (undo-tree-id370 . -6831) (undo-tree-id371 . -6831) (undo-tree-id372 . -6831) (undo-tree-id373 . -6831) (undo-tree-id374 . -6831) (undo-tree-id375 . -6831) (undo-tree-id376 . -6831) (undo-tree-id377 . -6831) (undo-tree-id378 . -6831) (undo-tree-id379 . -6831) (undo-tree-id380 . -6831) (undo-tree-id381 . -6831) (undo-tree-id382 . -6831) (undo-tree-id383 . -6855) (undo-tree-id384 . -6855) (undo-tree-id385 . -6855) (undo-tree-id386 . -6855) (undo-tree-id387 . -6855) (undo-tree-id388 . -6855) (undo-tree-id389 . -6855) (undo-tree-id390 . -6855) (undo-tree-id391 . -6855) (undo-tree-id392 . -6855) (undo-tree-id393 . -6855) (undo-tree-id394 . -6855) (undo-tree-id395 . -6855) (undo-tree-id396 . -6855) (undo-tree-id397 . -6855) (undo-tree-id398 . -6855) (undo-tree-id399 . -6855) (undo-tree-id400 . -6855) (undo-tree-id401 . -6855) (undo-tree-id402 . -6855) (undo-tree-id403 . -6855) (undo-tree-id404 . -6855) (undo-tree-id405 . -6855) (undo-tree-id406 . -6855) (undo-tree-id407 . -6855) (undo-tree-id408 . -6855) (undo-tree-id409 . -6855) (undo-tree-id410 . -6855) (undo-tree-id411 . -6855) (undo-tree-id412 . -6855) (undo-tree-id413 . -6855) (undo-tree-id414 . -6855) (undo-tree-id415 . -6855) (undo-tree-id416 . -6855) (undo-tree-id417 . -6855) (undo-tree-id418 . -6855) (undo-tree-id419 . -6855) (undo-tree-id420 . -6855) (undo-tree-id421 . -6855) (undo-tree-id422 . -6855) (undo-tree-id423 . -6855) (undo-tree-id424 . -6855) (undo-tree-id425 . -6855) (undo-tree-id426 . -6855) (undo-tree-id427 . -6855) (undo-tree-id428 . -6855) (undo-tree-id429 . -6855) (undo-tree-id430 . -6855) (undo-tree-id431 . -6855) (undo-tree-id432 . -6855) (undo-tree-id433 . -6855) (undo-tree-id434 . -6855) (undo-tree-id435 . -6855) (undo-tree-id436 . -6855) (undo-tree-id437 . -6855) (undo-tree-id438 . -6855) (undo-tree-id439 . -6855) (undo-tree-id440 . -6855) (undo-tree-id441 . -6855) (undo-tree-id442 . -6855) (undo-tree-id443 . -6855) (undo-tree-id444 . -6855) (undo-tree-id445 . -6855) (undo-tree-id446 . -6855) (undo-tree-id447 . -6855) (undo-tree-id448 . -6855) (undo-tree-id449 . -6855) (undo-tree-id450 . -6855) (undo-tree-id451 . -6855) (undo-tree-id452 . -6855) (undo-tree-id453 . -99) (undo-tree-id454 . -99) (undo-tree-id455 . -99) (undo-tree-id456 . -99) (undo-tree-id457 . -99) (undo-tree-id458 . -99) (undo-tree-id459 . -99) (undo-tree-id460 . -99) (undo-tree-id461 . -99) (undo-tree-id462 . -99) (undo-tree-id463 . -99) (undo-tree-id464 . -99) (undo-tree-id465 . -99) (undo-tree-id466 . -99) (undo-tree-id467 . -99) (undo-tree-id468 . -99) (undo-tree-id469 . -99) (undo-tree-id470 . -99) (undo-tree-id471 . -99) (undo-tree-id472 . -99) (undo-tree-id473 . -99) (undo-tree-id474 . -99) (undo-tree-id475 . -99) (undo-tree-id476 . -99) (undo-tree-id477 . -99) (undo-tree-id478 . -99) (undo-tree-id479 . -99) (undo-tree-id480 . -99) (undo-tree-id481 . -99) (undo-tree-id482 . -99) (undo-tree-id483 . -99) (undo-tree-id484 . -6831) (undo-tree-id485 . -14954) 14956 (t 27040 42086 89938 587000)) nil (27040 42443 256620 273000) 0 nil])
([nil nil ((nil rear-nonsticky nil 13627 . 13628) (nil fontified nil 13167 . 13628) (13167 . 13628) (t 27040 42443 258937 224000)) nil (27040 42780 872484 514000) 0 nil])
([nil nil ((#("sock.ev.on('messages.upsert', async ({ messages, type }) => {
    if (type !== 'notify') return

    const msg = messages[0]

    const msgTimestamp = (msg.messageTimestamp || 0) * 1000
    if (Date.now() - msgTimestamp > 30_000) return

    const sender = msg.key.remoteJid
    console.log(`üì• Sender: ${sender} | Resolved: ${resolvePhoneNumber(sender)} | MapKeys: ${Object.keys(contactsMap).slice(0,5)}`)  // üëà ADD HERE
    if (sender.endsWith('@g.us')) return" 0 10 (fontified nil) 10 11 (face (rainbow-delimiters-depth-2-face) fontified nil) 11 28 (face font-lock-string-face fontified nil) 28 30 (fontified nil) 30 35 (face font-lock-keyword-face fontified nil) 35 36 (fontified nil) 36 37 (face (rainbow-delimiters-depth-3-face) fontified nil) 37 38 (face (rainbow-delimiters-depth-4-face) fontified nil) 38 54 (fontified nil) 54 55 (face (rainbow-delimiters-depth-4-face) fontified nil) 55 56 (face (rainbow-delimiters-depth-3-face) fontified nil) 56 60 (fontified nil) 60 61 (face (rainbow-delimiters-depth-3-face) fontified nil) 61 66 (fontified nil) 66 68 (face font-lock-keyword-face fontified nil) 68 69 (fontified nil) 69 70 (face (rainbow-delimiters-depth-4-face) fontified nil) 70 79 (fontified nil) 79 87 (face font-lock-string-face fontified nil) 87 88 (face (rainbow-delimiters-depth-4-face) fontified nil) 88 89 (fontified nil) 89 95 (face font-lock-keyword-face fontified nil) 95 101 (fontified nil) 101 106 (face font-lock-keyword-face fontified nil) 106 107 (fontified nil) 107 110 (face font-lock-variable-name-face fontified nil) 110 121 (fontified nil) 121 122 (face (rainbow-delimiters-depth-4-face) fontified nil) 122 123 (fontified nil) 123 124 (face (rainbow-delimiters-depth-4-face) fontified nil) 124 130 (fontified nil) 130 135 (face font-lock-keyword-face fontified nil) 135 136 (fontified nil) 136 148 (face font-lock-variable-name-face fontified nil) 148 151 (fontified nil) 151 152 (face (rainbow-delimiters-depth-4-face) fontified nil) 152 177 (fontified nil) 177 178 (face (rainbow-delimiters-depth-4-face) fontified nil) 178 190 (fontified nil) 190 192 (face font-lock-keyword-face fontified nil) 192 193 (fontified nil) 193 194 (face (rainbow-delimiters-depth-4-face) fontified nil) 194 202 (fontified nil) 202 203 (face (rainbow-delimiters-depth-5-face) fontified nil) 203 204 (face (rainbow-delimiters-depth-5-face) fontified nil) 204 228 (fontified nil) 228 229 (face (rainbow-delimiters-depth-4-face) fontified nil) 229 230 (fontified nil) 230 236 (face font-lock-keyword-face fontified nil) 236 242 (fontified nil) 242 247 (face font-lock-keyword-face fontified nil) 247 248 (fontified nil) 248 254 (face font-lock-variable-name-face fontified nil) 254 290 (fontified nil) 290 291 (face (rainbow-delimiters-depth-4-face) fontified nil) 291 404 (face font-lock-string-face fontified nil) 404 405 (face (rainbow-delimiters-depth-4-face) fontified nil) 405 407 (fontified nil) 407 410 (face font-lock-comment-delimiter-face fontified nil) 410 421 (face font-lock-comment-face fontified nil) 421 425 (fontified nil) 425 427 (face font-lock-keyword-face fontified nil) 427 428 (fontified nil) 428 429 (face (rainbow-delimiters-depth-4-face) fontified nil) 429 444 (fontified nil) 444 445 (face (rainbow-delimiters-depth-5-face) fontified nil) 445 452 (face font-lock-string-face fontified nil) 452 453 (face (rainbow-delimiters-depth-5-face) fontified nil) 453 454 (face (rainbow-delimiters-depth-4-face) fontified nil) 454 455 (fontified nil) 455 460 (face font-lock-keyword-face fontified nil) 460 461 (face font-lock-keyword-face fontified nil rear-nonsticky nil)) . 13167) (undo-tree-id498 . -460) (undo-tree-id499 . -421) (undo-tree-id500 . -460) (undo-tree-id501 . -460) (undo-tree-id502 . -460) (undo-tree-id503 . -460) (undo-tree-id504 . -460) (undo-tree-id505 . -460) (nil fontified t 13577 . 13588) (nil fontified t 13574 . 13577) (nil fontified t 13572 . 13574) (nil fontified t 13571 . 13572) (nil fontified t 13458 . 13571) (nil fontified t 13457 . 13458) (nil fontified t 13421 . 13457) (nil fontified t 13415 . 13421) (nil fontified t 13414 . 13415) (nil fontified t 13409 . 13414) (nil fontified t 13403 . 13409) (nil fontified t 13397 . 13403) (nil fontified t 13396 . 13397) (nil fontified t 13395 . 13396) (nil fontified t 13371 . 13395) (nil fontified t 13370 . 13371) (nil fontified t 13369 . 13370) (nil fontified t 13361 . 13369) (nil fontified t 13360 . 13361) (nil fontified t 13359 . 13360) (nil fontified t 13357 . 13359) (nil fontified t 13345 . 13357) (nil fontified t 13344 . 13345) (nil fontified t 13319 . 13344) (nil fontified t 13318 . 13319) (nil fontified t 13315 . 13318) (nil fontified t 13303 . 13315) (nil fontified t 13302 . 13303) (nil fontified t 13297 . 13302) (nil fontified t 13291 . 13297) (nil fontified t 13290 . 13291) (nil fontified t 13289 . 13290) (nil fontified t 13288 . 13289) (nil fontified t 13277 . 13288) (nil fontified t 13274 . 13277) (nil fontified t 13273 . 13274) (nil fontified t 13268 . 13273) (nil fontified t 13262 . 13268) (nil fontified t 13256 . 13262) (nil fontified t 13255 . 13256) (nil fontified t 13254 . 13255) (nil fontified t 13246 . 13254) (nil fontified t 13237 . 13246) (nil fontified t 13236 . 13237) (nil fontified t 13235 . 13236) (nil fontified t 13233 . 13235) (nil fontified t 13228 . 13233) (nil fontified t 13227 . 13228) (nil fontified t 13223 . 13227) (nil fontified t 13222 . 13223) (nil fontified t 13221 . 13222) (nil fontified t 13205 . 13221) (nil fontified t 13204 . 13205) (nil fontified t 13203 . 13204) (nil fontified t 13202 . 13203) (nil fontified t 13197 . 13202) (nil fontified t 13195 . 13197) (nil fontified t 13178 . 13195) (nil fontified t 13177 . 13178) (nil fontified t 13167 . 13177) (nil rear-nonsticky t 13627 . 13628)) nil (27040 42780 872483 199000) 0 nil])
([nil nil ((#("    " 0 4 (fontified t)) . -13168) (undo-tree-id497 . -4) 13172 (13167 . 13172) (t 27040 42443 258937 224000) 13167) nil (27040 42780 872477 669000) 0 nil])
([nil nil ((nil rear-nonsticky nil 13627 . 13628) (nil fontified nil 13167 . 13628) (13167 . 13628)) nil (27040 42780 872476 725000) 0 nil])
([nil nil ((#("    " 0 4 (fontified nil)) . -13624) (13616 . 13624) (#("    " 0 4 (fontified nil)) . -13474) (13466 . 13474) (#("    " 0 4 (fontified nil)) . -13433) (13425 . 13433) (#("    " 0 4 (fontified nil)) . -13377) (13369 . 13377) (#("    " 0 4 (fontified nil)) . -13313) (13305 . 13313) (#("    " 0 4 (fontified nil)) . -13280) (13272 . 13280) (#("    " 0 4 (fontified nil)) . -13241) (13233 . 13241) (13167 . 13171) 13627) nil (27040 42780 872474 735000) 0 nil])
([nil nil ((#("    " 0 4 (fontified t)) . -13167) (undo-tree-id496 . -4) 13171 (13166 . 13171) 13165) nil (27040 42780 872472 187000) 0 nil])
([nil nil ((#("        if (sender.endsWith('@g.us')) return

    sock.ev.on('messages.upsert', async ({ messages, type }) => {
        if (type !== 'notify') return

        const msg = messages[0]

        const msgTimestamp = (msg.messageTimestamp || 0) * 1000
        if (Date.now() - msgTimestamp > 30_000) return

        const sender = msg.key.remoteJid
        if (sender.endsWith('@g.us')) return
" 0 8 (fontified t) 8 10 (face font-lock-keyword-face fontified t) 10 11 (fontified t) 11 12 (face (rainbow-delimiters-depth-4-face) fontified t) 12 27 (fontified t) 27 28 (face (rainbow-delimiters-depth-5-face) fontified t) 28 35 (face font-lock-string-face fontified t) 35 36 (face (rainbow-delimiters-depth-5-face) fontified t) 36 37 (face (rainbow-delimiters-depth-4-face) fontified t) 37 38 (fontified t) 38 43 (face font-lock-keyword-face fontified t) 43 44 (face font-lock-keyword-face fontified t rear-nonsticky t) 44 45 (fontified t) 45 46 (fontified t) 46 60 (fontified t) 60 61 (face (rainbow-delimiters-depth-4-face) fontified t) 61 72 (face font-lock-string-face fontified t) 72 78 (face font-lock-string-face fontified t) 78 80 (fontified t) 80 85 (face font-lock-keyword-face fontified t) 85 86 (fontified t) 86 87 (face (rainbow-delimiters-depth-5-face) fontified t) 87 88 (face (rainbow-delimiters-depth-6-face) fontified t) 88 104 (fontified t) 104 105 (face (rainbow-delimiters-depth-6-face) fontified t) 105 106 (face (rainbow-delimiters-depth-5-face) fontified t) 106 110 (fontified t) 110 111 (face (rainbow-delimiters-depth-5-face) fontified t) 111 120 (fontified t) 120 122 (face font-lock-keyword-face fontified t) 122 123 (fontified t) 123 124 (face (rainbow-delimiters-depth-6-face) fontified t) 124 133 (fontified t) 133 141 (face font-lock-string-face fontified t) 141 142 (face (rainbow-delimiters-depth-6-face) fontified t) 142 143 (fontified t) 143 149 (face font-lock-keyword-face fontified t) 149 159 (fontified t) 159 164 (face font-lock-keyword-face fontified t) 164 165 (fontified t) 165 168 (face font-lock-variable-name-face fontified t) 168 179 (fontified t) 179 180 (face (rainbow-delimiters-depth-6-face) fontified t) 180 181 (fontified t) 181 182 (face (rainbow-delimiters-depth-6-face) fontified t) 182 192 (fontified t) 192 197 (face font-lock-keyword-face fontified t) 197 198 (fontified t) 198 210 (face font-lock-variable-name-face fontified t) 210 213 (fontified t) 213 214 (face (rainbow-delimiters-depth-6-face) fontified t) 214 239 (fontified t) 239 240 (face (rainbow-delimiters-depth-6-face) fontified t) 240 256 (fontified t) 256 258 (face font-lock-keyword-face fontified t) 258 259 (fontified t) 259 260 (face (rainbow-delimiters-depth-6-face) fontified t) 260 268 (fontified t) 268 269 (face (rainbow-delimiters-depth-7-face) fontified t) 269 270 (face (rainbow-delimiters-depth-7-face) fontified t) 270 294 (fontified t) 294 295 (face (rainbow-delimiters-depth-6-face) fontified t) 295 296 (fontified t) 296 302 (face font-lock-keyword-face fontified t) 302 312 (fontified t) 312 317 (face font-lock-keyword-face fontified t) 317 318 (fontified t) 318 324 (face font-lock-variable-name-face fontified t) 324 353 (fontified t) 353 355 (face font-lock-keyword-face fontified t) 355 356 (fontified t) 356 357 (face (rainbow-delimiters-depth-6-face) fontified t) 357 372 (fontified t) 372 373 (face (rainbow-delimiters-depth-7-face) fontified t) 373 380 (face font-lock-string-face fontified t) 380 381 (face (rainbow-delimiters-depth-7-face) fontified t) 381 382 (face (rainbow-delimiters-depth-6-face) fontified t) 382 383 (fontified t) 383 389 (face font-lock-keyword-face fontified t) 389 390 (fontified t)) . 13617) (undo-tree-id486 . -345) (undo-tree-id487 . -345) (undo-tree-id488 . -389) (undo-tree-id489 . -62) (undo-tree-id490 . -62) (undo-tree-id491 . -62) (undo-tree-id492 . -62) (undo-tree-id493 . -62) (undo-tree-id494 . -62) (undo-tree-id495 . -77)) nil (27040 42780 872468 236000) 0 nil])
([nil nil ((nil rear-nonsticky nil 11690 . 11691) (nil fontified nil 11247 . 11691) (11247 . 11691) (#("    sock.ev.on('contacts.upsert', (contacts) => {
        for (const contact of contacts) {
            if (contact.lid && contact.id) {
                contactsMap[contact.lid] = contact.id
                console.log(`üìá Contact mapped: ${contact.lid} ‚Üí ${contact.id}`)
            }
        }
    })" 0 14 (fontified t) 14 15 (face (rainbow-delimiters-depth-2-face) fontified t) 15 32 (face font-lock-string-face fontified t) 32 34 (fontified t) 34 35 (face (rainbow-delimiters-depth-3-face) fontified t) 35 43 (fontified t) 43 44 (face (rainbow-delimiters-depth-3-face) fontified t) 44 48 (fontified t) 48 49 (face (rainbow-delimiters-depth-3-face) fontified t) 49 58 (fontified t) 58 61 (face font-lock-keyword-face fontified t) 61 62 (fontified t) 62 63 (face (rainbow-delimiters-depth-4-face) fontified t) 63 68 (face font-lock-keyword-face fontified t) 68 69 (fontified t) 69 76 (face font-lock-variable-name-face fontified t) 76 77 (fontified t) 77 79 (face font-lock-keyword-face fontified t) 79 88 (fontified t) 88 89 (face (rainbow-delimiters-depth-4-face) fontified t) 89 90 (fontified t) 90 91 (face (rainbow-delimiters-depth-4-face) fontified t) 91 104 (fontified t) 104 106 (face font-lock-keyword-face fontified t) 106 107 (fontified t) 107 108 (face (rainbow-delimiters-depth-5-face) fontified t) 108 133 (fontified t) 133 134 (face (rainbow-delimiters-depth-5-face) fontified t) 134 135 (fontified t) 135 136 (face (rainbow-delimiters-depth-5-face) fontified t) 136 164 (fontified t) 164 165 (face (rainbow-delimiters-depth-6-face) fontified t) 165 176 (fontified t) 176 177 (face (rainbow-delimiters-depth-6-face) fontified t) 177 218 (fontified t) 218 219 (face (rainbow-delimiters-depth-6-face) fontified t) 219 269 (face font-lock-string-face fontified t) 269 270 (face (rainbow-delimiters-depth-6-face) fontified t) 270 283 (fontified t) 283 284 (face (rainbow-delimiters-depth-5-face) fontified t) 284 293 (fontified t) 293 294 (face (rainbow-delimiters-depth-4-face) fontified t) 294 299 (fontified t) 299 300 (face (rainbow-delimiters-depth-3-face) fontified t) 300 301 (face (rainbow-delimiters-depth-2-face) fontified t)) . 11247) (undo-tree-id690 . -31) (undo-tree-id691 . -301) (undo-tree-id692 . -300) (undo-tree-id693 . -221) (undo-tree-id694 . -301) 11549 (t 27040 42780 874935 936000)) nil (27040 42987 399821 616000) 0 nil])
([nil nil ((11725 . 11729) (#("    " 0 4 (fontified nil)) . -11723) (undo-tree-id506 . -1) (undo-tree-id507 . -1) (undo-tree-id508 . -1) (undo-tree-id509 . -1) (undo-tree-id510 . -1) (undo-tree-id511 . -1) (undo-tree-id512 . -1) (undo-tree-id513 . -1) (undo-tree-id514 . -1) (undo-tree-id515 . -1) (undo-tree-id516 . -1) (undo-tree-id517 . -1) (undo-tree-id518 . -1) (undo-tree-id519 . -1) (undo-tree-id520 . -1) (undo-tree-id521 . -1) (undo-tree-id522 . -1) (undo-tree-id523 . -1) (undo-tree-id524 . -1) (undo-tree-id525 . -1) (undo-tree-id526 . -1) (undo-tree-id527 . -1) (undo-tree-id528 . -1) (undo-tree-id529 . -1) (undo-tree-id530 . -1) (undo-tree-id531 . -1) (undo-tree-id532 . -1) (undo-tree-id533 . -1) (undo-tree-id534 . -1) (undo-tree-id535 . -1) (11715 . 11723) (#("        " 0 8 (fontified nil)) . -11713) (undo-tree-id536 . -1) (undo-tree-id537 . -1) (undo-tree-id538 . -1) (undo-tree-id539 . -1) (undo-tree-id540 . -1) (undo-tree-id541 . -1) (undo-tree-id542 . -1) (undo-tree-id543 . -1) (undo-tree-id544 . -1) (undo-tree-id545 . -1) (undo-tree-id546 . -1) (undo-tree-id547 . -1) (undo-tree-id548 . -1) (undo-tree-id549 . -1) (undo-tree-id550 . -1) (undo-tree-id551 . -1) (11701 . 11713) (#("            " 0 12 (fontified nil)) . -11637) (undo-tree-id552 . -1) (undo-tree-id553 . -1) (undo-tree-id554 . -1) (undo-tree-id555 . -1) (undo-tree-id556 . -1) (undo-tree-id557 . -1) (undo-tree-id558 . -1) (undo-tree-id559 . -1) (undo-tree-id560 . -1) (undo-tree-id561 . -1) (undo-tree-id562 . -1) (undo-tree-id563 . -1) (undo-tree-id564 . -1) (undo-tree-id565 . -1) (undo-tree-id566 . -1) (undo-tree-id567 . -1) (11621 . 11637) (#("            " 0 12 (fontified nil)) . -11529) (undo-tree-id568 . -1) (undo-tree-id569 . -1) (undo-tree-id570 . -1) (undo-tree-id571 . -1) (undo-tree-id572 . -1) (undo-tree-id573 . -1) (undo-tree-id574 . -1) (undo-tree-id575 . -1) (undo-tree-id576 . -1) (undo-tree-id577 . -1) (undo-tree-id578 . -1) (undo-tree-id579 . -1) (undo-tree-id580 . -1) (undo-tree-id581 . -1) (undo-tree-id582 . -1) (undo-tree-id583 . -1) (11513 . 11529) (#("            " 0 12 (fontified nil)) . -11454) (undo-tree-id584 . -1) (undo-tree-id585 . -1) (undo-tree-id586 . -1) (undo-tree-id587 . -1) (undo-tree-id588 . -1) (undo-tree-id589 . -1) (undo-tree-id590 . -1) (undo-tree-id591 . -1) (undo-tree-id592 . -1) (undo-tree-id593 . -1) (undo-tree-id594 . -1) (undo-tree-id595 . -1) (undo-tree-id596 . -1) (undo-tree-id597 . -1) (undo-tree-id598 . -1) (undo-tree-id599 . -1) (11438 . 11454) (#("            " 0 12 (fontified nil)) . -11400) (undo-tree-id600 . -1) (undo-tree-id601 . -1) (undo-tree-id602 . -1) (undo-tree-id603 . -1) (undo-tree-id604 . -1) (undo-tree-id605 . -1) (undo-tree-id606 . -1) (undo-tree-id607 . -1) (undo-tree-id608 . -1) (undo-tree-id609 . -1) (undo-tree-id610 . -1) (undo-tree-id611 . -1) (undo-tree-id612 . -1) (undo-tree-id613 . -1) (undo-tree-id614 . -1) (undo-tree-id615 . -1) (undo-tree-id616 . -1) (undo-tree-id617 . -1) (undo-tree-id618 . -1) (undo-tree-id619 . -1) (undo-tree-id620 . -1) (undo-tree-id621 . -1) (undo-tree-id622 . -1) (undo-tree-id623 . -1) (undo-tree-id624 . -1) (undo-tree-id625 . -1) (undo-tree-id626 . -1) (undo-tree-id627 . -1) (undo-tree-id628 . -1) (undo-tree-id629 . -1) (11384 . 11400) (#("        " 0 8 (fontified nil)) . -11351) (undo-tree-id630 . -1) (undo-tree-id631 . -1) (undo-tree-id632 . -1) (undo-tree-id633 . -1) (undo-tree-id634 . -1) (undo-tree-id635 . -1) (undo-tree-id636 . -1) (undo-tree-id637 . -1) (undo-tree-id638 . -1) (undo-tree-id639 . -1) (undo-tree-id640 . -1) (undo-tree-id641 . -1) (undo-tree-id642 . -1) (undo-tree-id643 . -1) (undo-tree-id644 . -1) (undo-tree-id645 . -1) (undo-tree-id646 . -1) (undo-tree-id647 . -1) (undo-tree-id648 . -1) (undo-tree-id649 . -1) (undo-tree-id650 . -1) (undo-tree-id651 . -1) (undo-tree-id652 . -1) (undo-tree-id653 . -1) (undo-tree-id654 . -1) (undo-tree-id655 . -1) (undo-tree-id656 . -1) (undo-tree-id657 . -1) (undo-tree-id658 . -1) (undo-tree-id659 . -1) (11339 . 11351) (#("    " 0 4 (fontified nil)) . -11305) (undo-tree-id660 . -1) (undo-tree-id661 . -1) (undo-tree-id662 . -1) (undo-tree-id663 . -1) (undo-tree-id664 . -1) (undo-tree-id665 . -1) (undo-tree-id666 . -1) (undo-tree-id667 . -1) (undo-tree-id668 . -1) (undo-tree-id669 . -1) (undo-tree-id670 . -1) (undo-tree-id671 . -1) (undo-tree-id672 . -1) (undo-tree-id673 . -1) (undo-tree-id674 . -1) (undo-tree-id675 . -1) (undo-tree-id676 . -1) (undo-tree-id677 . -1) (undo-tree-id678 . -1) (undo-tree-id679 . -1) (undo-tree-id680 . -1) (undo-tree-id681 . -1) (undo-tree-id682 . -1) (undo-tree-id683 . -1) (undo-tree-id684 . -1) (undo-tree-id685 . -1) (undo-tree-id686 . -1) (undo-tree-id687 . -1) (undo-tree-id688 . -1) (undo-tree-id689 . -1) (11297 . 11305) (11247 . 11251) 11248) nil (27040 42987 399814 108000) 0 nil])
([nil nil ((nil rear-nonsticky nil 11687 . 11688) (nil fontified nil 11247 . 11688) (11247 . 11688) (#("    sock.ev.on('contacts.upsert', (contacts) => {
        for (const contact of contacts) {
            if (contact.lid && contact.id) {
                contactsMap[contact.lid] = contact.id
                contactsMap[contact.lid.replace(/@lid$/, '')] = contact.id
                contactsMap[contact.lid.endsWith('@lid') ? contact.lid : `${contact.lid}@lid`] = contact.id
                console.log(`üìá Contact mapped: ${contact.lid} ‚Üí ${contact.id}`)
            }
        }
    })" 0 4 (fontified t) 4 14 (fontified t) 14 15 (face (rainbow-delimiters-depth-2-face) fontified t) 15 32 (face font-lock-string-face fontified t) 32 34 (fontified t) 34 35 (face (rainbow-delimiters-depth-3-face) fontified t) 35 43 (fontified t) 43 44 (face (rainbow-delimiters-depth-3-face) fontified t) 44 48 (fontified t) 48 49 (face (rainbow-delimiters-depth-3-face) fontified t) 49 58 (fontified t) 58 61 (face font-lock-keyword-face fontified t) 61 62 (fontified t) 62 63 (face (rainbow-delimiters-depth-4-face) fontified t) 63 68 (face font-lock-keyword-face fontified t) 68 69 (fontified t) 69 76 (face font-lock-variable-name-face fontified t) 76 77 (fontified t) 77 79 (face font-lock-keyword-face fontified t) 79 88 (fontified t) 88 89 (face (rainbow-delimiters-depth-4-face) fontified t) 89 90 (fontified t) 90 91 (face (rainbow-delimiters-depth-4-face) fontified t) 91 104 (fontified t) 104 106 (face font-lock-keyword-face fontified t) 106 107 (fontified t) 107 108 (face (rainbow-delimiters-depth-5-face) fontified t) 108 133 (fontified t) 133 134 (face (rainbow-delimiters-depth-5-face) fontified t) 134 135 (fontified t) 135 136 (face (rainbow-delimiters-depth-5-face) fontified t) 136 153 (fontified t) 153 164 (fontified t) 164 165 (face (rainbow-delimiters-depth-6-face) fontified t) 165 176 (fontified t) 176 177 (face (rainbow-delimiters-depth-6-face) fontified t) 177 207 (fontified t) 207 218 (fontified t) 218 219 (face (rainbow-delimiters-depth-6-face) fontified t) 219 238 (fontified t) 238 239 (face (rainbow-delimiters-depth-7-face) fontified t) 239 240 (face font-lock-string-face syntax-table (7 . 47) fontified t) 240 245 (face font-lock-string-face fontified t) 245 246 (face font-lock-string-face syntax-table (7 . 47) fontified t) 246 248 (fontified t) 248 250 (face font-lock-string-face fontified t) 250 251 (face (rainbow-delimiters-depth-7-face) fontified t) 251 252 (face (rainbow-delimiters-depth-6-face) fontified t) 252 282 (fontified t) 282 293 (fontified t) 293 294 (face (rainbow-delimiters-depth-6-face) fontified t) 294 314 (fontified t) 314 315 (face (rainbow-delimiters-depth-7-face) fontified t) 315 321 (face font-lock-string-face fontified t) 321 322 (face (rainbow-delimiters-depth-7-face) fontified t) 322 339 (fontified t) 339 359 (face font-lock-string-face fontified t) 359 360 (face (rainbow-delimiters-depth-6-face) fontified t) 360 390 (fontified t) 390 401 (fontified t) 401 402 (face (rainbow-delimiters-depth-6-face) fontified t) 402 452 (face font-lock-string-face fontified t) 452 453 (face (rainbow-delimiters-depth-6-face) fontified t) 453 466 (fontified t) 466 467 (face (rainbow-delimiters-depth-5-face) fontified t) 467 476 (fontified t) 476 477 (face (rainbow-delimiters-depth-4-face) fontified t) 477 482 (fontified t) 482 483 (face (rainbow-delimiters-depth-3-face) fontified t) 483 484 (face (rainbow-delimiters-depth-2-face) rear-nonsticky t fontified t)) . 11247) (undo-tree-id881 . -8) (undo-tree-id882 . -484) (undo-tree-id883 . -483) (undo-tree-id884 . -1) (undo-tree-id885 . -190) (undo-tree-id886 . -403) (undo-tree-id887 . -190) (undo-tree-id888 . -199) (undo-tree-id889 . -145) (undo-tree-id890 . -145) (undo-tree-id891 . -145) (undo-tree-id892 . -145) (undo-tree-id893 . -145) (undo-tree-id894 . -145) (undo-tree-id895 . -145) (undo-tree-id896 . -145) (undo-tree-id897 . -145) (undo-tree-id898 . -145) (undo-tree-id899 . -145) (undo-tree-id900 . -145) (undo-tree-id901 . -145) (undo-tree-id902 . -145) (undo-tree-id903 . -145) (undo-tree-id904 . -145) (undo-tree-id905 . -145) (undo-tree-id906 . -199) (undo-tree-id907 . -199) (undo-tree-id908 . -199) (undo-tree-id909 . -199) (undo-tree-id910 . -199) (undo-tree-id911 . -199) (undo-tree-id912 . -199) (undo-tree-id913 . -199) (undo-tree-id914 . -199) (undo-tree-id915 . -199) (undo-tree-id916 . -199) (undo-tree-id917 . -199) (undo-tree-id918 . -199) (undo-tree-id919 . -199) (undo-tree-id920 . -199) (undo-tree-id921 . -199) (undo-tree-id922 . -199) (undo-tree-id923 . -199) (undo-tree-id924 . -199) (undo-tree-id925 . -199) (undo-tree-id926 . -199) (undo-tree-id927 . -199) (undo-tree-id928 . -199) (undo-tree-id929 . -199) (undo-tree-id930 . -199) (undo-tree-id931 . -199) (undo-tree-id932 . -199) (undo-tree-id933 . -199) (undo-tree-id934 . -199) (undo-tree-id935 . -199) (undo-tree-id936 . -274) (undo-tree-id937 . -274) (undo-tree-id938 . -274) (undo-tree-id939 . -274) (undo-tree-id940 . -274) (undo-tree-id941 . -274) (undo-tree-id942 . -274) (undo-tree-id943 . -274) (undo-tree-id944 . -274) (undo-tree-id945 . -274) (undo-tree-id946 . -274) (undo-tree-id947 . -274) (undo-tree-id948 . -274) (undo-tree-id949 . -274) (undo-tree-id950 . -274) (undo-tree-id951 . -274) (undo-tree-id952 . -274) (undo-tree-id953 . -274) (undo-tree-id954 . -274) (undo-tree-id955 . -274) (undo-tree-id956 . -274) (undo-tree-id957 . -274) (undo-tree-id958 . -274) (undo-tree-id959 . -274) (undo-tree-id960 . -274) (undo-tree-id961 . -274) (undo-tree-id962 . -274) (undo-tree-id963 . -274) (undo-tree-id964 . -274) (undo-tree-id965 . -274) (undo-tree-id966 . -382) (undo-tree-id967 . -382) (undo-tree-id968 . -382) (undo-tree-id969 . -382) (undo-tree-id970 . -382) (undo-tree-id971 . -382) (undo-tree-id972 . -382) (undo-tree-id973 . -382) (undo-tree-id974 . -382) (undo-tree-id975 . -382) (undo-tree-id976 . -382) (undo-tree-id977 . -382) (undo-tree-id978 . -382) (undo-tree-id979 . -382) (undo-tree-id980 . -382) (undo-tree-id981 . -382) (undo-tree-id982 . -382) (undo-tree-id983 . -382) (undo-tree-id984 . -382) (undo-tree-id985 . -382) (undo-tree-id986 . -382) (undo-tree-id987 . -382) (undo-tree-id988 . -382) (undo-tree-id989 . -382) (undo-tree-id990 . -382) (undo-tree-id991 . -382) (undo-tree-id992 . -382) (undo-tree-id993 . -382) (undo-tree-id994 . -382) (undo-tree-id995 . -382) (undo-tree-id996 . -462) (undo-tree-id997 . -462) (undo-tree-id998 . -462) (undo-tree-id999 . -462) (undo-tree-id1000 . -462) (undo-tree-id1001 . -462) (undo-tree-id1002 . -462) (undo-tree-id1003 . -462) (undo-tree-id1004 . -462) (undo-tree-id1005 . -462) (undo-tree-id1006 . -462) (undo-tree-id1007 . -462) (undo-tree-id1008 . -462) (undo-tree-id1009 . -462) (undo-tree-id1010 . -462) (undo-tree-id1011 . -462) (undo-tree-id1012 . -462) (undo-tree-id1013 . -462) (undo-tree-id1014 . -462) (undo-tree-id1015 . -462) (undo-tree-id1016 . -462) (undo-tree-id1017 . -462) (undo-tree-id1018 . -462) (undo-tree-id1019 . -462) (undo-tree-id1020 . -462) (undo-tree-id1021 . -462) (undo-tree-id1022 . -462) (undo-tree-id1023 . -462) (undo-tree-id1024 . -462) (undo-tree-id1025 . -462) (undo-tree-id1026 . -476) (undo-tree-id1027 . -476) (undo-tree-id1028 . -476) (undo-tree-id1029 . -476) (undo-tree-id1030 . -476) (undo-tree-id1031 . -476) (undo-tree-id1032 . -476) (undo-tree-id1033 . -476) (undo-tree-id1034 . -476) (undo-tree-id1035 . -476) (undo-tree-id1036 . -476) (undo-tree-id1037 . -476) (undo-tree-id1038 . -476) (undo-tree-id1039 . -476) (undo-tree-id1040 . -476) (undo-tree-id1041 . -476) (undo-tree-id1042 . -476) (undo-tree-id1043 . -476) (undo-tree-id1044 . -476) (undo-tree-id1045 . -476) (undo-tree-id1046 . -476) (undo-tree-id1047 . -476) (undo-tree-id1048 . -476) (undo-tree-id1049 . -476) (undo-tree-id1050 . -476) (undo-tree-id1051 . -476) (undo-tree-id1052 . -476) (undo-tree-id1053 . -476) (undo-tree-id1054 . -476) (undo-tree-id1055 . -476) (undo-tree-id1056 . -478) (undo-tree-id1057 . -484) (undo-tree-id1058 . -484) (undo-tree-id1059 . -484) (undo-tree-id1060 . -484) (undo-tree-id1061 . -484) (undo-tree-id1062 . -484) (undo-tree-id1063 . -484) (undo-tree-id1064 . -484) (undo-tree-id1065 . -484) (undo-tree-id1066 . -484) (undo-tree-id1067 . -484) (undo-tree-id1068 . -484) (undo-tree-id1069 . -484) (undo-tree-id1070 . -484) (undo-tree-id1071 . -484) (undo-tree-id1072 . -484) (undo-tree-id1073 . -484) (undo-tree-id1074 . -484) (undo-tree-id1075 . -484) (undo-tree-id1076 . -484) (undo-tree-id1077 . -484) (undo-tree-id1078 . -484) (undo-tree-id1079 . -484) (undo-tree-id1080 . -484) (undo-tree-id1081 . -484) (undo-tree-id1082 . -484) (undo-tree-id1083 . -484) (undo-tree-id1084 . -484) (undo-tree-id1085 . -484) (undo-tree-id1086 . -484) (undo-tree-id1087 . -484) (undo-tree-id1088 . -484) (undo-tree-id1089 . -484) (undo-tree-id1090 . -484) (undo-tree-id1091 . -16) (undo-tree-id1092 . -484) (undo-tree-id1093 . -484) (undo-tree-id1094 . -484) (undo-tree-id1095 . -484) (undo-tree-id1096 . -484) 11732 (t 27040 42987 402935 148000)) nil (27040 43080 142483 797000) 0 nil])
([nil nil ((11726 . 11730) (#("    " 0 4 (fontified nil)) . -11724) (undo-tree-id695 . -1) (undo-tree-id696 . -1) (undo-tree-id697 . -1) (undo-tree-id698 . -1) (undo-tree-id699 . -1) (undo-tree-id700 . -1) (undo-tree-id701 . -1) (undo-tree-id702 . -1) (undo-tree-id703 . -1) (undo-tree-id704 . -1) (undo-tree-id705 . -1) (undo-tree-id706 . -1) (undo-tree-id707 . -1) (undo-tree-id708 . -1) (undo-tree-id709 . -1) (undo-tree-id710 . -1) (undo-tree-id711 . -1) (undo-tree-id712 . -1) (undo-tree-id713 . -1) (undo-tree-id714 . -1) (undo-tree-id715 . -1) (undo-tree-id716 . -1) (undo-tree-id717 . -1) (undo-tree-id718 . -1) (undo-tree-id719 . -1) (undo-tree-id720 . -1) (undo-tree-id721 . -1) (undo-tree-id722 . -1) (undo-tree-id723 . -1) (undo-tree-id724 . -1) (11716 . 11724) (#("        " 0 8 (fontified nil)) . -11714) (undo-tree-id725 . -1) (undo-tree-id726 . -1) (undo-tree-id727 . -1) (undo-tree-id728 . -1) (undo-tree-id729 . -1) (undo-tree-id730 . -1) (undo-tree-id731 . -1) (undo-tree-id732 . -1) (undo-tree-id733 . -1) (undo-tree-id734 . -1) (undo-tree-id735 . -1) (undo-tree-id736 . -1) (undo-tree-id737 . -1) (undo-tree-id738 . -1) (undo-tree-id739 . -1) (undo-tree-id740 . -1) (11702 . 11714) (#("            " 0 12 (fontified nil)) . -11638) (undo-tree-id741 . -1) (undo-tree-id742 . -1) (undo-tree-id743 . -1) (undo-tree-id744 . -1) (undo-tree-id745 . -1) (undo-tree-id746 . -1) (undo-tree-id747 . -1) (undo-tree-id748 . -1) (undo-tree-id749 . -1) (undo-tree-id750 . -1) (undo-tree-id751 . -1) (undo-tree-id752 . -1) (undo-tree-id753 . -1) (undo-tree-id754 . -1) (undo-tree-id755 . -1) (undo-tree-id756 . -1) (11622 . 11638) (#("            " 0 12 (fontified nil)) . -11578) (undo-tree-id757 . -1) (undo-tree-id758 . -1) (undo-tree-id759 . -1) (undo-tree-id760 . -1) (undo-tree-id761 . -1) (undo-tree-id762 . -1) (undo-tree-id763 . -1) (undo-tree-id764 . -1) (undo-tree-id765 . -1) (undo-tree-id766 . -1) (undo-tree-id767 . -1) (undo-tree-id768 . -1) (undo-tree-id769 . -1) (undo-tree-id770 . -1) (undo-tree-id771 . -1) (undo-tree-id772 . -1) (11562 . 11578) (#("            " 0 12 (fontified nil)) . -11527) (undo-tree-id773 . -1) (undo-tree-id774 . -1) (undo-tree-id775 . -1) (undo-tree-id776 . -1) (undo-tree-id777 . -1) (undo-tree-id778 . -1) (undo-tree-id779 . -1) (undo-tree-id780 . -1) (undo-tree-id781 . -1) (undo-tree-id782 . -1) (undo-tree-id783 . -1) (undo-tree-id784 . -1) (undo-tree-id785 . -1) (undo-tree-id786 . -1) (undo-tree-id787 . -1) (undo-tree-id788 . -1) (11511 . 11527) (#("            " 0 12 (fontified nil)) . -11473) (undo-tree-id789 . -1) (undo-tree-id790 . -1) (undo-tree-id791 . -1) (undo-tree-id792 . -1) (undo-tree-id793 . -1) (undo-tree-id794 . -1) (undo-tree-id795 . -1) (undo-tree-id796 . -1) (undo-tree-id797 . -1) (undo-tree-id798 . -1) (undo-tree-id799 . -1) (undo-tree-id800 . -1) (undo-tree-id801 . -1) (undo-tree-id802 . -1) (undo-tree-id803 . -1) (undo-tree-id804 . -1) (11457 . 11473) (#("            " 0 12 (fontified nil)) . -11400) (undo-tree-id805 . -1) (undo-tree-id806 . -1) (undo-tree-id807 . -1) (undo-tree-id808 . -1) (undo-tree-id809 . -1) (undo-tree-id810 . -1) (undo-tree-id811 . -1) (undo-tree-id812 . -1) (undo-tree-id813 . -1) (undo-tree-id814 . -1) (undo-tree-id815 . -1) (undo-tree-id816 . -1) (undo-tree-id817 . -1) (undo-tree-id818 . -1) (undo-tree-id819 . -1) (undo-tree-id820 . -1) (11384 . 11400) (#("        " 0 8 (fontified nil)) . -11351) (undo-tree-id821 . -1) (undo-tree-id822 . -1) (undo-tree-id823 . -1) (undo-tree-id824 . -1) (undo-tree-id825 . -1) (undo-tree-id826 . -1) (undo-tree-id827 . -1) (undo-tree-id828 . -1) (undo-tree-id829 . -1) (undo-tree-id830 . -1) (undo-tree-id831 . -1) (undo-tree-id832 . -1) (undo-tree-id833 . -1) (undo-tree-id834 . -1) (undo-tree-id835 . -1) (undo-tree-id836 . -1) (undo-tree-id837 . -1) (undo-tree-id838 . -1) (undo-tree-id839 . -1) (undo-tree-id840 . -1) (undo-tree-id841 . -1) (undo-tree-id842 . -1) (undo-tree-id843 . -1) (undo-tree-id844 . -1) (undo-tree-id845 . -1) (undo-tree-id846 . -1) (undo-tree-id847 . -1) (undo-tree-id848 . -1) (undo-tree-id849 . -1) (undo-tree-id850 . -1) (11339 . 11351) (#("    " 0 4 (fontified nil)) . -11305) (undo-tree-id851 . -1) (undo-tree-id852 . -1) (undo-tree-id853 . -1) (undo-tree-id854 . -1) (undo-tree-id855 . -1) (undo-tree-id856 . -1) (undo-tree-id857 . -1) (undo-tree-id858 . -1) (undo-tree-id859 . -1) (undo-tree-id860 . -1) (undo-tree-id861 . -1) (undo-tree-id862 . -1) (undo-tree-id863 . -1) (undo-tree-id864 . -1) (undo-tree-id865 . -1) (undo-tree-id866 . -1) (undo-tree-id867 . -1) (undo-tree-id868 . -1) (undo-tree-id869 . -1) (undo-tree-id870 . -1) (undo-tree-id871 . -1) (undo-tree-id872 . -1) (undo-tree-id873 . -1) (undo-tree-id874 . -1) (undo-tree-id875 . -1) (undo-tree-id876 . -1) (undo-tree-id877 . -1) (undo-tree-id878 . -1) (undo-tree-id879 . -1) (undo-tree-id880 . -1) (11297 . 11305) (11247 . 11251) 11248) nil (27040 43080 142414 197000) 0 nil])
([nil nil ((nil rear-nonsticky nil 14012 . 14013) (nil fontified nil 13694 . 14013) (13694 . 14013) (t 27040 43080 144934 795000)) nil (27040 43117 659433 323000) 0 nil])
([nil nil ((14128 . 14130) (14119 . 14128) 14012) nil (27040 43117 659432 786000) 0 nil])
([nil nil ((#("
        " 0 1 (face font-lock-comment-face fontified t) 1 9 (fontified nil)) . 14119) (undo-tree-id1369 . -9) (undo-tree-id1370 . -9) (undo-tree-id1371 . -9) (undo-tree-id1372 . -9) (undo-tree-id1373 . -9) (undo-tree-id1374 . -9) (undo-tree-id1375 . -9) (#("ne" 0 2 (fontified t)) . 14128) (undo-tree-id1376 . -1) (undo-tree-id1377 . -2) (undo-tree-id1378 . -2) (undo-tree-id1379 . -2) (undo-tree-id1380 . -1) (undo-tree-id1381 . -1)) nil (27040 43117 659432 101000) 0 nil])
([nil nil ((#("function resolvePhoneNumber(sender) {
    // Try exact match first, then without device suffix (:9, :2, etc.)
    const resolved = contactsMap[sender] 
        || contactsMap[sender.replace(/:\\d+(@|$)/, '$1')] 
        || sender
    return resolved.replace(/:\\d+@s\\.whatsapp\\.net|@s\\.whatsapp\\.net|:\\d+@lid|@lid/, '')
}" 0 190 (face font-lock-string-face fontified nil) 190 191 (face font-lock-string-face syntax-table (7 . 47) fontified nil) 191 257 (face font-lock-string-face fontified nil) 257 258 (face font-lock-string-face syntax-table (7 . 47) fontified nil) 258 318 (face font-lock-string-face fontified nil) 318 319 (face font-lock-string-face rear-nonsticky nil fontified nil)) . 13694) (undo-tree-id1365 . -318) (undo-tree-id1366 . -318) (undo-tree-id1367 . -318) (undo-tree-id1368 . -318) (nil fontified t 13952 . 14012) (nil fontified t 13951 . 13952) (nil fontified t 13885 . 13951) (nil fontified t 13884 . 13885) (nil fontified t 13694 . 13884) (nil rear-nonsticky t 14012 . 14013)) nil (27040 43117 659427 396000) 0 nil])
([nil nil ((nil rear-nonsticky nil 14012 . 14013) (nil fontified nil 13694 . 14013) (13694 . 14013) (t 27040 43080 144934 795000)) nil (27040 43117 659425 791000) 0 nil])
([nil nil ((#("        " 0 8 (fontified t)) . -14120) (undo-tree-id1364 . -8) 14128 (14119 . 14128) 14012) nil (27040 43117 659424 978000) 0 nil])
([nil nil ((#("
        " 0 1 (face font-lock-comment-face fontified t) 1 9 (fontified nil)) . 14119) (undo-tree-id1361 . -1) (undo-tree-id1362 . -9) (undo-tree-id1363 . -1) (14120 . 14128)) nil (27040 43117 659424 295000) 0 nil])
([nil nil ((#("function resolvePhoneNumber(sender) {
    // Try exact match first, then without device suffix (:9, :2, etc.)
    const resolved = contactsMap[sender] 
        || contactsMap[sender.replace(/:\\d+(@|$)/, '$1')] 
        || sender
    return resolved.replace(/:\\d+@s\\.whatsapp\\.net|@s\\.whatsapp\\.net|:\\d+@lid|@lid/, '')
}" 0 190 (face font-lock-string-face fontified nil) 190 191 (face font-lock-string-face syntax-table (7 . 47) fontified nil) 191 257 (face font-lock-string-face fontified nil) 257 258 (face font-lock-string-face syntax-table (7 . 47) fontified nil) 258 318 (face font-lock-string-face fontified nil) 318 319 (face font-lock-string-face rear-nonsticky nil fontified nil)) . 13694) (undo-tree-id1357 . -318) (undo-tree-id1358 . -318) (undo-tree-id1359 . -318) (undo-tree-id1360 . -318) (nil fontified t 13952 . 14012) (nil fontified t 13951 . 13952) (nil fontified t 13885 . 13951) (nil fontified t 13884 . 13885) (nil fontified t 13694 . 13884) (nil rear-nonsticky t 14012 . 14013)) nil (27040 43117 659423 25000) 0 nil])
([nil nil ((nil rear-nonsticky nil 1642 . 1643) (nil fontified nil 1324 . 1643) (1324 . 1643) (#("function resolvePhoneNumber(sender) {
    const resolved = contactsMap[sender] || sender
    return resolved.replace(/@s\\.whatsapp\\.net|@lid/, '')
}" 0 8 (face font-lock-keyword-face fontified t) 8 9 (fontified t) 9 27 (face font-lock-function-name-face fontified t) 27 28 (face (rainbow-delimiters-depth-1-face) fontified t) 28 34 (face font-lock-variable-name-face fontified t) 34 35 (face (rainbow-delimiters-depth-1-face) fontified t) 35 36 (fontified t) 36 37 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 1324 ("resolvePhoneNumber") 1472) (nil -2305843009213693952 toplevel nil nil nil)) fontified t) 37 42 (fontified t) 42 47 (face font-lock-keyword-face fontified t) 47 48 (fontified t) 48 56 (face font-lock-variable-name-face fontified t) 56 70 (fontified t) 70 71 (face (rainbow-delimiters-depth-2-face) fontified t) 71 77 (fontified t) 77 78 (face (rainbow-delimiters-depth-2-face) fontified t) 78 93 (fontified t) 93 99 (face font-lock-keyword-face fontified t) 99 116 (fontified t) 116 117 (face (rainbow-delimiters-depth-2-face) fontified t) 117 118 (face font-lock-string-face syntax-table (7 . 47) fontified t) 118 140 (face font-lock-string-face fontified t) 140 141 (face font-lock-string-face syntax-table (7 . 47) fontified t) 141 143 (fontified t) 143 145 (face font-lock-string-face fontified t) 145 146 (face (rainbow-delimiters-depth-2-face) fontified t) 146 147 (fontified t) 147 148 (js--pend (nil 0 function 1324 ("resolvePhoneNumber") 1472) face (rainbow-delimiters-depth-1-face) fontified t)) . 1324) (undo-tree-id1097 . -9) (undo-tree-id1098 . -148) (undo-tree-id1099 . -147) (undo-tree-id1100 . -9) (undo-tree-id1101 . -9) (undo-tree-id1102 . -9) (undo-tree-id1103 . -9) (undo-tree-id1104 . -9) (undo-tree-id1105 . -9) (undo-tree-id1106 . -9) (undo-tree-id1107 . -9) (undo-tree-id1108 . -9) (undo-tree-id1109 . -9) (undo-tree-id1110 . -9) (undo-tree-id1111 . -9) (undo-tree-id1112 . -9) (undo-tree-id1113 . -9) (undo-tree-id1114 . -9) (undo-tree-id1115 . -9) (undo-tree-id1116 . -9) (undo-tree-id1117 . -9) (undo-tree-id1118 . -9) (undo-tree-id1119 . -9) (undo-tree-id1120 . -9) (undo-tree-id1121 . -9) (undo-tree-id1122 . -9) (undo-tree-id1123 . -9) (undo-tree-id1124 . -9) (undo-tree-id1125 . -9) (undo-tree-id1126 . -9) (undo-tree-id1127 . -9) (undo-tree-id1128 . -9) (undo-tree-id1129 . -9) (undo-tree-id1130 . -9) (undo-tree-id1131 . -9) (undo-tree-id1132 . -9) (undo-tree-id1133 . -9) (undo-tree-id1134 . -9) (undo-tree-id1135 . -9) (undo-tree-id1136 . -9) (undo-tree-id1137 . -9) (undo-tree-id1138 . -9) (undo-tree-id1139 . -9) (undo-tree-id1140 . -9) (undo-tree-id1141 . -9) (undo-tree-id1142 . -9) (undo-tree-id1143 . -9) (undo-tree-id1144 . -9) (undo-tree-id1145 . -9) (undo-tree-id1146 . -9) (undo-tree-id1147 . -9) (undo-tree-id1148 . -9) (undo-tree-id1149 . -9) (undo-tree-id1150 . -9) (undo-tree-id1151 . -9) (undo-tree-id1152 . -9) (undo-tree-id1153 . -9) (undo-tree-id1154 . -9) (undo-tree-id1155 . -9) (undo-tree-id1156 . -9) (undo-tree-id1157 . -9) (undo-tree-id1158 . -9) (undo-tree-id1159 . -9) (undo-tree-id1160 . -9) (undo-tree-id1161 . -9) (undo-tree-id1162 . -9) (undo-tree-id1163 . -9) (undo-tree-id1164 . -9) (undo-tree-id1165 . -9) (undo-tree-id1166 . -9) (undo-tree-id1167 . -9) (undo-tree-id1168 . -9) (undo-tree-id1169 . -9) (undo-tree-id1170 . -9) (undo-tree-id1171 . -9) (undo-tree-id1172 . -9) (undo-tree-id1173 . -9) (undo-tree-id1174 . -9) (undo-tree-id1175 . -9) (undo-tree-id1176 . -9) (undo-tree-id1177 . -9) (undo-tree-id1178 . -9) (undo-tree-id1179 . -9) (undo-tree-id1180 . -9) (undo-tree-id1181 . -9) (undo-tree-id1182 . -9) (undo-tree-id1183 . -9) (undo-tree-id1184 . -9) (undo-tree-id1185 . -9) (undo-tree-id1186 . -9) (undo-tree-id1187 . -9) (undo-tree-id1188 . -9) (undo-tree-id1189 . -9) (undo-tree-id1190 . -9) (undo-tree-id1191 . -9) (undo-tree-id1192 . -9) (undo-tree-id1193 . -9) (undo-tree-id1194 . -9) (undo-tree-id1195 . -9) (undo-tree-id1196 . -9) (undo-tree-id1197 . -9) (undo-tree-id1198 . -9) (undo-tree-id1199 . -9) (undo-tree-id1200 . -9) (undo-tree-id1201 . -9) (undo-tree-id1202 . -9) (undo-tree-id1203 . -9) (undo-tree-id1204 . -47) (undo-tree-id1205 . -47) (undo-tree-id1206 . -47) (undo-tree-id1207 . -47) (undo-tree-id1208 . -47) (undo-tree-id1209 . -47) (undo-tree-id1210 . -47) (undo-tree-id1211 . -47) (undo-tree-id1212 . -47) (undo-tree-id1213 . -47) (undo-tree-id1214 . -47) (undo-tree-id1215 . -47) (undo-tree-id1216 . -47) (undo-tree-id1217 . -47) (undo-tree-id1218 . -47) (undo-tree-id1219 . -47) (undo-tree-id1220 . -47) (undo-tree-id1221 . -47) (undo-tree-id1222 . -47) (undo-tree-id1223 . -47) (undo-tree-id1224 . -47) (undo-tree-id1225 . -47) (undo-tree-id1226 . -47) (undo-tree-id1227 . -47) (undo-tree-id1228 . -47) (undo-tree-id1229 . -47) (undo-tree-id1230 . -47) (undo-tree-id1231 . -47) (undo-tree-id1232 . -47) (undo-tree-id1233 . -47) (undo-tree-id1234 . -98) (undo-tree-id1235 . -98) (undo-tree-id1236 . -98) (undo-tree-id1237 . -98) (undo-tree-id1238 . -98) (undo-tree-id1239 . -98) (undo-tree-id1240 . -98) (undo-tree-id1241 . -98) (undo-tree-id1242 . -98) (undo-tree-id1243 . -98) (undo-tree-id1244 . -98) (undo-tree-id1245 . -98) (undo-tree-id1246 . -98) (undo-tree-id1247 . -98) (undo-tree-id1248 . -98) (undo-tree-id1249 . -98) (undo-tree-id1250 . -98) (undo-tree-id1251 . -98) (undo-tree-id1252 . -98) (undo-tree-id1253 . -98) (undo-tree-id1254 . -98) (undo-tree-id1255 . -98) (undo-tree-id1256 . -98) (undo-tree-id1257 . -98) (undo-tree-id1258 . -98) (undo-tree-id1259 . -98) (undo-tree-id1260 . -98) (undo-tree-id1261 . -98) (undo-tree-id1262 . -98) (undo-tree-id1263 . -98) (undo-tree-id1264 . -148) (undo-tree-id1265 . -148) (undo-tree-id1266 . -148) (undo-tree-id1267 . -148) (undo-tree-id1268 . -148) (undo-tree-id1269 . -148) (undo-tree-id1270 . -148) (undo-tree-id1271 . -148) (undo-tree-id1272 . -148) (undo-tree-id1273 . -148) (undo-tree-id1274 . -148) (undo-tree-id1275 . -148) (undo-tree-id1276 . -148) (undo-tree-id1277 . -148) (undo-tree-id1278 . -148) (undo-tree-id1279 . -148) (undo-tree-id1280 . -148) (undo-tree-id1281 . -148) (undo-tree-id1282 . -148) (undo-tree-id1283 . -148) (undo-tree-id1284 . -148) (undo-tree-id1285 . -148) (undo-tree-id1286 . -148) (undo-tree-id1287 . -148) (undo-tree-id1288 . -148) (undo-tree-id1289 . -148) (undo-tree-id1290 . -148) (undo-tree-id1291 . -148) (undo-tree-id1292 . -148) (undo-tree-id1293 . -148) (undo-tree-id1294 . -98) (undo-tree-id1295 . -98) (undo-tree-id1296 . -98) (undo-tree-id1297 . -98) (undo-tree-id1298 . -98) (undo-tree-id1299 . -98) (undo-tree-id1300 . -98) (undo-tree-id1301 . -98) (undo-tree-id1302 . -98) (undo-tree-id1303 . -98) (undo-tree-id1304 . -98) (undo-tree-id1305 . -98) (undo-tree-id1306 . -98) (undo-tree-id1307 . -98) (undo-tree-id1308 . -98) (undo-tree-id1309 . -98) (undo-tree-id1310 . -98) (undo-tree-id1311 . -98) (undo-tree-id1312 . -98) (undo-tree-id1313 . -98) (undo-tree-id1314 . -98) (undo-tree-id1315 . -98) (undo-tree-id1316 . -98) (undo-tree-id1317 . -98) (undo-tree-id1318 . -98) (undo-tree-id1319 . -98) (undo-tree-id1320 . -98) (undo-tree-id1321 . -98) (undo-tree-id1322 . -98) (undo-tree-id1323 . -98) (undo-tree-id1324 . -147) (undo-tree-id1325 . -148) (undo-tree-id1326 . -148) (undo-tree-id1327 . -148) (undo-tree-id1328 . -148) (undo-tree-id1329 . -148) (undo-tree-id1330 . -148) (undo-tree-id1331 . -148) (undo-tree-id1332 . -148) (undo-tree-id1333 . -148) (undo-tree-id1334 . -148) (undo-tree-id1335 . -148) (undo-tree-id1336 . -148) (undo-tree-id1337 . -148) (undo-tree-id1338 . -148) (undo-tree-id1339 . -148) (undo-tree-id1340 . -148) (undo-tree-id1341 . -148) (undo-tree-id1342 . -148) (undo-tree-id1343 . -148) (undo-tree-id1344 . -148) (undo-tree-id1345 . -148) (undo-tree-id1346 . -148) (undo-tree-id1347 . -148) (undo-tree-id1348 . -148) (undo-tree-id1349 . -148) (undo-tree-id1350 . -148) (undo-tree-id1351 . -148) (undo-tree-id1352 . -148) (undo-tree-id1353 . -148) (undo-tree-id1354 . -148) (undo-tree-id1355 . -148) (undo-tree-id1356 . -148) 1473 (t 27040 43080 144934 795000)) nil (27040 43117 659417 929000) 0 nil])
([nil nil ((#(" " 0 1 (fontified t)) . -1532) (#(" " 0 1 (fontified t)) . -1474)) nil (27040 43117 659181 250000) 0 nil])
([nil nil ((nil rear-nonsticky nil 15838 . 15839) (nil fontified nil 1 . 15839) (1 . 15839) (#("const { default: makeWASocket, useMultiFileAuthState, delay } = require('@whiskeysockets/baileys')
const { fetchLatestWaWebVersion } = require('@whiskeysockets/baileys')

const qrcode = require('qrcode-terminal')
const Anthropic = require('@anthropic-ai/sdk')
const fs = require('fs')
const path = require('path')

// ‚îÄ‚îÄ‚îÄ CONFIG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const DEBOUNCE_MS      = 10000
const MEMORY_DIR       = path.join(__dirname, 'memory')
const LOG_FILE         = path.join(__dirname, 'logs', 'messages.log')
const LEADS_FILE       = path.join(__dirname, 'leads.csv')
const PROMPT_FILE      = path.join(__dirname, 'prompt.txt')
const MAX_HISTORY      = 20
const RECONNECT_DELAY  = 5000

// ‚îÄ‚îÄ‚îÄ SETUP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const secretsPath = path.join(__dirname, '..', '.secrets')
const secrets = fs.readFileSync(secretsPath, 'utf-8')
const apiKey = secrets.match(/ANTHROPIC_API_KEY=(.+)/)[1].trim()
const claude = new Anthropic({ apiKey })

if (!fs.existsSync(MEMORY_DIR)) fs.mkdirSync(MEMORY_DIR, { recursive: true })
if (!fs.existsSync(path.dirname(LOG_FILE))) fs.mkdirSync(path.dirname(LOG_FILE), { recursive: true })

// ‚îÄ‚îÄ‚îÄ CONTACTS MAP (LID ‚Üí real JID) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const contactsMap = {}

function resolvePhoneNumber(sender) {
    // Try exact match first, then without device suffix (:9, :2, etc.)
    const resolved = contactsMap[sender]
        || contactsMap[sender.replace(/:\\d+(@|$)/, '$1')]
        || sender
    return resolved.replace(/:\\d+@s\\.whatsapp\\.net|@s\\.whatsapp\\.net|:\\d+@lid|@lid/, '')
}

// ‚îÄ‚îÄ‚îÄ PROMPT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function getSystemPrompt() {
    try {
        return fs.readFileSync(PROMPT_FILE, 'utf-8')
    } catch (err) {
        console.error('‚ùå Could not read prompt.txt, using fallback')
        return 'Eres Camila, asistente del Dr. Vel√°squez. Ayuda a los pacientes con fibromialgia.'
    }
}

// ‚îÄ‚îÄ‚îÄ LOGGING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function logMessage(sender, direction, text) {
    const timestamp = new Date().toISOString()
    const line = `[${timestamp}] [${direction}] [${sender}]: ${text}\\n`
    fs.appendFileSync(LOG_FILE, line, 'utf-8')
    console.log(line.trim())
}

// ‚îÄ‚îÄ‚îÄ LEADS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function guardarLead({ nombre, numero, tiempo_enfermedad, tratamientos, hora_preferida }) {
    const timestamp = new Date().toLocaleString('es-CO', { timeZone: 'America/Bogota' })

    if (!fs.existsSync(LEADS_FILE)) {
        fs.writeFileSync(LEADS_FILE, 'Fecha,Nombre,N√∫mero,Tiempo enfermedad,Tratamientos,Hora preferida,Estado\\n', 'utf-8')
    }

    const escape = (val) => `\"${String(val).replace(/\"/g, '\"\"')}\"`

    const row = [
        escape(timestamp),
        escape(nombre),
        escape(numero),
        escape(tiempo_enfermedad),
        escape(tratamientos),
        escape(hora_preferida),
        escape('PENDIENTE LLAMAR')
    ].join(',') + '\\n'

    fs.appendFileSync(LEADS_FILE, row, 'utf-8')
    console.log(`‚úÖ Lead guardado: ${nombre} (${numero})`)
    return `Lead guardado correctamente para ${nombre}`
}

// ‚îÄ‚îÄ‚îÄ MEMORY ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function getMemoryPath(sender) {
    const resolved = contactsMap[sender] || sender
    const key = resolved.replace(/@s\\.whatsapp\\.net|@lid/, '')
    return path.join(MEMORY_DIR, `${key}.json`)
}

function loadConversation(sender) {
    const filePath = getMemoryPath(sender)
    if (fs.existsSync(filePath)) {
        return JSON.parse(fs.readFileSync(filePath, 'utf-8'))
    }
    return []
}

function saveConversation(sender, messages) {
    const trimmed = messages.slice(-MAX_HISTORY)
    fs.writeFileSync(getMemoryPath(sender), JSON.stringify(trimmed, null, 2), 'utf-8')
}

// ‚îÄ‚îÄ‚îÄ TOOL DEFINITION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const TOOLS = [
    {
        name: 'guardar_lead',
        description: 'Guarda la informaci√≥n del lead una vez que tienes su nombre, cu√°nto tiempo lleva con la enfermedad, qu√© tratamientos ha intentado y su hora preferida para la llamada. Solo llama esta herramienta una vez por conversaci√≥n, cuando tengas todos estos datos.',
        input_schema: {
            type: 'object',
            properties: {
                nombre: {
                    type: 'string',
                    description: 'Nombre del paciente o familiar'
                },
                tiempo_enfermedad: {
                    type: 'string',
                    description: 'Cu√°nto tiempo lleva con fibromialgia u otra enfermedad mencionada'
                },
                tratamientos: {
                    type: 'string',
                    description: 'Qu√© tratamientos o medicamentos ha intentado'
                },
                hora_preferida: {
                    type: 'string',
                    description: 'Ma√±ana o tarde, o una hora espec√≠fica si la mencion√≥'
                }
            },
            required: ['nombre', 'tiempo_enfermedad', 'tratamientos', 'hora_preferida']
        }
    }
]

// ‚îÄ‚îÄ‚îÄ CLAUDE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

async function askClaude(sender, userMessage, retries = 3) {
    const history = loadConversation(sender)
    const isReturning = history.length > 0

    if (!isReturning) {
        history.push({
            role: 'user',
            content: `[Nota interna: esta persona podr√≠a tener una conversaci√≥n previa. Si su mensaje no parece un primer contacto, saluda brevemente y retoma natural.] ${userMessage}`
        })
    } else {
        history.push({ role: 'user', content: userMessage })
    }

    for (let attempt = 1; attempt <= retries; attempt++) {
        try {
            const response = await claude.messages.create({
                model: 'claude-sonnet-4-5',
                max_tokens: 1024,
                system: getSystemPrompt(),
                tools: TOOLS,
                messages: history
            })

            if (!response.content || response.content.length === 0) {
                console.error('‚ùå Claude returned empty content')
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }

            if (response.stop_reason === 'tool_use') {
                const toolUseBlock = response.content.find(b => b.type === 'tool_use')

                if (toolUseBlock && toolUseBlock.name === 'guardar_lead') {

                    const input = toolUseBlock.input
                    if (!input || !input.nombre || !input.hora_preferida) {
                        console.error('‚ùå Tool call missing required fields:', input)
                        const fallback = 'Perfecto, alguien de nuestro equipo te contacta pronto. Que tengas buen dia.'
                        history.push({ role: 'assistant', content: fallback })
                        saveConversation(sender, history)
                        return fallback
                    }

                    // Resolve the real phone number from the contacts map
                    const numero = resolvePhoneNumber(sender)
                    const leadData = { ...input, numero }
                    const result = guardarLead(leadData)

                    history.push({ role: 'assistant', content: response.content })
                    history.push({
                        role: 'user',
                        content: [{
                            type: 'tool_result',
                            tool_use_id: toolUseBlock.id,
                            content: result
                        }]
                    })

                    const finalResponse = await claude.messages.create({
                        model: 'claude-sonnet-4-5',
                        max_tokens: 1024,
                        system: getSystemPrompt(),
                        tools: TOOLS,
                        messages: history
                    })

                    const finalText = finalResponse.content?.find(b => b.type === 'text')?.text
                    if (!finalText) {
                        console.error('‚ùå Empty final response after tool use')
                        const fallback = 'Perfecto, alguien de nuestro equipo te contacta pronto. Que tengas buen dia.'
                        history.push({ role: 'assistant', content: fallback })
                        saveConversation(sender, history)
                        return fallback
                    }

                    history.push({ role: 'assistant', content: finalText })
                    saveConversation(sender, history)
                    return finalText
                }
            }

            const reply = response.content.find(b => b.type === 'text')?.text
            if (!reply) {
                console.error('‚ùå No text block in response')
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }
            history.push({ role: 'assistant', content: reply })
            saveConversation(sender, history)
            return reply

        } catch (err) {
            console.error(`‚ùå Attempt ${attempt}/${retries} failed:`, err.message)
            if (attempt === retries) {
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }
            await delay(attempt * 2000)
        }
    }
}

// ‚îÄ‚îÄ‚îÄ BOT TOGGLE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

let botEnabled = true
const OWNER_NUMBER = '573145592704'

function handleOwnerCommand(text) {
    const cmd = text.trim().toLowerCase()
    if (cmd === '!bot off') {
        botEnabled = false
        console.log('üî¥ Bot desactivado')
        return 'Bot desactivado. Los mensajes entran pero no responde automaticamente.'
    }
    if (cmd === '!bot on') {
        botEnabled = true
        console.log('üü¢ Bot activado')
        return 'Bot activado. Respondiendo automaticamente.'
    }
    if (cmd === '!bot status') {
        return `Bot esta ${botEnabled ? 'activo üü¢' : 'inactivo üî¥'}`
    }
    if (cmd === '!bot prompt') {
        const preview = getSystemPrompt().slice(0, 120)
        return `Prompt activo (primeros 120 chars):\\n\"${preview}...\"`
    }
    return null
}

// ‚îÄ‚îÄ‚îÄ ANTI-BAN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

async function sendHumanReply(sock, sender, text) {
    const thinkDelay = Math.floor(Math.random() * 2000) + 1000
    const typeDelay  = Math.min(text.length * 30, 5000)

    await delay(thinkDelay)
    await sock.sendPresenceUpdate('composing', sender)
    await delay(typeDelay)
    await sock.sendPresenceUpdate('paused', sender)
    await sock.sendMessage(sender, { text })
}

// ‚îÄ‚îÄ‚îÄ MAIN BOT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

let isConnecting = false

async function startBot() {
    const { version } = await fetchLatestWaWebVersion()
    const { state, saveCreds } = await useMultiFileAuthState('auth')
    const sock = makeWASocket({
        auth: state,
        version,
        printQRInTerminal: true
    })

    sock.ev.on('creds.update', saveCreds)

    // ‚îÄ‚îÄ‚îÄ Build LID ‚Üí real JID map from contacts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    sock.ev.on('contacts.upsert', (contacts) => {
        for (const contact of contacts) {
            if (contact.lid && contact.id) {
                const lidClean = contact.lid.replace(/:\\d+(@lid)?$/, '')
                contactsMap[contact.lid] = contact.id
                contactsMap[lidClean] = contact.id
                contactsMap[`${lidClean}@lid`] = contact.id
                console.log(`üìá Contact mapped: ${contact.lid} ‚Üí ${contact.id}`)
            }
        }
    })

    sock.ev.on('messaging-history.set', ({ messages }) => {
        for (const msg of messages) {
            const jid = msg.key.remoteJid
            if (!jid || jid.endsWith('@g.us')) continue

            const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
            if (!text) continue

            const role = msg.key.fromMe ? 'assistant' : 'user'
            const history = loadConversation(jid)

            const alreadyExists = history.some(h => h.content === text && h.role === role)
            if (!alreadyExists) {
                history.push({ role, content: text })
            }

            saveConversation(jid, history)
        }
        console.log('üìö History seeded from WhatsApp sync')
    })

    sock.ev.on('connection.update', ({ connection, qr, lastDisconnect }) => {
        if (qr) qrcode.generate(qr, { small: true })

        if (connection === 'open') {
            isConnecting = false
            console.log('‚úÖ Bot connected!')
        }

        if (connection === 'close') {
            const shouldReconnect = lastDisconnect?.error?.output?.statusCode !== 401
            if (shouldReconnect && !isConnecting) {
                isConnecting = true
                console.log(`üîÑ Connection closed. Reconnecting in ${RECONNECT_DELAY / 1000}s...`)
                setTimeout(() => { isConnecting = false; startBot() }, RECONNECT_DELAY)
            } else if (!shouldReconnect) {
                console.log('üö´ Logged out. Please delete the auth folder and restart to scan QR again.')
            }
        }
    })

    const pendingMessages = {}

    sock.ev.on('messages.upsert', async ({ messages, type }) => {
        if (type !== 'notify') return

        const msg = messages[0]

        const msgTimestamp = (msg.messageTimestamp || 0) * 1000
        if (Date.now() - msgTimestamp > 30_000) return

        const sender = msg.key.remoteJid
        console.log(`üì• Sender: ${sender} | Resolved: ${resolvePhoneNumber(sender)} | MapKeys: ${Object.keys(contactsMap).slice(0,5)}`)  // üëà ADD HERE

        if (msg.key.fromMe) {
            const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
            if (text) {
                const commandResult = handleOwnerCommand(text)
                if (commandResult) {
                    console.log(`‚ö° Comando: ${text} ‚Üí ${commandResult}`)
                    await sock.sendMessage(sender, { text: `‚ö° ${commandResult}` })
                    return
                }

                const history = loadConversation(sender)
                history.push({ role: 'assistant', content: text })
                saveConversation(sender, history)
                logMessage(resolvePhoneNumber(sender), 'OUT-MANUAL', text)
            }
            return
        }

        const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
        if (!text) return

        const senderNumber = resolvePhoneNumber(sender)

        if (pendingMessages[sender]) {
            clearTimeout(pendingMessages[sender].timer)
            pendingMessages[sender].texts.push(text)
        } else {
            pendingMessages[sender] = { texts: [text] }
        }

        pendingMessages[sender].timer = setTimeout(async () => {
            const combined = pendingMessages[sender].texts.join(' ')
            delete pendingMessages[sender]

            logMessage(senderNumber, 'IN', combined)

            if (!botEnabled && senderNumber !== OWNER_NUMBER) {
                console.log(`‚è∏Ô∏è  Bot inactivo, mensaje de ${senderNumber} no respondido automaticamente`)
                return
            }

            try {
                const reply = await askClaude(sender, combined)
                await sendHumanReply(sock, sender, reply)
                logMessage(senderNumber, 'OUT', reply)
            } catch (err) {
                console.error('‚ùå Error:', err)
            }
        }, DEBOUNCE_MS)
    })
}

startBot()" 0 5 (face font-lock-keyword-face fontified t) 5 6 (fontified t) 6 7 (face (rainbow-delimiters-depth-1-face) fontified t) 7 8 (fontified t) 8 15 (face font-lock-keyword-face fontified t) 15 60 (fontified t) 60 61 (face (rainbow-delimiters-depth-1-face) fontified t) 61 71 (fontified t) 71 72 (face (rainbow-delimiters-depth-1-face) fontified t) 72 97 (face font-lock-string-face fontified t) 97 98 (face (rainbow-delimiters-depth-1-face) fontified t) 98 99 (fontified t) 99 104 (face font-lock-keyword-face fontified t) 104 105 (fontified t) 105 106 (face (rainbow-delimiters-depth-1-face) fontified t) 106 131 (fontified t) 131 132 (face (rainbow-delimiters-depth-1-face) fontified t) 132 142 (fontified t) 142 143 (face (rainbow-delimiters-depth-1-face) fontified t) 143 168 (face font-lock-string-face fontified t) 168 169 (face (rainbow-delimiters-depth-1-face) fontified t) 169 171 (fontified t) 171 176 (face font-lock-keyword-face fontified t) 176 177 (fontified t) 177 183 (face font-lock-variable-name-face fontified t) 183 193 (fontified t) 193 194 (face (rainbow-delimiters-depth-1-face) fontified t) 194 211 (face font-lock-string-face fontified t) 211 212 (face (rainbow-delimiters-depth-1-face) fontified t) 212 213 (fontified t) 213 218 (face font-lock-keyword-face fontified t) 218 219 (fontified t) 219 228 (face font-lock-variable-name-face fontified t) 228 238 (fontified t) 238 239 (face (rainbow-delimiters-depth-1-face) fontified t) 239 258 (face font-lock-string-face fontified t) 258 259 (face (rainbow-delimiters-depth-1-face) fontified t) 259 260 (fontified t) 260 265 (face font-lock-keyword-face fontified t) 265 266 (fontified t) 266 268 (face font-lock-variable-name-face fontified t) 268 278 (fontified t) 278 279 (face (rainbow-delimiters-depth-1-face) fontified t) 279 283 (face font-lock-string-face fontified t) 283 284 (face (rainbow-delimiters-depth-1-face) fontified t) 284 285 (fontified t) 285 290 (face font-lock-keyword-face fontified t) 290 291 (fontified t) 291 295 (face font-lock-variable-name-face fontified t) 295 305 (fontified t) 305 306 (face (rainbow-delimiters-depth-1-face) fontified t) 306 312 (face font-lock-string-face fontified t) 312 313 (face (rainbow-delimiters-depth-1-face) fontified t) 313 315 (fontified t) 315 318 (face font-lock-comment-delimiter-face fontified t) 318 397 (face font-lock-comment-face fontified t) 397 398 (fontified t) 398 403 (face font-lock-keyword-face fontified t) 403 404 (fontified t) 404 415 (face font-lock-variable-name-face fontified t) 415 429 (fontified t) 429 434 (face font-lock-keyword-face fontified t) 434 435 (fontified t) 435 445 (face font-lock-variable-name-face fontified t) 445 463 (fontified t) 463 464 (face (rainbow-delimiters-depth-1-face) fontified t) 464 475 (fontified t) 475 483 (face font-lock-string-face fontified t) 483 484 (face (rainbow-delimiters-depth-1-face) fontified t) 484 485 (fontified t) 485 490 (face font-lock-keyword-face fontified t) 490 491 (fontified t) 491 499 (face font-lock-variable-name-face fontified t) 499 519 (fontified t) 519 520 (face (rainbow-delimiters-depth-1-face) fontified t) 520 531 (fontified t) 531 537 (face font-lock-string-face fontified t) 537 539 (fontified t) 539 553 (face font-lock-string-face fontified t) 553 554 (face (rainbow-delimiters-depth-1-face) fontified t) 554 555 (fontified t) 555 560 (face font-lock-keyword-face fontified t) 560 561 (fontified t) 561 571 (face font-lock-variable-name-face fontified t) 571 589 (fontified t) 589 590 (face (rainbow-delimiters-depth-1-face) fontified t) 590 601 (fontified t) 601 612 (face font-lock-string-face fontified t) 612 613 (face (rainbow-delimiters-depth-1-face) fontified t) 613 614 (fontified t) 614 619 (face font-lock-keyword-face fontified t) 619 620 (fontified t) 620 631 (face font-lock-variable-name-face fontified t) 631 648 (fontified t) 648 649 (face (rainbow-delimiters-depth-1-face) fontified t) 649 660 (fontified t) 660 672 (face font-lock-string-face fontified t) 672 673 (face (rainbow-delimiters-depth-1-face) fontified t) 673 674 (fontified t) 674 679 (face font-lock-keyword-face fontified t) 679 680 (fontified t) 680 691 (face font-lock-variable-name-face fontified t) 691 702 (fontified t) 702 707 (face font-lock-keyword-face fontified t) 707 708 (fontified t) 708 723 (face font-lock-variable-name-face fontified t) 723 733 (fontified t) 733 736 (face font-lock-comment-delimiter-face fontified t) 736 815 (face font-lock-comment-face fontified t) 815 816 (fontified t) 816 821 (face font-lock-keyword-face fontified t) 821 822 (fontified t) 822 833 (face font-lock-variable-name-face fontified t) 833 845 (fontified t) 845 846 (face (rainbow-delimiters-depth-1-face) fontified t) 846 857 (fontified t) 857 861 (face font-lock-string-face fontified t) 861 863 (fontified t) 863 873 (face font-lock-string-face fontified t) 873 874 (face (rainbow-delimiters-depth-1-face) fontified t) 874 875 (fontified t) 875 880 (face font-lock-keyword-face fontified t) 880 881 (fontified t) 881 888 (face font-lock-variable-name-face fontified t) 888 906 (fontified t) 906 907 (face (rainbow-delimiters-depth-1-face) fontified t) 907 920 (fontified t) 920 927 (face font-lock-string-face fontified t) 927 928 (face (rainbow-delimiters-depth-1-face) fontified t) 928 929 (fontified t) 929 934 (face font-lock-keyword-face fontified t) 934 935 (fontified t) 935 941 (face font-lock-variable-name-face fontified t) 941 957 (fontified t) 957 958 (face (rainbow-delimiters-depth-1-face) fontified t) 958 959 (face font-lock-string-face syntax-table (7 . 47) fontified t) 959 981 (face font-lock-string-face fontified t) 981 982 (face font-lock-string-face syntax-table (7 . 47) fontified t) 982 983 (face (rainbow-delimiters-depth-1-face) fontified t) 983 984 (face (rainbow-delimiters-depth-1-face) fontified t) 984 985 (fontified t) 985 986 (face (rainbow-delimiters-depth-1-face) fontified t) 986 991 (fontified t) 991 992 (face (rainbow-delimiters-depth-1-face) fontified t) 992 993 (face (rainbow-delimiters-depth-1-face) fontified t) 993 994 (fontified t) 994 999 (face font-lock-keyword-face fontified t) 999 1000 (fontified t) 1000 1006 (face font-lock-variable-name-face fontified t) 1006 1009 (fontified t) 1009 1012 (face font-lock-keyword-face fontified t) 1012 1013 (fontified t) 1013 1022 (face font-lock-type-face fontified t) 1022 1023 (face (rainbow-delimiters-depth-1-face) fontified t) 1023 1024 (face (rainbow-delimiters-depth-2-face) fontified t) 1024 1032 (fontified t) 1032 1033 (face (rainbow-delimiters-depth-2-face) fontified t) 1033 1034 (face (rainbow-delimiters-depth-1-face) fontified t) 1034 1036 (fontified t) 1036 1038 (face font-lock-keyword-face fontified t) 1038 1039 (fontified t) 1039 1040 (face (rainbow-delimiters-depth-1-face) fontified t) 1040 1054 (fontified t) 1054 1055 (face (rainbow-delimiters-depth-2-face) fontified t) 1055 1065 (fontified t) 1065 1066 (face (rainbow-delimiters-depth-2-face) fontified t) 1066 1067 (face (rainbow-delimiters-depth-1-face) fontified t) 1067 1080 (fontified t) 1080 1081 (face (rainbow-delimiters-depth-1-face) fontified t) 1081 1093 (fontified t) 1093 1094 (face (rainbow-delimiters-depth-2-face) fontified t) 1094 1106 (fontified t) 1106 1110 (face font-lock-constant-face fontified t) 1110 1111 (fontified t) 1111 1112 (face (rainbow-delimiters-depth-2-face) fontified t) 1112 1113 (face (rainbow-delimiters-depth-1-face) fontified t) 1113 1114 (fontified t) 1114 1116 (face font-lock-keyword-face fontified t) 1116 1117 (fontified t) 1117 1118 (face (rainbow-delimiters-depth-1-face) fontified t) 1118 1132 (fontified t) 1132 1133 (face (rainbow-delimiters-depth-2-face) fontified t) 1133 1145 (fontified t) 1145 1146 (face (rainbow-delimiters-depth-3-face) fontified t) 1146 1154 (fontified t) 1154 1155 (face (rainbow-delimiters-depth-3-face) fontified t) 1155 1156 (face (rainbow-delimiters-depth-2-face) fontified t) 1156 1157 (face (rainbow-delimiters-depth-1-face) fontified t) 1157 1170 (fontified t) 1170 1171 (face (rainbow-delimiters-depth-1-face) fontified t) 1171 1183 (fontified t) 1183 1184 (face (rainbow-delimiters-depth-2-face) fontified t) 1184 1192 (fontified t) 1192 1193 (face (rainbow-delimiters-depth-2-face) fontified t) 1193 1195 (fontified t) 1195 1196 (face (rainbow-delimiters-depth-2-face) fontified t) 1196 1208 (fontified t) 1208 1212 (face font-lock-constant-face fontified t) 1212 1213 (fontified t) 1213 1214 (face (rainbow-delimiters-depth-2-face) fontified t) 1214 1215 (face (rainbow-delimiters-depth-1-face) fontified t) 1215 1217 (fontified t) 1217 1220 (face font-lock-comment-delimiter-face fontified t) 1220 1298 (face font-lock-comment-face fontified t) 1298 1299 (fontified t) 1299 1304 (face font-lock-keyword-face fontified t) 1304 1305 (fontified t) 1305 1316 (face font-lock-variable-name-face fontified t) 1316 1319 (fontified t) 1319 1320 (face (rainbow-delimiters-depth-1-face) fontified t) 1320 1321 (face (rainbow-delimiters-depth-1-face) fontified t) 1321 1323 (fontified t) 1323 1331 (face font-lock-keyword-face fontified t) 1331 1332 (fontified t) 1332 1350 (face font-lock-function-name-face fontified t) 1350 1351 (face (rainbow-delimiters-depth-1-face) fontified t) 1351 1357 (face font-lock-variable-name-face fontified t) 1357 1358 (face (rainbow-delimiters-depth-1-face) fontified t) 1358 1359 (fontified t) 1359 1360 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 1324 ("resolvePhoneNumber") 1641) (nil -2305843009213693952 toplevel nil nil nil)) fontified t) 1360 1365 (fontified t) 1365 1368 (face font-lock-comment-delimiter-face fontified t) 1368 1433 (face font-lock-comment-face fontified t) 1433 1437 (fontified t) 1437 1442 (face font-lock-keyword-face fontified t) 1442 1443 (fontified t) 1443 1451 (face font-lock-variable-name-face fontified t) 1451 1465 (fontified t) 1465 1466 (face (rainbow-delimiters-depth-2-face) fontified t) 1466 1472 (fontified t) 1472 1473 (face (rainbow-delimiters-depth-2-face) fontified t) 1473 1474 (fontified t) 1474 1496 (fontified t) 1496 1497 (face (rainbow-delimiters-depth-2-face) fontified t) 1497 1511 (fontified t) 1511 1512 (face (rainbow-delimiters-depth-3-face) fontified t) 1512 1513 (face font-lock-string-face syntax-table (7 . 47) fontified t) 1513 1522 (face font-lock-string-face fontified t) 1522 1523 (face font-lock-string-face syntax-table (7 . 47) fontified t) 1523 1525 (fontified t) 1525 1529 (face font-lock-string-face fontified t) 1529 1530 (face (rainbow-delimiters-depth-3-face) fontified t) 1530 1531 (face (rainbow-delimiters-depth-2-face) fontified t) 1531 1532 (fontified t) 1532 1554 (fontified t) 1554 1560 (face font-lock-keyword-face fontified t) 1560 1577 (fontified t) 1577 1578 (face (rainbow-delimiters-depth-2-face) fontified t) 1578 1579 (face font-lock-string-face fontified t syntax-table (7 . 47)) 1579 1632 (face font-lock-string-face fontified t) 1632 1633 (face font-lock-string-face fontified t syntax-table (7 . 47)) 1633 1635 (fontified t) 1635 1637 (face font-lock-string-face fontified t) 1637 1638 (face (rainbow-delimiters-depth-2-face) fontified t) 1638 1639 (fontified t) 1639 1640 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 1324 ("resolvePhoneNumber") 1641) fontified t rear-nonsticky t) 1640 1641 (fontified t) 1641 1642 (fontified t) 1642 1645 (face font-lock-comment-delimiter-face fontified t) 1645 1669 (face font-lock-comment-face fontified t) 1669 1724 (face font-lock-comment-face fontified t) 1724 1725 (fontified t) 1725 1733 (face font-lock-keyword-face fontified t) 1733 1734 (fontified t) 1734 1749 (face font-lock-function-name-face fontified t) 1749 1750 (face (rainbow-delimiters-depth-1-face) fontified t) 1750 1751 (face (rainbow-delimiters-depth-1-face) fontified t) 1751 1752 (fontified t) 1752 1753 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 1726 ("getSystemPrompt") 2013) (((nil 0 function 1324 ("resolvePhoneNumber") 1641)) -2305843009213693952 toplevel nil nil nil)) fontified t) 1753 1758 (fontified t) 1758 1761 (face font-lock-keyword-face fontified t) 1761 1762 (fontified t) 1762 1763 (face (rainbow-delimiters-depth-2-face) fontified t) 1763 1772 (fontified t) 1772 1778 (face font-lock-keyword-face fontified t) 1778 1794 (fontified t) 1794 1795 (face (rainbow-delimiters-depth-3-face) fontified t) 1795 1808 (fontified t) 1808 1815 (face font-lock-string-face fontified t) 1815 1816 (face (rainbow-delimiters-depth-3-face) fontified t) 1816 1821 (fontified t) 1821 1822 (face (rainbow-delimiters-depth-2-face) fontified t) 1822 1823 (fontified t) 1823 1828 (face font-lock-keyword-face fontified t) 1828 1829 (fontified t) 1829 1830 (face (rainbow-delimiters-depth-2-face) fontified t) 1830 1833 (fontified t) 1833 1834 (face (rainbow-delimiters-depth-2-face) fontified t) 1834 1835 (fontified t) 1835 1836 (face (rainbow-delimiters-depth-2-face) fontified t) 1836 1858 (fontified t) 1858 1859 (face (rainbow-delimiters-depth-3-face) fontified t) 1859 1904 (face font-lock-string-face fontified t) 1904 1905 (face (rainbow-delimiters-depth-3-face) fontified t) 1905 1914 (fontified t) 1914 1920 (face font-lock-keyword-face fontified t) 1920 1921 (fontified t) 1921 2004 (face font-lock-string-face fontified t) 2004 2009 (fontified t) 2009 2010 (face (rainbow-delimiters-depth-2-face) fontified t) 2010 2011 (fontified t) 2011 2012 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 1726 ("getSystemPrompt") 2013) fontified t) 2012 2014 (fontified t) 2014 2017 (face font-lock-comment-delimiter-face fontified t) 2017 2096 (face font-lock-comment-face fontified t) 2096 2097 (fontified t) 2097 2105 (face font-lock-keyword-face fontified t) 2105 2106 (fontified t) 2106 2116 (face font-lock-function-name-face fontified t) 2116 2117 (face (rainbow-delimiters-depth-1-face) fontified t) 2117 2123 (face font-lock-variable-name-face fontified t) 2123 2125 (fontified t) 2125 2134 (face font-lock-variable-name-face fontified t) 2134 2136 (fontified t) 2136 2140 (face font-lock-variable-name-face fontified t) 2140 2141 (face (rainbow-delimiters-depth-1-face) fontified t) 2141 2142 (fontified t) 2142 2143 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 2098 ("logMessage") 2341) (((nil 0 function 1726 ("getSystemPrompt") 2013) (nil 0 function 1324 ("resolvePhoneNumber") 1641)) -2305843009213693952 toplevel nil nil nil)) fontified t) 2143 2148 (fontified t) 2148 2153 (face font-lock-keyword-face fontified t) 2153 2154 (fontified t) 2154 2163 (face font-lock-variable-name-face fontified t) 2163 2166 (fontified t) 2166 2169 (face font-lock-keyword-face fontified t) 2169 2170 (fontified t) 2170 2174 (face font-lock-type-face fontified t) 2174 2175 (face (rainbow-delimiters-depth-2-face) fontified t) 2175 2176 (face (rainbow-delimiters-depth-2-face) fontified t) 2176 2188 (fontified t) 2188 2189 (face (rainbow-delimiters-depth-2-face) fontified t) 2189 2190 (face (rainbow-delimiters-depth-2-face) fontified t) 2190 2195 (fontified t) 2195 2200 (face font-lock-keyword-face fontified t) 2200 2201 (fontified t) 2201 2205 (face font-lock-variable-name-face fontified t) 2205 2208 (fontified t) 2208 2262 (face font-lock-string-face fontified t) 2262 2284 (fontified t) 2284 2285 (face (rainbow-delimiters-depth-2-face) fontified t) 2285 2301 (fontified t) 2301 2308 (face font-lock-string-face fontified t) 2308 2309 (face (rainbow-delimiters-depth-2-face) fontified t) 2309 2325 (fontified t) 2325 2326 (face (rainbow-delimiters-depth-2-face) fontified t) 2326 2335 (fontified t) 2335 2336 (face (rainbow-delimiters-depth-3-face) fontified t) 2336 2337 (face (rainbow-delimiters-depth-3-face) fontified t) 2337 2338 (face (rainbow-delimiters-depth-2-face) fontified t) 2338 2339 (fontified t) 2339 2340 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 2098 ("logMessage") 2341) fontified t) 2340 2342 (fontified t) 2342 2345 (face font-lock-comment-delimiter-face fontified t) 2345 2424 (face font-lock-comment-face fontified t) 2424 2425 (fontified t) 2425 2433 (face font-lock-keyword-face fontified t) 2433 2434 (fontified t) 2434 2445 (face font-lock-function-name-face fontified t) 2445 2446 (face (rainbow-delimiters-depth-1-face) fontified t) 2446 2447 (face (rainbow-delimiters-depth-2-face) fontified t) 2447 2512 (fontified t) 2512 2513 (face (rainbow-delimiters-depth-2-face) fontified t) 2513 2514 (face (rainbow-delimiters-depth-1-face) fontified t) 2514 2515 (fontified t) 2515 2516 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 2426 ("guardarLead") 3257) (((nil 0 function 2098 ("logMessage") 2341) (nil 0 function 1726 ("getSystemPrompt") 2013) (nil 0 function 1324 ("resolvePhoneNumber") 1641)) -2305843009213693952 toplevel nil nil nil)) fontified t) 2516 2521 (fontified t) 2521 2526 (face font-lock-keyword-face fontified t) 2526 2527 (fontified t) 2527 2536 (face font-lock-variable-name-face fontified t) 2536 2539 (fontified t) 2539 2542 (face font-lock-keyword-face fontified t) 2542 2543 (fontified t) 2543 2547 (face font-lock-type-face fontified t) 2547 2548 (face (rainbow-delimiters-depth-2-face) fontified t) 2548 2549 (face (rainbow-delimiters-depth-2-face) fontified t) 2549 2564 (fontified t) 2564 2565 (face (rainbow-delimiters-depth-2-face) fontified t) 2565 2572 (face font-lock-string-face fontified t) 2572 2574 (fontified t) 2574 2575 (face (rainbow-delimiters-depth-3-face) fontified t) 2575 2586 (fontified t) 2586 2602 (face font-lock-string-face fontified t) 2602 2603 (fontified t) 2603 2604 (face (rainbow-delimiters-depth-3-face) fontified t) 2604 2605 (face (rainbow-delimiters-depth-2-face) fontified t) 2605 2611 (fontified t) 2611 2613 (face font-lock-keyword-face fontified t) 2613 2614 (fontified t) 2614 2615 (face (rainbow-delimiters-depth-2-face) fontified t) 2615 2629 (fontified t) 2629 2630 (face (rainbow-delimiters-depth-3-face) fontified t) 2630 2640 (fontified t) 2640 2641 (face (rainbow-delimiters-depth-3-face) fontified t) 2641 2642 (face (rainbow-delimiters-depth-2-face) fontified t) 2642 2643 (fontified t) 2643 2644 (face (rainbow-delimiters-depth-2-face) fontified t) 2644 2669 (fontified t) 2669 2670 (face (rainbow-delimiters-depth-3-face) fontified t) 2670 2682 (fontified t) 2682 2758 (face font-lock-string-face fontified t) 2758 2760 (fontified t) 2760 2767 (face font-lock-string-face fontified t) 2767 2768 (face (rainbow-delimiters-depth-3-face) fontified t) 2768 2773 (fontified t) 2773 2774 (face (rainbow-delimiters-depth-2-face) fontified t) 2774 2780 (fontified t) 2780 2785 (face font-lock-keyword-face fontified t) 2785 2786 (fontified t) 2786 2792 (face font-lock-variable-name-face fontified t) 2792 2795 (fontified t) 2795 2796 (face (rainbow-delimiters-depth-2-face) fontified t) 2796 2799 (fontified t) 2799 2800 (face (rainbow-delimiters-depth-2-face) fontified t) 2800 2804 (fontified t) 2804 2828 (face font-lock-string-face fontified t) 2828 2829 (face font-lock-string-face syntax-table (7 . 47) fontified t) 2829 2842 (face font-lock-string-face fontified t) 2842 2848 (fontified t) 2848 2853 (face font-lock-keyword-face fontified t) 2853 2854 (fontified t) 2854 2857 (face font-lock-variable-name-face fontified t) 2857 2860 (fontified t) 2860 2861 (face (rainbow-delimiters-depth-2-face) fontified t) 2861 2876 (fontified t) 2876 2877 (face (rainbow-delimiters-depth-3-face) fontified t) 2877 2886 (fontified t) 2886 2887 (face (rainbow-delimiters-depth-3-face) fontified t) 2887 2903 (fontified t) 2903 2904 (face (rainbow-delimiters-depth-3-face) fontified t) 2904 2910 (fontified t) 2910 2911 (face (rainbow-delimiters-depth-3-face) fontified t) 2911 2927 (fontified t) 2927 2928 (face (rainbow-delimiters-depth-3-face) fontified t) 2928 2934 (fontified t) 2934 2935 (face (rainbow-delimiters-depth-3-face) fontified t) 2935 2951 (fontified t) 2951 2952 (face (rainbow-delimiters-depth-3-face) fontified t) 2952 2969 (fontified t) 2969 2970 (face (rainbow-delimiters-depth-3-face) fontified t) 2970 2986 (fontified t) 2986 2987 (face (rainbow-delimiters-depth-3-face) fontified t) 2987 2999 (fontified t) 2999 3000 (face (rainbow-delimiters-depth-3-face) fontified t) 3000 3016 (fontified t) 3016 3017 (face (rainbow-delimiters-depth-3-face) fontified t) 3017 3031 (fontified t) 3031 3032 (face (rainbow-delimiters-depth-3-face) fontified t) 3032 3034 (fontified t) 3034 3048 (fontified t) 3048 3049 (face (rainbow-delimiters-depth-3-face) fontified t) 3049 3067 (face font-lock-string-face fontified t) 3067 3068 (face (rainbow-delimiters-depth-3-face) fontified t) 3068 3073 (fontified t) 3073 3074 (face (rainbow-delimiters-depth-2-face) fontified t) 3074 3079 (fontified t) 3079 3080 (face (rainbow-delimiters-depth-2-face) fontified t) 3080 3083 (face font-lock-string-face fontified t) 3083 3084 (face (rainbow-delimiters-depth-2-face) fontified t) 3084 3087 (fontified t) 3087 3091 (face font-lock-string-face fontified t) 3091 3114 (fontified t) 3114 3115 (face (rainbow-delimiters-depth-2-face) fontified t) 3115 3132 (fontified t) 3132 3139 (face font-lock-string-face fontified t) 3139 3140 (face (rainbow-delimiters-depth-2-face) fontified t) 3140 3141 (fontified t) 3141 3156 (fontified t) 3156 3157 (face (rainbow-delimiters-depth-2-face) fontified t) 3157 3197 (face font-lock-string-face fontified t) 3197 3198 (face (rainbow-delimiters-depth-2-face) fontified t) 3198 3203 (fontified t) 3203 3209 (face font-lock-keyword-face fontified t) 3209 3210 (fontified t) 3210 3224 (face font-lock-string-face fontified t) 3224 3254 (face font-lock-string-face fontified t) 3254 3255 (fontified t) 3255 3256 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 2426 ("guardarLead") 3257)) 3256 3258 (fontified t) 3258 3261 (face font-lock-comment-delimiter-face fontified t) 3261 3340 (face font-lock-comment-face fontified t) 3340 3341 (fontified t) 3341 3349 (face font-lock-keyword-face fontified t) 3349 3350 (fontified t) 3350 3363 (face font-lock-function-name-face fontified t) 3363 3364 (face (rainbow-delimiters-depth-1-face) fontified t) 3364 3370 (face font-lock-variable-name-face fontified t) 3370 3371 (face (rainbow-delimiters-depth-1-face) fontified t) 3371 3372 (fontified t) 3372 3373 (face (rainbow-delimiters-depth-1-face) fontified t js--pstate ((nil 0 function 3342 ("getMemoryPath") 3538) (((nil 0 function 2426 ("guardarLead") 3257) (nil 0 function 2098 ("logMessage") 2341) (nil 0 function 1726 ("getSystemPrompt") 2013) (nil 0 function 1324 ("resolvePhoneNumber") 1641)) -2305843009213693952 toplevel nil nil nil))) 3373 3378 (fontified t) 3378 3383 (face font-lock-keyword-face fontified t) 3383 3384 (fontified t) 3384 3392 (face font-lock-variable-name-face fontified t) 3392 3406 (fontified t) 3406 3407 (face (rainbow-delimiters-depth-2-face) fontified t) 3407 3413 (fontified t) 3413 3414 (face (rainbow-delimiters-depth-2-face) fontified t) 3414 3429 (fontified t) 3429 3434 (face font-lock-keyword-face fontified t) 3434 3435 (fontified t) 3435 3438 (face font-lock-variable-name-face fontified t) 3438 3457 (fontified t) 3457 3458 (face (rainbow-delimiters-depth-2-face) fontified t) 3458 3459 (face font-lock-string-face fontified t syntax-table (7 . 47)) 3459 3481 (face font-lock-string-face fontified t) 3481 3482 (face font-lock-string-face fontified t syntax-table (7 . 47)) 3482 3484 (fontified t) 3484 3486 (face font-lock-string-face fontified t) 3486 3487 (face (rainbow-delimiters-depth-2-face) fontified t) 3487 3492 (fontified t) 3492 3498 (face font-lock-keyword-face fontified t) 3498 3508 (fontified t) 3508 3509 (face (rainbow-delimiters-depth-2-face) fontified t) 3509 3521 (fontified t) 3521 3534 (face font-lock-string-face fontified t) 3534 3535 (face (rainbow-delimiters-depth-2-face) fontified t) 3535 3536 (fontified t) 3536 3537 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 3342 ("getMemoryPath") 3538)) 3537 3539 (fontified t) 3539 3547 (face font-lock-keyword-face fontified t) 3547 3548 (fontified t) 3548 3564 (face font-lock-function-name-face fontified t) 3564 3565 (face (rainbow-delimiters-depth-1-face) fontified t) 3565 3571 (face font-lock-variable-name-face fontified t) 3571 3572 (face (rainbow-delimiters-depth-1-face) fontified t) 3572 3573 (fontified t) 3573 3574 (face (rainbow-delimiters-depth-1-face) fontified t js--pstate ((nil 0 function 3540 ("loadConversation") 3737) (((nil 0 function 3342 ("getMemoryPath") 3538) (nil 0 function 2426 ("guardarLead") 3257) (nil 0 function 2098 ("logMessage") 2341) (nil 0 function 1726 ("getSystemPrompt") 2013) (nil 0 function 1324 ("resolvePhoneNumber") 1641)) -2305843009213693952 toplevel nil nil nil))) 3574 3579 (fontified t) 3579 3584 (face font-lock-keyword-face fontified t) 3584 3585 (fontified t) 3585 3593 (face font-lock-variable-name-face fontified t) 3593 3609 (fontified t) 3609 3610 (face (rainbow-delimiters-depth-2-face) fontified t) 3610 3616 (fontified t) 3616 3617 (face (rainbow-delimiters-depth-2-face) fontified t) 3617 3622 (fontified t) 3622 3624 (face font-lock-keyword-face fontified t) 3624 3625 (fontified t) 3625 3626 (face (rainbow-delimiters-depth-2-face) fontified t) 3626 3639 (fontified t) 3639 3640 (face (rainbow-delimiters-depth-3-face) fontified t) 3640 3648 (fontified t) 3648 3649 (face (rainbow-delimiters-depth-3-face) fontified t) 3649 3650 (face (rainbow-delimiters-depth-2-face) fontified t) 3650 3651 (fontified t) 3651 3652 (face (rainbow-delimiters-depth-2-face) fontified t) 3652 3661 (fontified t) 3661 3667 (face font-lock-keyword-face fontified t) 3667 3678 (fontified t) 3678 3679 (face (rainbow-delimiters-depth-3-face) fontified t) 3679 3694 (fontified t) 3694 3695 (face (rainbow-delimiters-depth-4-face) fontified t) 3695 3705 (fontified t) 3705 3712 (face font-lock-string-face fontified t) 3712 3713 (face (rainbow-delimiters-depth-4-face) fontified t) 3713 3714 (face (rainbow-delimiters-depth-3-face) fontified t) 3714 3719 (fontified t) 3719 3720 (face (rainbow-delimiters-depth-2-face) fontified t) 3720 3725 (fontified t) 3725 3731 (face font-lock-keyword-face fontified t) 3731 3732 (fontified t) 3732 3733 (face (rainbow-delimiters-depth-2-face) fontified t) 3733 3734 (face (rainbow-delimiters-depth-2-face) fontified t) 3734 3735 (fontified t) 3735 3736 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 3540 ("loadConversation") 3737)) 3736 3738 (fontified t) 3738 3746 (face font-lock-keyword-face fontified t) 3746 3747 (fontified t) 3747 3763 (face font-lock-function-name-face fontified t) 3763 3764 (face (rainbow-delimiters-depth-1-face) fontified t) 3764 3770 (face font-lock-variable-name-face fontified t) 3770 3772 (fontified t) 3772 3780 (face font-lock-variable-name-face fontified t) 3780 3781 (face (rainbow-delimiters-depth-1-face) fontified t) 3781 3782 (fontified t) 3782 3783 (face (rainbow-delimiters-depth-1-face) fontified t js--pstate ((nil 0 function 3739 ("saveConversation") 3922) (((nil 0 function 3540 ("loadConversation") 3737) (nil 0 function 3342 ("getMemoryPath") 3538) (nil 0 function 2426 ("guardarLead") 3257) (nil 0 function 2098 ("logMessage") 2341) (nil 0 function 1726 ("getSystemPrompt") 2013) (nil 0 function 1324 ("resolvePhoneNumber") 1641)) -2305843009213693952 toplevel nil nil nil))) 3783 3788 (fontified t) 3788 3793 (face font-lock-keyword-face fontified t) 3793 3794 (fontified t) 3794 3801 (face font-lock-variable-name-face fontified t) 3801 3818 (fontified t) 3818 3819 (face (rainbow-delimiters-depth-2-face) fontified t) 3819 3831 (fontified t) 3831 3832 (face (rainbow-delimiters-depth-2-face) fontified t) 3832 3853 (fontified t) 3853 3854 (face (rainbow-delimiters-depth-2-face) fontified t) 3854 3867 (fontified t) 3867 3868 (face (rainbow-delimiters-depth-3-face) fontified t) 3868 3874 (fontified t) 3874 3875 (face (rainbow-delimiters-depth-3-face) fontified t) 3875 3891 (fontified t) 3891 3892 (face (rainbow-delimiters-depth-3-face) fontified t) 3892 3901 (fontified t) 3901 3905 (face font-lock-constant-face fontified t) 3905 3908 (fontified t) 3908 3909 (face (rainbow-delimiters-depth-3-face) fontified t) 3909 3911 (fontified t) 3911 3918 (face font-lock-string-face fontified t) 3918 3919 (face (rainbow-delimiters-depth-2-face) fontified t) 3919 3920 (fontified t) 3920 3921 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 3739 ("saveConversation") 3922)) 3921 3923 (fontified t) 3923 3926 (face font-lock-comment-delimiter-face fontified t) 3926 4005 (face font-lock-comment-face fontified t) 4005 4006 (fontified t) 4006 4011 (face font-lock-keyword-face fontified t) 4011 4012 (fontified t) 4012 4017 (face font-lock-variable-name-face fontified t) 4017 4020 (fontified t) 4020 4021 (face (rainbow-delimiters-depth-1-face) fontified t) 4021 4026 (fontified t) 4026 4027 (face (rainbow-delimiters-depth-2-face) fontified t) 4027 4042 (fontified t) 4042 4056 (face font-lock-string-face fontified t) 4056 4079 (fontified t) 4079 4334 (face font-lock-string-face fontified t) 4334 4358 (fontified t) 4358 4359 (face (rainbow-delimiters-depth-3-face) fontified t) 4359 4378 (fontified t) 4378 4386 (face font-lock-string-face fontified t) 4386 4412 (fontified t) 4412 4413 (face (rainbow-delimiters-depth-4-face) fontified t) 4413 4438 (fontified t) 4438 4439 (face (rainbow-delimiters-depth-5-face) fontified t) 4439 4466 (fontified t) 4466 4474 (face font-lock-string-face fontified t) 4474 4509 (fontified t) 4509 4534 (face font-lock-string-face fontified t) 4534 4541 (fontified t face font-lock-string-face) 4541 4542 (fontified t) 4558 4559 (face (rainbow-delimiters-depth-5-face)) 4596 4597 (face (rainbow-delimiters-depth-5-face)) 4624 4632 (face font-lock-string-face) 4667 4734 (face font-lock-string-face) 4751 4752 (face (rainbow-delimiters-depth-5-face)) 4784 4785 (face (rainbow-delimiters-depth-5-face)) 4812 4820 (face font-lock-string-face) 4855 4901 (face font-lock-string-face) 4918 4919 (face (rainbow-delimiters-depth-5-face)) 4953 4954 (face (rainbow-delimiters-depth-5-face)) 4981 4989 (face font-lock-string-face) 5024 5078 (face font-lock-string-face) 5095 5096 (face (rainbow-delimiters-depth-5-face)) 5109 5110 (face (rainbow-delimiters-depth-4-face)) 5134 5135 (face (rainbow-delimiters-depth-4-face)) 5135 5143 (face font-lock-string-face) 5145 5164 (face font-lock-string-face) 5166 5180 (face font-lock-string-face) 5182 5198 (face font-lock-string-face) 5198 5199 (face (rainbow-delimiters-depth-4-face)) 5208 5209 (face (rainbow-delimiters-depth-3-face)) 5214 5215 (face (rainbow-delimiters-depth-2-face)) 5216 5217 (face (rainbow-delimiters-depth-1-face)) 5219 5222 (face font-lock-comment-delimiter-face) 5222 5301 (face font-lock-comment-face) 5302 5307 (face font-lock-keyword-face) 5308 5316 (face font-lock-keyword-face) 5326 5327 (face (rainbow-delimiters-depth-1-face)) 5327 5333 (face font-lock-variable-name-face) 5335 5346 (face font-lock-variable-name-face) 5348 5355 (face font-lock-variable-name-face) 5359 5360 (face (rainbow-delimiters-depth-1-face)) 5361 5362 (js--pstate ((nil 0 function 5303 ("askClaude") 9589) (((nil 0 function 3739 ("saveConversation") 3922) (nil 0 function 3540 ("loadConversation") 3737) (nil 0 function 3342 ("getMemoryPath") 3538) (nil 0 function 2426 ("guardarLead") 3257) (nil 0 function 2098 ("logMessage") 2341) (nil 0 function 1726 ("getSystemPrompt") 2013) (nil 0 function 1324 ("resolvePhoneNumber") 1641)) -2305843009213693952 toplevel nil nil nil)) face (rainbow-delimiters-depth-1-face)) 5367 5372 (face font-lock-keyword-face) 5373 5380 (face font-lock-variable-name-face) 5399 5400 (face (rainbow-delimiters-depth-2-face)) 5406 5407 (face (rainbow-delimiters-depth-2-face)) 5412 5417 (face font-lock-keyword-face) 5418 5429 (face font-lock-variable-name-face) 5456 5458 (face font-lock-keyword-face) 5459 5460 (face (rainbow-delimiters-depth-2-face)) 5472 5473 (face (rainbow-delimiters-depth-2-face)) 5474 5475 (face (rainbow-delimiters-depth-2-face)) 5496 5497 (face (rainbow-delimiters-depth-3-face)) 5497 5498 (face (rainbow-delimiters-depth-4-face)) 5517 5523 (face font-lock-string-face) 5546 5709 (face font-lock-string-face) 5718 5719 (face (rainbow-delimiters-depth-4-face)) 5719 5720 (face (rainbow-delimiters-depth-3-face)) 5725 5726 (face (rainbow-delimiters-depth-2-face)) 5727 5731 (face font-lock-keyword-face) 5732 5733 (face (rainbow-delimiters-depth-2-face)) 5754 5755 (face (rainbow-delimiters-depth-3-face)) 5755 5756 (face (rainbow-delimiters-depth-4-face)) 5763 5769 (face font-lock-string-face) 5792 5793 (face (rainbow-delimiters-depth-4-face)) 5793 5794 (face (rainbow-delimiters-depth-3-face)) 5799 5800 (face (rainbow-delimiters-depth-2-face)) 5806 5809 (face font-lock-keyword-face) 5810 5811 (face (rainbow-delimiters-depth-2-face)) 5811 5814 (face font-lock-keyword-face) 5815 5822 (face font-lock-variable-name-face) 5857 5858 (face (rainbow-delimiters-depth-2-face)) 5859 5860 (face (rainbow-delimiters-depth-2-face)) 5869 5872 (face font-lock-keyword-face) 5873 5874 (face (rainbow-delimiters-depth-3-face)) 5887 5892 (face font-lock-keyword-face) 5893 5901 (face font-lock-variable-name-face) 5904 5909 (face font-lock-keyword-face) 5932 5933 (face (rainbow-delimiters-depth-4-face)) 5933 5934 (face (rainbow-delimiters-depth-5-face)) 5958 5977 (face font-lock-string-face) 6052 6053 (face (rainbow-delimiters-depth-6-face)) 6053 6054 (face (rainbow-delimiters-depth-6-face)) 6132 6133 (face (rainbow-delimiters-depth-5-face)) 6133 6134 (face (rainbow-delimiters-depth-4-face)) 6148 6150 (face font-lock-keyword-face) 6151 6152 (face (rainbow-delimiters-depth-4-face)) 6202 6203 (face (rainbow-delimiters-depth-4-face)) 6204 6205 (face (rainbow-delimiters-depth-4-face)) 6235 6236 (face (rainbow-delimiters-depth-5-face)) 6236 6269 (face font-lock-string-face) 6269 6270 (face (rainbow-delimiters-depth-5-face)) 6287 6293 (face font-lock-keyword-face) 6294 6375 (face font-lock-string-face) 6388 6389 (face (rainbow-delimiters-depth-4-face)) 6403 6405 (face font-lock-keyword-face) 6406 6407 (face (rainbow-delimiters-depth-4-face)) 6432 6442 (face font-lock-string-face) 6442 6443 (face (rainbow-delimiters-depth-4-face)) 6444 6445 (face (rainbow-delimiters-depth-4-face)) 6462 6467 (face font-lock-keyword-face) 6468 6480 (face font-lock-variable-name-face) 6504 6505 (face (rainbow-delimiters-depth-5-face)) 6521 6531 (face font-lock-string-face) 6531 6532 (face (rainbow-delimiters-depth-5-face)) 6550 6552 (face font-lock-keyword-face) 6553 6554 (face (rainbow-delimiters-depth-5-face)) 6592 6606 (face font-lock-string-face) 6606 6607 (face (rainbow-delimiters-depth-5-face)) 6608 6609 (face (rainbow-delimiters-depth-5-face)) 6631 6636 (face font-lock-keyword-face) 6637 6642 (face font-lock-variable-name-face) 6684 6686 (face font-lock-keyword-face) 6687 6688 (face (rainbow-delimiters-depth-6-face)) 6736 6737 (face (rainbow-delimiters-depth-6-face)) 6738 6739 (face (rainbow-delimiters-depth-6-face)) 6777 6778 (face (rainbow-delimiters-depth-7-face)) 6778 6816 (face font-lock-string-face) 6823 6824 (face (rainbow-delimiters-depth-7-face)) 6849 6854 (face font-lock-keyword-face) 6855 6863 (face font-lock-variable-name-face) 6866 6944 (face font-lock-string-face) 6981 6982 (face (rainbow-delimiters-depth-7-face)) 6982 6983 (face (rainbow-delimiters-depth-8-face)) 6990 7001 (face font-lock-string-face) 7021 7022 (face (rainbow-delimiters-depth-8-face)) 7022 7023 (face (rainbow-delimiters-depth-7-face)) 7064 7065 (face (rainbow-delimiters-depth-7-face)) 7080 7081 (face (rainbow-delimiters-depth-7-face)) 7106 7112 (face font-lock-keyword-face) 7142 7143 (face (rainbow-delimiters-depth-6-face)) 7165 7168 (face font-lock-comment-delimiter-face) 7168 7220 (face font-lock-comment-face) 7240 7245 (face font-lock-keyword-face) 7246 7252 (face font-lock-variable-name-face) 7273 7274 (face (rainbow-delimiters-depth-6-face)) 7280 7281 (face (rainbow-delimiters-depth-6-face)) 7302 7307 (face font-lock-keyword-face) 7308 7316 (face font-lock-variable-name-face) 7319 7320 (face (rainbow-delimiters-depth-6-face)) 7338 7339 (face (rainbow-delimiters-depth-6-face)) 7360 7365 (face font-lock-keyword-face) 7366 7372 (face font-lock-variable-name-face) 7386 7387 (face (rainbow-delimiters-depth-6-face)) 7395 7396 (face (rainbow-delimiters-depth-6-face)) 7430 7431 (face (rainbow-delimiters-depth-6-face)) 7431 7432 (face (rainbow-delimiters-depth-7-face)) 7439 7450 (face font-lock-string-face) 7478 7479 (face (rainbow-delimiters-depth-7-face)) 7479 7480 (face (rainbow-delimiters-depth-6-face)) 7513 7514 (face (rainbow-delimiters-depth-6-face)) 7514 7515 (face (rainbow-delimiters-depth-7-face)) 7546 7552 (face font-lock-string-face) 7587 7588 (face (rainbow-delimiters-depth-8-face)) 7588 7589 (face (rainbow-delimiters-depth-9-face)) 7624 7637 (face font-lock-string-face) 7765 7766 (face (rainbow-delimiters-depth-9-face)) 7766 7767 (face (rainbow-delimiters-depth-8-face)) 7788 7789 (face (rainbow-delimiters-depth-7-face)) 7789 7790 (face (rainbow-delimiters-depth-6-face)) 7812 7817 (face font-lock-keyword-face) 7818 7831 (face font-lock-variable-name-face) 7834 7839 (face font-lock-keyword-face) 7862 7863 (face (rainbow-delimiters-depth-6-face)) 7863 7864 (face (rainbow-delimiters-depth-7-face)) 7896 7915 (face font-lock-string-face) 8006 8007 (face (rainbow-delimiters-depth-8-face)) 8007 8008 (face (rainbow-delimiters-depth-8-face)) 8110 8111 (face (rainbow-delimiters-depth-7-face)) 8111 8112 (face (rainbow-delimiters-depth-6-face)) 8134 8139 (face font-lock-keyword-face) 8140 8149 (face font-lock-variable-name-face) 8179 8180 (face (rainbow-delimiters-depth-6-face)) 8196 8202 (face font-lock-string-face) 8202 8203 (face (rainbow-delimiters-depth-6-face)) 8230 8232 (face font-lock-keyword-face) 8233 8234 (face (rainbow-delimiters-depth-6-face)) 8244 8245 (face (rainbow-delimiters-depth-6-face)) 8246 8247 (face (rainbow-delimiters-depth-6-face)) 8285 8286 (face (rainbow-delimiters-depth-7-face)) 8286 8325 (face font-lock-string-face) 8325 8326 (face (rainbow-delimiters-depth-7-face)) 8351 8356 (face font-lock-keyword-face) 8357 8365 (face font-lock-variable-name-face) 8368 8446 (face font-lock-string-face) 8483 8484 (face (rainbow-delimiters-depth-7-face)) 8484 8485 (face (rainbow-delimiters-depth-8-face)) 8492 8503 (face font-lock-string-face) 8523 8524 (face (rainbow-delimiters-depth-8-face)) 8524 8525 (face (rainbow-delimiters-depth-7-face)) 8566 8567 (face (rainbow-delimiters-depth-7-face)) 8582 8583 (face (rainbow-delimiters-depth-7-face)) 8608 8614 (face font-lock-keyword-face) 8644 8645 (face (rainbow-delimiters-depth-6-face)) 8679 8680 (face (rainbow-delimiters-depth-6-face)) 8680 8681 (face (rainbow-delimiters-depth-7-face)) 8688 8699 (face font-lock-string-face) 8720 8721 (face (rainbow-delimiters-depth-7-face)) 8721 8722 (face (rainbow-delimiters-depth-6-face)) 8759 8760 (face (rainbow-delimiters-depth-6-face)) 8775 8776 (face (rainbow-delimiters-depth-6-face)) 8797 8803 (face font-lock-keyword-face) 8830 8831 (face (rainbow-delimiters-depth-5-face)) 8844 8845 (face (rainbow-delimiters-depth-4-face)) 8859 8864 (face font-lock-keyword-face) 8865 8870 (face font-lock-variable-name-face) 8894 8895 (face (rainbow-delimiters-depth-4-face)) 8911 8917 (face font-lock-string-face) 8917 8918 (face (rainbow-delimiters-depth-4-face)) 8937 8939 (face font-lock-keyword-face) 8940 8941 (face (rainbow-delimiters-depth-4-face)) 8947 8948 (face (rainbow-delimiters-depth-4-face)) 8949 8950 (face (rainbow-delimiters-depth-4-face)) 8980 8981 (face (rainbow-delimiters-depth-5-face)) 8981 9010 (face font-lock-string-face) 9010 9011 (face (rainbow-delimiters-depth-5-face)) 9028 9034 (face font-lock-keyword-face) 9035 9116 (face font-lock-string-face) 9129 9130 (face (rainbow-delimiters-depth-4-face)) 9155 9156 (face (rainbow-delimiters-depth-4-face)) 9156 9157 (face (rainbow-delimiters-depth-5-face)) 9164 9175 (face font-lock-string-face) 9192 9193 (face (rainbow-delimiters-depth-5-face)) 9193 9194 (face (rainbow-delimiters-depth-4-face)) 9223 9224 (face (rainbow-delimiters-depth-4-face)) 9239 9240 (face (rainbow-delimiters-depth-4-face)) 9253 9259 (face font-lock-keyword-face) 9275 9276 (face (rainbow-delimiters-depth-3-face)) 9277 9282 (face font-lock-keyword-face) 9283 9284 (face (rainbow-delimiters-depth-3-face)) 9287 9288 (face (rainbow-delimiters-depth-3-face)) 9289 9290 (face (rainbow-delimiters-depth-3-face)) 9316 9317 (face (rainbow-delimiters-depth-4-face)) 9317 9358 (face font-lock-string-face) 9371 9372 (face (rainbow-delimiters-depth-4-face)) 9385 9387 (face font-lock-keyword-face) 9388 9389 (face (rainbow-delimiters-depth-4-face)) 9408 9409 (face (rainbow-delimiters-depth-4-face)) 9410 9411 (face (rainbow-delimiters-depth-4-face)) 9428 9434 (face font-lock-keyword-face) 9435 9516 (face font-lock-string-face) 9529 9530 (face (rainbow-delimiters-depth-4-face)) 9543 9548 (face font-lock-keyword-face) 9554 9555 (face (rainbow-delimiters-depth-4-face)) 9569 9570 (face (rainbow-delimiters-depth-4-face)) 9579 9580 (face (rainbow-delimiters-depth-3-face)) 9585 9586 (face (rainbow-delimiters-depth-2-face)) 9587 9588 (js--pend (nil 0 function 5303 ("askClaude") 9589) face (rainbow-delimiters-depth-1-face)) 9590 9593 (face font-lock-comment-delimiter-face) 9593 9672 (face font-lock-comment-face) 9673 9676 (face font-lock-keyword-face) 9677 9687 (face font-lock-variable-name-face) 9690 9694 (face font-lock-constant-face) 9695 9700 (face font-lock-keyword-face) 9701 9713 (face font-lock-variable-name-face) 9716 9730 (face font-lock-string-face) 9732 9740 (face font-lock-keyword-face) 9741 9759 (face font-lock-function-name-face) 9759 9760 (face (rainbow-delimiters-depth-1-face)) 9760 9764 (face font-lock-variable-name-face) 9764 9765 (face (rainbow-delimiters-depth-1-face)) 9766 9767 (js--pstate ((nil 0 function 9733 ("handleOwnerCommand") 10452) (((nil 0 function 5303 ("askClaude") 9589) (nil 0 function 3739 ("saveConversation") 3922) (nil 0 function 3540 ("loadConversation") 3737) (nil 0 function 3342 ("getMemoryPath") 3538) (nil 0 function 2426 ("guardarLead") 3257) (nil 0 function 2098 ("logMessage") 2341) (nil 0 function 1726 ("getSystemPrompt") 2013) (nil 0 function 1324 ("resolvePhoneNumber") 1641)) -2305843009213693952 toplevel nil nil nil)) face (rainbow-delimiters-depth-1-face)) 9772 9777 (face font-lock-keyword-face) 9778 9781 (face font-lock-variable-name-face) 9793 9794 (face (rainbow-delimiters-depth-2-face)) 9794 9795 (face (rainbow-delimiters-depth-2-face)) 9807 9808 (face (rainbow-delimiters-depth-2-face)) 9808 9809 (face (rainbow-delimiters-depth-2-face)) 9814 9816 (face font-lock-keyword-face) 9817 9818 (face (rainbow-delimiters-depth-2-face)) 9826 9836 (face font-lock-string-face) 9836 9837 (face (rainbow-delimiters-depth-2-face)) 9838 9839 (face (rainbow-delimiters-depth-2-face)) 9861 9866 (face font-lock-constant-face) 9886 9887 (face (rainbow-delimiters-depth-3-face)) 9887 9906 (face font-lock-string-face) 9906 9907 (face (rainbow-delimiters-depth-3-face)) 9916 9922 (face font-lock-keyword-face) 9923 9995 (face font-lock-string-face) 10000 10001 (face (rainbow-delimiters-depth-2-face)) 10006 10008 (face font-lock-keyword-face) 10009 10010 (face (rainbow-delimiters-depth-2-face)) 10018 10027 (face font-lock-string-face) 10027 10028 (face (rainbow-delimiters-depth-2-face)) 10029 10030 (face (rainbow-delimiters-depth-2-face)) 10052 10056 (face font-lock-constant-face) 10076 10077 (face (rainbow-delimiters-depth-3-face)) 10077 10093 (face font-lock-string-face) 10093 10094 (face (rainbow-delimiters-depth-3-face)) 10103 10109 (face font-lock-keyword-face) 10110 10155 (face font-lock-string-face) 10160 10161 (face (rainbow-delimiters-depth-2-face)) 10166 10168 (face font-lock-keyword-face) 10169 10170 (face (rainbow-delimiters-depth-2-face)) 10178 10191 (face font-lock-string-face) 10191 10192 (face (rainbow-delimiters-depth-2-face)) 10193 10194 (face (rainbow-delimiters-depth-2-face)) 10203 10209 (face font-lock-keyword-face) 10210 10262 (face font-lock-string-face) 10267 10268 (face (rainbow-delimiters-depth-2-face)) 10273 10275 (face font-lock-keyword-face) 10276 10277 (face (rainbow-delimiters-depth-2-face)) 10285 10298 (face font-lock-string-face) 10298 10299 (face (rainbow-delimiters-depth-2-face)) 10300 10301 (face (rainbow-delimiters-depth-2-face)) 10310 10315 (face font-lock-keyword-face) 10316 10323 (face font-lock-variable-name-face) 10341 10342 (face (rainbow-delimiters-depth-3-face)) 10342 10343 (face (rainbow-delimiters-depth-3-face)) 10349 10350 (face (rainbow-delimiters-depth-3-face)) 10356 10357 (face (rainbow-delimiters-depth-3-face)) 10366 10372 (face font-lock-keyword-face) 10373 10427 (face font-lock-string-face) 10432 10433 (face (rainbow-delimiters-depth-2-face)) 10438 10444 (face font-lock-keyword-face) 10445 10449 (face font-lock-constant-face) 10450 10451 (js--pend (nil 0 function 9733 ("handleOwnerCommand") 10452) face (rainbow-delimiters-depth-1-face)) 10453 10456 (face font-lock-comment-delimiter-face) 10456 10535 (face font-lock-comment-face) 10536 10541 (face font-lock-keyword-face) 10542 10550 (face font-lock-keyword-face) 10565 10566 (face (rainbow-delimiters-depth-1-face)) 10566 10570 (face font-lock-variable-name-face) 10572 10578 (face font-lock-variable-name-face) 10580 10584 (face font-lock-variable-name-face) 10584 10585 (face (rainbow-delimiters-depth-1-face)) 10586 10587 (js--pstate ((nil 0 function 10537 ("sendHumanReply") 10917) (((nil 0 function 9733 ("handleOwnerCommand") 10452) (nil 0 function 5303 ("askClaude") 9589) (nil 0 function 3739 ("saveConversation") 3922) (nil 0 function 3540 ("loadConversation") 3737) (nil 0 function 3342 ("getMemoryPath") 3538) (nil 0 function 2426 ("guardarLead") 3257) (nil 0 function 2098 ("logMessage") 2341) (nil 0 function 1726 ("getSystemPrompt") 2013) (nil 0 function 1324 ("resolvePhoneNumber") 1641)) -2305843009213693952 toplevel nil nil nil)) face (rainbow-delimiters-depth-1-face)) 10592 10597 (face font-lock-keyword-face) 10598 10608 (face font-lock-variable-name-face) 10621 10622 (face (rainbow-delimiters-depth-2-face)) 10633 10634 (face (rainbow-delimiters-depth-3-face)) 10634 10635 (face (rainbow-delimiters-depth-3-face)) 10642 10643 (face (rainbow-delimiters-depth-2-face)) 10655 10660 (face font-lock-keyword-face) 10661 10670 (face font-lock-variable-name-face) 10682 10683 (face (rainbow-delimiters-depth-2-face)) 10705 10706 (face (rainbow-delimiters-depth-2-face)) 10712 10717 (face font-lock-keyword-face) 10723 10724 (face (rainbow-delimiters-depth-2-face)) 10734 10735 (face (rainbow-delimiters-depth-2-face)) 10740 10745 (face font-lock-keyword-face) 10769 10770 (face (rainbow-delimiters-depth-2-face)) 10770 10781 (face font-lock-string-face) 10789 10790 (face (rainbow-delimiters-depth-2-face)) 10795 10800 (face font-lock-keyword-face) 10806 10807 (face (rainbow-delimiters-depth-2-face)) 10816 10817 (face (rainbow-delimiters-depth-2-face)) 10822 10827 (face font-lock-keyword-face) 10851 10852 (face (rainbow-delimiters-depth-2-face)) 10852 10860 (face font-lock-string-face) 10868 10869 (face (rainbow-delimiters-depth-2-face)) 10874 10879 (face font-lock-keyword-face) 10896 10897 (face (rainbow-delimiters-depth-2-face)) 10905 10906 (face (rainbow-delimiters-depth-3-face)) 10912 10913 (face (rainbow-delimiters-depth-3-face)) 10913 10914 (face (rainbow-delimiters-depth-2-face)) 10915 10916 (js--pend (nil 0 function 10537 ("sendHumanReply") 10917) face (rainbow-delimiters-depth-1-face)) 10918 10921 (face font-lock-comment-delimiter-face) 10921 11000 (face font-lock-comment-face) 11001 11004 (face font-lock-keyword-face) 11005 11017 (face font-lock-variable-name-face) 11020 11025 (face font-lock-constant-face) 11027 11032 (face font-lock-keyword-face) 11033 11041 (face font-lock-keyword-face) 11050 11051 (face (rainbow-delimiters-depth-1-face)) 11051 11052 (face (rainbow-delimiters-depth-1-face)) 11053 11054 (js--pstate ((nil 0 function 11028 ("startBot") 15874) (((nil 0 function 10537 ("sendHumanReply") 10917) (nil 0 function 9733 ("handleOwnerCommand") 10452) (nil 0 function 5303 ("askClaude") 9589) (nil 0 function 3739 ("saveConversation") 3922) (nil 0 function 3540 ("loadConversation") 3737) (nil 0 function 3342 ("getMemoryPath") 3538) (nil 0 function 2426 ("guardarLead") 3257) (nil 0 function 2098 ("logMessage") 2341) (nil 0 function 1726 ("getSystemPrompt") 2013) (nil 0 function 1324 ("resolvePhoneNumber") 1641)) -2305843009213693952 toplevel nil nil nil)) face (rainbow-delimiters-depth-1-face)) 11059 11064 (face font-lock-keyword-face) 11065 11066 (face (rainbow-delimiters-depth-2-face)) 11075 11076 (face (rainbow-delimiters-depth-2-face)) 11079 11084 (face font-lock-keyword-face) 11108 11109 (face (rainbow-delimiters-depth-2-face)) 11109 11110 (face (rainbow-delimiters-depth-2-face)) 11115 11120 (face font-lock-keyword-face) 11121 11122 (face (rainbow-delimiters-depth-2-face)) 11140 11141 (face (rainbow-delimiters-depth-2-face)) 11144 11149 (face font-lock-keyword-face) 11171 11172 (face (rainbow-delimiters-depth-2-face)) 11172 11178 (face font-lock-string-face) 11178 11179 (face (rainbow-delimiters-depth-2-face)) 11184 11189 (face font-lock-keyword-face) 11190 11194 (face font-lock-variable-name-face) 11209 11210 (face (rainbow-delimiters-depth-2-face)) 11210 11211 (face (rainbow-delimiters-depth-3-face)) 11277 11281 (face font-lock-constant-face) 11286 11287 (face (rainbow-delimiters-depth-3-face)) 11287 11288 (face (rainbow-delimiters-depth-2-face)) 11304 11305 (face (rainbow-delimiters-depth-2-face)) 11305 11319 (face font-lock-string-face) 11330 11331 (face (rainbow-delimiters-depth-2-face)) 11337 11340 (face font-lock-comment-delimiter-face) 11340 11415 (face font-lock-comment-face) 11429 11430 (face (rainbow-delimiters-depth-2-face)) 11430 11447 (face font-lock-string-face) 11449 11450 (face (rainbow-delimiters-depth-3-face)) 11458 11459 (face (rainbow-delimiters-depth-3-face)) 11463 11464 (face (rainbow-delimiters-depth-3-face)) 11473 11476 (face font-lock-keyword-face) 11477 11478 (face (rainbow-delimiters-depth-4-face)) 11478 11483 (face font-lock-keyword-face) 11484 11491 (face font-lock-variable-name-face) 11492 11494 (face font-lock-keyword-face) 11503 11504 (face (rainbow-delimiters-depth-4-face)) 11505 11506 (face (rainbow-delimiters-depth-4-face)) 11519 11521 (face font-lock-keyword-face) 11522 11523 (face (rainbow-delimiters-depth-5-face)) 11548 11549 (face (rainbow-delimiters-depth-5-face)) 11550 11551 (face (rainbow-delimiters-depth-5-face)) 11568 11573 (face font-lock-keyword-face) 11574 11582 (face font-lock-variable-name-face) 11604 11605 (face (rainbow-delimiters-depth-6-face)) 11605 11606 (syntax-table (7 . 47) face font-lock-string-face) 11606 11618 (face font-lock-string-face) 11618 11619 (syntax-table (7 . 47) face font-lock-string-face) 11621 11623 (face font-lock-string-face) 11623 11624 (face (rainbow-delimiters-depth-6-face)) 11652 11653 (face (rainbow-delimiters-depth-6-face)) 11664 11665 (face (rainbow-delimiters-depth-6-face)) 11706 11707 (face (rainbow-delimiters-depth-6-face)) 11715 11716 (face (rainbow-delimiters-depth-6-face)) 11757 11758 (face (rainbow-delimiters-depth-6-face)) 11758 11775 (face font-lock-string-face) 11775 11776 (face (rainbow-delimiters-depth-6-face)) 11817 11818 (face (rainbow-delimiters-depth-6-face)) 11818 11868 (face font-lock-string-face) 11868 11869 (face (rainbow-delimiters-depth-6-face)) 11882 11883 (face (rainbow-delimiters-depth-5-face)) 11892 11893 (face (rainbow-delimiters-depth-4-face)) 11898 11899 (face (rainbow-delimiters-depth-3-face)) 11899 11900 (face (rainbow-delimiters-depth-2-face) rear-nonsticky t) 11916 11917 (face (rainbow-delimiters-depth-2-face)) 11917 11940 (face font-lock-string-face) 11942 11943 (face (rainbow-delimiters-depth-3-face)) 11943 11944 (face (rainbow-delimiters-depth-4-face)) 11954 11955 (face (rainbow-delimiters-depth-4-face)) 11955 11956 (face (rainbow-delimiters-depth-3-face)) 11960 11961 (face (rainbow-delimiters-depth-3-face)) 11970 11973 (face font-lock-keyword-face) 11974 11975 (face (rainbow-delimiters-depth-4-face)) 11975 11980 (face font-lock-keyword-face) 11981 11984 (face font-lock-variable-name-face) 11985 11987 (face font-lock-keyword-face) 11996 11997 (face (rainbow-delimiters-depth-4-face)) 11998 11999 (face (rainbow-delimiters-depth-4-face)) 12012 12017 (face font-lock-keyword-face) 12018 12021 (face font-lock-variable-name-face) 12054 12056 (face font-lock-keyword-face) 12057 12058 (face (rainbow-delimiters-depth-5-face)) 12078 12079 (face (rainbow-delimiters-depth-6-face)) 12079 12086 (face font-lock-string-face) 12086 12087 (face (rainbow-delimiters-depth-6-face)) 12087 12088 (face (rainbow-delimiters-depth-5-face)) 12089 12097 (face font-lock-keyword-face) 12111 12116 (face font-lock-keyword-face) 12117 12121 (face font-lock-variable-name-face) 12204 12206 (face font-lock-keyword-face) 12207 12208 (face (rainbow-delimiters-depth-5-face)) 12213 12214 (face (rainbow-delimiters-depth-5-face)) 12215 12223 (face font-lock-keyword-face) 12237 12242 (face font-lock-keyword-face) 12243 12247 (face font-lock-variable-name-face) 12267 12278 (face font-lock-string-face) 12281 12287 (face font-lock-string-face) 12300 12305 (face font-lock-keyword-face) 12306 12313 (face font-lock-variable-name-face) 12332 12333 (face (rainbow-delimiters-depth-5-face)) 12336 12337 (face (rainbow-delimiters-depth-5-face)) 12351 12356 (face font-lock-keyword-face) 12357 12370 (face font-lock-variable-name-face) 12385 12386 (face (rainbow-delimiters-depth-5-face)) 12428 12429 (face (rainbow-delimiters-depth-5-face)) 12442 12444 (face font-lock-keyword-face) 12445 12446 (face (rainbow-delimiters-depth-5-face)) 12460 12461 (face (rainbow-delimiters-depth-5-face)) 12462 12463 (face (rainbow-delimiters-depth-5-face)) 12492 12493 (face (rainbow-delimiters-depth-6-face)) 12493 12494 (face (rainbow-delimiters-depth-7-face)) 12515 12516 (face (rainbow-delimiters-depth-7-face)) 12516 12517 (face (rainbow-delimiters-depth-6-face)) 12530 12531 (face (rainbow-delimiters-depth-5-face)) 12561 12562 (face (rainbow-delimiters-depth-5-face)) 12574 12575 (face (rainbow-delimiters-depth-5-face)) 12584 12585 (face (rainbow-delimiters-depth-4-face)) 12605 12606 (face (rainbow-delimiters-depth-4-face)) 12606 12643 (face font-lock-string-face) 12643 12644 (face (rainbow-delimiters-depth-4-face)) 12649 12650 (face (rainbow-delimiters-depth-3-face)) 12650 12651 (face (rainbow-delimiters-depth-2-face)) 12667 12668 (face (rainbow-delimiters-depth-2-face)) 12668 12687 (face font-lock-string-face) 12689 12690 (face (rainbow-delimiters-depth-3-face)) 12690 12691 (face (rainbow-delimiters-depth-4-face)) 12723 12724 (face (rainbow-delimiters-depth-4-face)) 12724 12725 (face (rainbow-delimiters-depth-3-face)) 12729 12730 (face (rainbow-delimiters-depth-3-face)) 12739 12741 (face font-lock-keyword-face) 12742 12743 (face (rainbow-delimiters-depth-4-face)) 12745 12746 (face (rainbow-delimiters-depth-4-face)) 12762 12763 (face (rainbow-delimiters-depth-4-face)) 12767 12768 (face (rainbow-delimiters-depth-5-face)) 12776 12780 (face font-lock-constant-face) 12781 12782 (face (rainbow-delimiters-depth-5-face)) 12782 12783 (face (rainbow-delimiters-depth-4-face)) 12793 12795 (face font-lock-keyword-face) 12796 12797 (face (rainbow-delimiters-depth-4-face)) 12812 12818 (face font-lock-string-face) 12818 12819 (face (rainbow-delimiters-depth-4-face)) 12820 12821 (face (rainbow-delimiters-depth-4-face)) 12849 12854 (face font-lock-constant-face) 12878 12879 (face (rainbow-delimiters-depth-5-face)) 12879 12897 (face font-lock-string-face) 12897 12898 (face (rainbow-delimiters-depth-5-face)) 12907 12908 (face (rainbow-delimiters-depth-4-face)) 12918 12920 (face font-lock-keyword-face) 12921 12922 (face (rainbow-delimiters-depth-4-face)) 12937 12944 (face font-lock-string-face) 12944 12945 (face (rainbow-delimiters-depth-4-face)) 12946 12947 (face (rainbow-delimiters-depth-4-face)) 12960 12965 (face font-lock-keyword-face) 12966 12981 (face font-lock-variable-name-face) 13046 13048 (face font-lock-keyword-face) 13049 13050 (face (rainbow-delimiters-depth-5-face)) 13082 13083 (face (rainbow-delimiters-depth-5-face)) 13084 13085 (face (rainbow-delimiters-depth-5-face)) 13117 13121 (face font-lock-constant-face) 13149 13150 (face (rainbow-delimiters-depth-6-face)) 13150 13218 (face font-lock-string-face) 13218 13219 (face (rainbow-delimiters-depth-6-face)) 13246 13247 (face (rainbow-delimiters-depth-6-face)) 13247 13248 (face (rainbow-delimiters-depth-7-face)) 13248 13249 (face (rainbow-delimiters-depth-7-face)) 13253 13254 (face (rainbow-delimiters-depth-7-face)) 13270 13275 (face font-lock-constant-face) 13285 13286 (face (rainbow-delimiters-depth-8-face)) 13286 13287 (face (rainbow-delimiters-depth-8-face)) 13288 13289 (face (rainbow-delimiters-depth-7-face)) 13306 13307 (face (rainbow-delimiters-depth-6-face)) 13320 13321 (face (rainbow-delimiters-depth-5-face)) 13322 13326 (face font-lock-keyword-face) 13327 13329 (face font-lock-keyword-face) 13330 13331 (face (rainbow-delimiters-depth-5-face)) 13347 13348 (face (rainbow-delimiters-depth-5-face)) 13349 13350 (face (rainbow-delimiters-depth-5-face)) 13378 13379 (face (rainbow-delimiters-depth-6-face)) 13379 13401 (face font-lock-string-face) 13401 13454 (face font-lock-string-face) 13454 13455 (face (rainbow-delimiters-depth-6-face)) 13468 13469 (face (rainbow-delimiters-depth-5-face)) 13478 13479 (face (rainbow-delimiters-depth-4-face)) 13484 13485 (face (rainbow-delimiters-depth-3-face)) 13485 13486 (face (rainbow-delimiters-depth-2-face)) 13492 13497 (face font-lock-keyword-face) 13498 13513 (face font-lock-variable-name-face) 13516 13517 (face (rainbow-delimiters-depth-2-face)) 13517 13518 (face (rainbow-delimiters-depth-2-face)) 13534 13535 (face (rainbow-delimiters-depth-2-face)) 13535 13552 (face font-lock-string-face) 13554 13559 (face font-lock-keyword-face) 13560 13561 (face (rainbow-delimiters-depth-3-face)) 13561 13562 (face (rainbow-delimiters-depth-4-face)) 13578 13579 (face (rainbow-delimiters-depth-4-face)) 13579 13580 (face (rainbow-delimiters-depth-3-face)) 13584 13585 (face (rainbow-delimiters-depth-3-face)) 13594 13596 (face font-lock-keyword-face) 13597 13598 (face (rainbow-delimiters-depth-4-face)) 13607 13615 (face font-lock-string-face) 13615 13616 (face (rainbow-delimiters-depth-4-face)) 13617 13623 (face font-lock-keyword-face) 13633 13638 (face font-lock-keyword-face) 13639 13642 (face font-lock-variable-name-face) 13653 13654 (face (rainbow-delimiters-depth-4-face)) 13655 13656 (face (rainbow-delimiters-depth-4-face)) 13666 13671 (face font-lock-keyword-face) 13672 13684 (face font-lock-variable-name-face) 13687 13688 (face (rainbow-delimiters-depth-4-face)) 13713 13714 (face (rainbow-delimiters-depth-4-face)) 13730 13732 (face font-lock-keyword-face) 13733 13734 (face (rainbow-delimiters-depth-4-face)) 13742 13743 (face (rainbow-delimiters-depth-5-face)) 13743 13744 (face (rainbow-delimiters-depth-5-face)) 13768 13769 (face (rainbow-delimiters-depth-4-face)) 13770 13776 (face font-lock-keyword-face) 13786 13791 (face font-lock-keyword-face) 13792 13798 (face font-lock-variable-name-face) 13838 13839 (face (rainbow-delimiters-depth-4-face)) 13839 13862 (face font-lock-string-face) 13862 13952 (face font-lock-string-face) 13952 13953 (face (rainbow-delimiters-depth-4-face)) 13955 13958 (face font-lock-comment-delimiter-face) 13958 13968 (face font-lock-comment-face) 13968 13969 (face font-lock-comment-face) 13978 13980 (face font-lock-keyword-face) 13981 13982 (face (rainbow-delimiters-depth-4-face)) 13996 13997 (face (rainbow-delimiters-depth-4-face)) 13998 13999 (face (rainbow-delimiters-depth-4-face)) 14012 14017 (face font-lock-keyword-face) 14018 14022 (face font-lock-variable-name-face) 14105 14107 (face font-lock-keyword-face) 14108 14109 (face (rainbow-delimiters-depth-5-face)) 14113 14114 (face (rainbow-delimiters-depth-5-face)) 14115 14116 (face (rainbow-delimiters-depth-5-face)) 14133 14138 (face font-lock-keyword-face) 14139 14152 (face font-lock-variable-name-face) 14173 14174 (face (rainbow-delimiters-depth-6-face)) 14178 14179 (face (rainbow-delimiters-depth-6-face)) 14196 14198 (face font-lock-keyword-face) 14199 14200 (face (rainbow-delimiters-depth-6-face)) 14213 14214 (face (rainbow-delimiters-depth-6-face)) 14215 14216 (face (rainbow-delimiters-depth-6-face)) 14248 14249 (face (rainbow-delimiters-depth-7-face)) 14249 14288 (face font-lock-string-face) 14288 14289 (face (rainbow-delimiters-depth-7-face)) 14310 14315 (face font-lock-keyword-face) 14332 14333 (face (rainbow-delimiters-depth-7-face)) 14341 14342 (face (rainbow-delimiters-depth-8-face)) 14349 14369 (face font-lock-string-face) 14370 14371 (face (rainbow-delimiters-depth-8-face)) 14371 14372 (face (rainbow-delimiters-depth-7-face)) 14393 14399 (face font-lock-keyword-face) 14416 14417 (face (rainbow-delimiters-depth-6-face)) 14435 14440 (face font-lock-keyword-face) 14441 14448 (face font-lock-variable-name-face) 14467 14468 (face (rainbow-delimiters-depth-6-face)) 14474 14475 (face (rainbow-delimiters-depth-6-face)) 14504 14505 (face (rainbow-delimiters-depth-6-face)) 14505 14506 (face (rainbow-delimiters-depth-7-face)) 14513 14524 (face font-lock-string-face) 14540 14541 (face (rainbow-delimiters-depth-7-face)) 14541 14542 (face (rainbow-delimiters-depth-6-face)) 14575 14576 (face (rainbow-delimiters-depth-6-face)) 14591 14592 (face (rainbow-delimiters-depth-6-face)) 14619 14620 (face (rainbow-delimiters-depth-6-face)) 14638 14639 (face (rainbow-delimiters-depth-7-face)) 14645 14646 (face (rainbow-delimiters-depth-7-face)) 14648 14660 (face font-lock-string-face) 14666 14667 (face (rainbow-delimiters-depth-6-face)) 14680 14681 (face (rainbow-delimiters-depth-5-face)) 14694 14700 (face font-lock-keyword-face) 14709 14710 (face (rainbow-delimiters-depth-4-face)) 14720 14725 (face font-lock-keyword-face) 14726 14730 (face font-lock-variable-name-face) 14809 14811 (face font-lock-keyword-face) 14812 14813 (face (rainbow-delimiters-depth-4-face)) 14818 14819 (face (rainbow-delimiters-depth-4-face)) 14820 14826 (face font-lock-keyword-face) 14836 14841 (face font-lock-keyword-face) 14842 14854 (face font-lock-variable-name-face) 14875 14876 (face (rainbow-delimiters-depth-4-face)) 14882 14883 (face (rainbow-delimiters-depth-4-face)) 14893 14895 (face font-lock-keyword-face) 14896 14897 (face (rainbow-delimiters-depth-4-face)) 14912 14913 (face (rainbow-delimiters-depth-5-face)) 14919 14920 (face (rainbow-delimiters-depth-5-face)) 14920 14921 (face (rainbow-delimiters-depth-4-face)) 14922 14923 (face (rainbow-delimiters-depth-4-face)) 14948 14949 (face (rainbow-delimiters-depth-5-face)) 14964 14965 (face (rainbow-delimiters-depth-6-face)) 14971 14972 (face (rainbow-delimiters-depth-6-face)) 14978 14979 (face (rainbow-delimiters-depth-5-face)) 15007 15008 (face (rainbow-delimiters-depth-5-face)) 15014 15015 (face (rainbow-delimiters-depth-5-face)) 15026 15027 (face (rainbow-delimiters-depth-5-face)) 15031 15032 (face (rainbow-delimiters-depth-5-face)) 15041 15042 (face (rainbow-delimiters-depth-4-face)) 15043 15047 (face font-lock-keyword-face) 15048 15049 (face (rainbow-delimiters-depth-4-face)) 15077 15078 (face (rainbow-delimiters-depth-5-face)) 15084 15085 (face (rainbow-delimiters-depth-5-face)) 15088 15089 (face (rainbow-delimiters-depth-5-face)) 15097 15098 (face (rainbow-delimiters-depth-6-face)) 15102 15103 (face (rainbow-delimiters-depth-6-face)) 15104 15105 (face (rainbow-delimiters-depth-5-face)) 15114 15115 (face (rainbow-delimiters-depth-4-face)) 15140 15141 (face (rainbow-delimiters-depth-4-face)) 15147 15148 (face (rainbow-delimiters-depth-4-face)) 15167 15168 (face (rainbow-delimiters-depth-4-face)) 15168 15173 (face font-lock-keyword-face) 15174 15175 (face (rainbow-delimiters-depth-5-face)) 15175 15176 (face (rainbow-delimiters-depth-5-face)) 15180 15181 (face (rainbow-delimiters-depth-5-face)) 15194 15199 (face font-lock-keyword-face) 15200 15208 (face font-lock-variable-name-face) 15226 15227 (face (rainbow-delimiters-depth-6-face)) 15233 15234 (face (rainbow-delimiters-depth-6-face)) 15245 15246 (face (rainbow-delimiters-depth-6-face)) 15246 15249 (face font-lock-string-face) 15249 15250 (face (rainbow-delimiters-depth-6-face)) 15263 15269 (face font-lock-keyword-face) 15285 15286 (face (rainbow-delimiters-depth-6-face)) 15292 15293 (face (rainbow-delimiters-depth-6-face)) 15317 15318 (face (rainbow-delimiters-depth-6-face)) 15332 15336 (face font-lock-string-face) 15346 15347 (face (rainbow-delimiters-depth-6-face)) 15361 15363 (face font-lock-keyword-face) 15364 15365 (face (rainbow-delimiters-depth-6-face)) 15409 15410 (face (rainbow-delimiters-depth-6-face)) 15411 15412 (face (rainbow-delimiters-depth-6-face)) 15413 15440 (fontified t) 15440 15441 (face (rainbow-delimiters-depth-7-face) fontified t) 15441 15459 (face font-lock-string-face fontified t) 15459 15469 (face font-lock-string-face fontified t) 15469 15470 (face font-lock-string-face fontified t) 15470 15517 (face font-lock-string-face fontified t) 15517 15518 (face (rainbow-delimiters-depth-7-face) fontified t) 15518 15519 (fontified t) 15519 15535 (fontified t) 15535 15541 (face font-lock-keyword-face fontified t) 15541 15554 (fontified t) 15554 15555 (face (rainbow-delimiters-depth-6-face) fontified t) 15555 15569 (fontified t) 15569 15572 (face font-lock-keyword-face fontified t) 15572 15573 (fontified t) 15573 15574 (face (rainbow-delimiters-depth-6-face) fontified t) 15574 15591 (fontified t) 15591 15596 (face font-lock-keyword-face fontified t) 15596 15597 (fontified t) 15597 15602 (face font-lock-variable-name-face fontified t) 15602 15605 (fontified t) 15605 15610 (face font-lock-keyword-face fontified t) 15610 15620 (fontified t) 15620 15621 (face (rainbow-delimiters-depth-7-face) fontified t) 15621 15637 (fontified t) 15637 15638 (face (rainbow-delimiters-depth-7-face) fontified t) 15638 15655 (fontified t) 15655 15660 (face font-lock-keyword-face fontified t) 15660 15675 (fontified t) 15675 15676 (face (rainbow-delimiters-depth-7-face) fontified t) 15676 15695 (fontified t) 15695 15696 (face (rainbow-delimiters-depth-7-face) fontified t) 15696 15723 (fontified t) 15723 15724 (face (rainbow-delimiters-depth-7-face) fontified t) 15724 15738 (fontified t) 15738 15743 (face font-lock-string-face fontified t) 15743 15750 (fontified t) 15750 15751 (face (rainbow-delimiters-depth-7-face) fontified t) 15751 15764 (fontified t) 15764 15765 (face (rainbow-delimiters-depth-6-face) fontified t) 15765 15766 (fontified t) 15766 15771 (face font-lock-keyword-face fontified t) 15771 15772 (fontified t) 15772 15773 (face (rainbow-delimiters-depth-6-face) fontified t) 15773 15776 (fontified t) 15776 15777 (face (rainbow-delimiters-depth-6-face) fontified t) 15777 15778 (fontified t) 15778 15779 (face (rainbow-delimiters-depth-6-face) fontified t) 15779 15809 (fontified t) 15809 15810 (face (rainbow-delimiters-depth-7-face) fontified t) 15810 15820 (face font-lock-string-face fontified t) 15820 15825 (fontified t) 15825 15826 (face (rainbow-delimiters-depth-7-face) fontified t) 15826 15839 (fontified t) 15839 15840 (face (rainbow-delimiters-depth-6-face) fontified t) 15840 15849 (fontified t) 15849 15850 (face (rainbow-delimiters-depth-5-face) fontified t) 15850 15863 (fontified t) 15863 15864 (face (rainbow-delimiters-depth-4-face) fontified t) 15864 15869 (fontified t) 15869 15870 (face (rainbow-delimiters-depth-3-face) fontified t) 15870 15871 (face (rainbow-delimiters-depth-2-face) fontified t) 15871 15872 (fontified t) 15872 15873 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 11028 ("startBot") 15874)) 15873 15875 (fontified t) 15875 15883 (fontified t) 15883 15884 (face (rainbow-delimiters-depth-1-face) fontified t) 15884 15885 (face (rainbow-delimiters-depth-1-face) fontified t rear-nonsticky t)) . 1) (undo-tree-id1382 . -1298) (undo-tree-id1383 . -1815) (undo-tree-id1384 . -58) (undo-tree-id1385 . -15884) (undo-tree-id1386 . 2023) (undo-tree-id1387 . -14712) (undo-tree-id1388 . -15884) (undo-tree-id1389 . -15750) (undo-tree-id1390 . -15750) (undo-tree-id1391 . -14825) (undo-tree-id1392 . -14825) (undo-tree-id1393 . -4752) (undo-tree-id1394 . -5917) (undo-tree-id1395 . -5917) (undo-tree-id1396 . -5917) (undo-tree-id1397 . -13969) (undo-tree-id1398 . -13520) (undo-tree-id1399 . -13034) (undo-tree-id1400 . -13969) (undo-tree-id1401 . -13969) (undo-tree-id1402 . -13969) (undo-tree-id1403 . -11250) (undo-tree-id1404 . -11415) (undo-tree-id1405 . -11415) (undo-tree-id1406 . -11415) (undo-tree-id1407 . -11415) (undo-tree-id1408 . -11416) (undo-tree-id1409 . 1917) (undo-tree-id1410 . -13968) (undo-tree-id1411 . -13968) (undo-tree-id1412 . -13862) (undo-tree-id1413 . -13968) (undo-tree-id1414 . -13968) (undo-tree-id1415 . -13862) (undo-tree-id1416 . -13862) (undo-tree-id1417 . -13817) (undo-tree-id1418 . -13817) (undo-tree-id1419 . -13817) (undo-tree-id1420 . -13862) (undo-tree-id1421 . -13968) (undo-tree-id1422 . -13968) (undo-tree-id1423 . -13862) (undo-tree-id1424 . -13862) (undo-tree-id1425 . -13861) (undo-tree-id1426 . -13861) (undo-tree-id1427 . -13861) (undo-tree-id1428 . -13874) (undo-tree-id1429 . -13874) (undo-tree-id1430 . -14620) (undo-tree-id1431 . -14620) (undo-tree-id1432 . -14857) (undo-tree-id1433 . -1641) (undo-tree-id1434 . -1815) (undo-tree-id1435 . -1815) (undo-tree-id1436 . -1815) (undo-tree-id1437 . -1815) (undo-tree-id1438 . -1815) (undo-tree-id1439 . -15519) (undo-tree-id1440 . -1815) (undo-tree-id1441 . -1815) (undo-tree-id1442 . -1815) (undo-tree-id1443 . -212) (undo-tree-id1444 . -613) (undo-tree-id1445 . -613) (undo-tree-id1446 . -58) (undo-tree-id1447 . -314) (undo-tree-id1448 . -314) (undo-tree-id1449 . -314) (undo-tree-id1450 . -314) (undo-tree-id1451 . -373) (undo-tree-id1452 . -373) (undo-tree-id1453 . -373) (undo-tree-id1454 . -373) (undo-tree-id1455 . -373) (undo-tree-id1456 . -373) (undo-tree-id1457 . -373) (undo-tree-id1458 . -373) (undo-tree-id1459 . -373) (undo-tree-id1460 . -373) (undo-tree-id1461 . -373) (undo-tree-id1462 . -373) (undo-tree-id1463 . -373) (undo-tree-id1464 . -373) (undo-tree-id1465 . -373) (undo-tree-id1466 . -373) (undo-tree-id1467 . -373) (undo-tree-id1468 . -373) (undo-tree-id1469 . -373) (undo-tree-id1470 . -373) (undo-tree-id1471 . -373) (undo-tree-id1472 . -373) (undo-tree-id1473 . -373) (undo-tree-id1474 . -373) (undo-tree-id1475 . -373) (undo-tree-id1476 . -373) (undo-tree-id1477 . -373) (undo-tree-id1478 . -373) (undo-tree-id1479 . -373) (undo-tree-id1480 . -373) (undo-tree-id1481 . -373) (undo-tree-id1482 . -51) (undo-tree-id1483 . -15885) 15887 (t 27040 43117 662934 652000)) nil (27040 44164 791296 908000) 0 nil])
([nil nil ((nil rear-nonsticky nil 7514 . 7515) (nil fontified nil 1 . 7515) (1 . 7515) (#("const { default: makeWASocket, useMultiFileAuthState, delay } = require('@whiskeysockets/baileys')
const { fetchLatestWaWebVersion } = require('@whiskeysockets/baileys')

const qrcode = require('qrcode-terminal')
const Anthropic = require('@anthropic-ai/sdk')
const fs = require('fs')
const path = require('path')

// ‚îÄ‚îÄ‚îÄ CONFIG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const DEBOUNCE_MS      = 10000
const MEMORY_DIR       = path.join(__dirname, 'memory')
const LOG_FILE         = path.join(__dirname, 'logs', 'messages.log')
const LEADS_FILE       = path.join(__dirname, 'leads.csv')
const PROMPT_FILE      = path.join(__dirname, 'prompt.txt')
const MAX_HISTORY      = 20
const RECONNECT_DELAY  = 5000

// ‚îÄ‚îÄ‚îÄ SETUP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const secretsPath = path.join(__dirname, '..', '.secrets')
const secrets = fs.readFileSync(secretsPath, 'utf-8')
const apiKey = secrets.match(/ANTHROPIC_API_KEY=(.+)/)[1].trim()
const claude = new Anthropic({ apiKey })

if (!fs.existsSync(MEMORY_DIR)) fs.mkdirSync(MEMORY_DIR, { recursive: true })
if (!fs.existsSync(path.dirname(LOG_FILE))) fs.mkdirSync(path.dirname(LOG_FILE), { recursive: true })

// ‚îÄ‚îÄ‚îÄ RESOLVE PHONE NUMBER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function resolvePhoneNumber(sender, sock) {
    // Already a normal JID
    if (sender.includes('@s.whatsapp.net')) {
        return sender.replace(/:\\d+@s\\.whatsapp\\.net|@s\\.whatsapp\\.net/, '')
    }

    // It's a @lid ‚Äî search sock.contacts for a matching lid
    if (sock?.contacts) {
        const senderLidClean = sender.replace(/:\\d+@lid|@lid/, '')
        const match = Object.values(sock.contacts).find(c => {
            if (!c.lid) return false
            return c.lid.replace(/:\\d+@lid|@lid/, '') === senderLidClean
        })
        if (match?.id) {
            const resolved = match.id.replace(/:\\d+@s\\.whatsapp\\.net|@s\\.whatsapp\\.net/, '')
            console.log(`üìá Resolved ${sender} ‚Üí ${resolved}`)
            return resolved
        }
    }

    // Fallback
    console.warn(`‚ö†Ô∏è Could not resolve LID for ${sender}, using raw ID`)
    return sender.replace(/:\\d+@lid|@lid/, '')
}

// ‚îÄ‚îÄ‚îÄ PROMPT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function getSystemPrompt() {
    try {
        return fs.readFileSync(PROMPT_FILE, 'utf-8')
    } catch (err) {
        console.error('‚ùå Could not read prompt.txt, using fallback')
        return 'Eres Camila, asistente del Dr. Vel√°squez. Ayuda a los pacientes con fibromialgia.'
    }
}

// ‚îÄ‚îÄ‚îÄ LOGGING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function logMessage(sender, direction, text) {
    const timestamp = new Date().toISOString()
    const line = `[${timestamp}] [${direction}] [${sender}]: ${text}\\n`
    fs.appendFileSync(LOG_FILE, line, 'utf-8')
    console.log(line.trim())
}

// ‚îÄ‚îÄ‚îÄ LEADS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function guardarLead({ nombre, numero, tiempo_enfermedad, tratamientos, hora_preferida }) {
    const timestamp = new Date().toLocaleString('es-CO', { timeZone: 'America/Bogota' })

    if (!fs.existsSync(LEADS_FILE)) {
        fs.writeFileSync(LEADS_FILE, 'Fecha,Nombre,N√∫mero,Tiempo enfermedad,Tratamientos,Hora preferida,Estado\\n', 'utf-8')
    }

    const escape = (val) => `\"${String(val).replace(/\"/g, '\"\"')}\"`

    const row = [
        escape(timestamp),
        escape(nombre),
        escape(numero),
        escape(tiempo_enfermedad),
        escape(tratamientos),
        escape(hora_preferida),
        escape('PENDIENTE LLAMAR')
    ].join(',') + '\\n'

    fs.appendFileSync(LEADS_FILE, row, 'utf-8')
    console.log(`‚úÖ Lead guardado: ${nombre} (${numero})`)
    return `Lead guardado correctamente para ${nombre}`
}

// ‚îÄ‚îÄ‚îÄ MEMORY ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

function getMemoryPath(sender, sock) {
    const key = resolvePhoneNumber(sender, sock)
    return path.join(MEMORY_DIR, `${key}.json`)
}

function loadConversation(sender, sock) {
    const filePath = getMemoryPath(sender, sock)
    if (fs.existsSync(filePath)) {
        return JSON.parse(fs.readFileSync(filePath, 'utf-8'))
    }
    return []
}

function saveConversation(sender, messages, sock) {
    const trimmed = messages.slice(-MAX_HISTORY)
    fs.writeFileSync(getMemoryPath(sender, sock), JSON.stringify(trimmed, null, 2), 'utf-8')
}

// ‚îÄ‚îÄ‚îÄ TOOL DEFINITION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const TOOLS = [
    {
        name: 'guardar_lead',
        description: 'Guarda la informaci√≥n del lead una vez que tienes su nombre, cu√°nto tiempo lleva con la enfermedad, qu√© tratamientos ha intentado y su hora preferida para la llamada. Solo llama esta herramienta una vez por conversaci√≥n, cuando tengas todos estos datos.',
        input_schema: {
            type: 'object',
            properties: {
                nombre: {
                    type: 'string',
                    description: 'Nombre del paciente o familiar'
                },
                tiempo_enfermedad: {
                    type: 'string',
                    description: 'Cu√°nto tiempo lleva con fibromialgia u otra enfermedad mencionada'
                },
                tratamientos: {
                    type: 'string',
                    description: 'Qu√© tratamientos o medicamentos ha intentado'
                },
                hora_preferida: {
                    type: 'string',
                    description: 'Ma√±ana o tarde, o una hora espec√≠fica si la mencion√≥'
                }
            },
            required: ['nombre', 'tiempo_enfermedad', 'tratamientos', 'hora_preferida']
        }
    }
]

// ‚îÄ‚îÄ‚îÄ CLAUDE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

async function askClaude(sender, userMessage, sock, retries = 3) {
    const history = loadConversation(sender, sock)
    const isReturning = history.length > 0

    if (!isReturning) {
        history.push({
            role: 'user',
            content: `[Nota interna: esta persona podr√≠a tener una conversaci√≥n previa. Si su mensaje no parece un primer contacto, saluda brevemente y retoma natural.] ${userMessage}`
        })
    } else {
        history.push({ role: 'user', content: userMessage })
    }

    for (let attempt = 1; attempt <= retries; attempt++) {
        try {
            const response = await claude.messages.create({
                model: 'claude-sonnet-4-5',
                max_tokens: 1024,
                system: getSystemPrompt(),
                tools: TOOLS,
                messages: history
            })

            if (!response.content || response.content.length === 0) {
                console.error('‚ùå Claude returned empty content')
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }

            if (response.stop_reason === 'tool_use') {
                const toolUseBlock = response.content.find(b => b.type === 'tool_use')

                if (toolUseBlock && toolUseBlock.name === 'guardar_lead') {

                    const input = toolUseBlock.input
                    if (!input || !input.nombre || !input.hora_preferida) {
                        console.error('‚ùå Tool call missing required fields:', input)
                        const fallback = 'Perfecto, alguien de nuestro equipo te contacta pronto. Que tengas buen dia.'
                        history.push({ role: 'assistant', content: fallback })
                        saveConversation(sender, history, sock)
                        return fallback
                    }

                    const numero = resolvePhoneNumber(sender, sock)
                    const leadData = { ...input, numero }
                    const result = guardarLead(leadData)

                    history.push({ role: 'assistant', content: response.content })
                    history.push({
                        role: 'user',
                        content: [{
                            type: 'tool_result',
                            tool_use_id: toolUseBlock.id,
                            content: result
                        }]
                    })

                    const finalResponse = await claude.messages.create({
                        model: 'claude-sonnet-4-5',
                        max_tokens: 1024,
                        system: getSystemPrompt(),
                        tools: TOOLS,
                        messages: history
                    })

                    const finalText = finalResponse.content?.find(b => b.type === 'text')?.text
                    if (!finalText) {
                        console.error('‚ùå Empty final response after tool use')
                        const fallback = 'Perfecto, alguien de nuestro equipo te contacta pronto. Que tengas buen dia.'
                        history.push({ role: 'assistant', content: fallback })
                        saveConversation(sender, history, sock)
                        return fallback
                    }

                    history.push({ role: 'assistant', content: finalText })
                    saveConversation(sender, history, sock)
                    return finalText
                }
            }

            const reply = response.content.find(b => b.type === 'text')?.text
            if (!reply) {
                console.error('‚ùå No text block in response')
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }
            history.push({ role: 'assistant', content: reply })
            saveConversation(sender, history, sock)
            return reply

        } catch (err) {
            console.error(`‚ùå Attempt ${attempt}/${retries} failed:`, err.message)
            if (attempt === retries) {
                return 'Disculpa, tuve un problemita t√©cnico. Puedes escribirme de nuevo en un momento?'
            }
            await delay(attempt * 2000)
        }
    }
}

// ‚îÄ‚îÄ‚îÄ BOT TOGGLE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

let botEnabled = true
const OWNER_NUMBER = '573145592704'

function handleOwnerCommand(text) {
    const cmd = text.trim().toLowerCase()
    if (cmd === '!bot off') {
        botEnabled = false
        console.log('üî¥ Bot desactivado')
        return 'Bot desactivado. Los mensajes entran pero no responde automaticamente.'
    }
    if (cmd === '!bot on') {
        botEnabled = true
        console.log('üü¢ Bot activado')
        return 'Bot activado. Respondiendo automaticamente.'
    }
    if (cmd === '!bot status') {
        return `Bot esta ${botEnabled ? 'activo üü¢' : 'inactivo üî¥'}`
    }
    if (cmd === '!bot prompt') {
        const preview = getSystemPrompt().slice(0, 120)
        return `Prompt activo (primeros 120 chars):\\n\"${preview}...\"`
    }
    return null
}

// ‚îÄ‚îÄ‚îÄ ANTI-BAN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

async function sendHumanReply(sock, sender, text) {
    const thinkDelay = Math.floor(Math.random() * 2000) + 1000
    const typeDelay  = Math.min(text.length * 30, 5000)

    await delay(thinkDelay)
    await sock.sendPresenceUpdate('composing', sender)
    await delay(typeDelay)
    await sock.sendPresenceUpdate('paused', sender)
    await sock.sendMessage(sender, { text })
}

// ‚îÄ‚îÄ‚îÄ MAIN BOT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

let isConnecting = false

async function startBot() {
    const { version } = await fetchLatestWaWebVersion()
    const { state, saveCreds } = await useMultiFileAuthState('auth')
    const sock = makeWASocket({
        auth: state,
        version,
        printQRInTerminal: true
    })

    sock.ev.on('creds.update', saveCreds)

    sock.ev.on('messaging-history.set', ({ messages }) => {
        for (const msg of messages) {
            const jid = msg.key.remoteJid
            if (!jid || jid.endsWith('@g.us')) continue

            const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
            if (!text) continue

            const role = msg.key.fromMe ? 'assistant' : 'user'
            const history = loadConversation(jid, sock)

            const alreadyExists = history.some(h => h.content === text && h.role === role)
            if (!alreadyExists) {
                history.push({ role, content: text })
            }

            saveConversation(jid, history, sock)
        }
        console.log('üìö History seeded from WhatsApp sync')
    })

    sock.ev.on('connection.update', ({ connection, qr, lastDisconnect }) => {
        if (qr) qrcode.generate(qr, { small: true })

        if (connection === 'open') {
            isConnecting = false
            console.log('‚úÖ Bot connected!')
        }

        if (connection === 'close') {
            const shouldReconnect = lastDisconnect?.error?.output?.statusCode !== 401
            if (shouldReconnect && !isConnecting) {
                isConnecting = true
                console.log(`üîÑ Connection closed. Reconnecting in ${RECONNECT_DELAY / 1000}s...`)
                setTimeout(() => { isConnecting = false; startBot() }, RECONNECT_DELAY)
            } else if (!shouldReconnect) {
                console.log('üö´ Logged out. Please delete the auth folder and restart to scan QR again.')
            }
        }
    })

    const pendingMessages = {}

    sock.ev.on('messages.upsert', async ({ messages, type }) => {
        if (type !== 'notify') return

        const msg = messages[0]

        const msgTimestamp = (msg.messageTimestamp || 0) * 1000
        if (Date.now() - msgTimestamp > 30_000) return

        const sender = msg.key.remoteJid
        console.log(`üì• Sender: ${sender} | Resolved: ${resolvePhoneNumber(sender, sock)}`)
        if (sender.endsWith('@g.us')) return

        if (msg.key.fromMe) {
            const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
            if (text) {
                const commandResult = handleOwnerCommand(text)
                if (commandResult) {
                    console.log(`‚ö° Comando: ${text} ‚Üí ${commandResult}`)
                    await sock.sendMessage(sender, { text: `‚ö° ${commandResult}` })
                    return
                }

                const history = loadConversation(sender, sock)
                history.push({ role: 'assistant', content: text })
                saveConversation(sender, history, sock)
                logMessage(resolvePhoneNumber(sender, sock), 'OUT-MANUAL', text)
            }
            return
        }

        const text = msg.message?.conversation || msg.message?.extendedTextMessage?.text
        if (!text) return

        const senderNumber = resolvePhoneNumber(sender, sock)

        if (pendingMessages[sender]) {
            clearTimeout(pendingMessages[sender].timer)
            pendingMessages[sender].texts.push(text)
        } else {
            pendingMessages[sender] = { texts: [text] }
        }

        pendingMessages[sender].timer = setTimeout(async () => {
            const combined = pendingMessages[sender].texts.join(' ')
            delete pendingMessages[sender]

            logMessage(senderNumber, 'IN', combined)

            if (!botEnabled && senderNumber !== OWNER_NUMBER) {
                console.log(`‚è∏Ô∏è  Bot inactivo, mensaje de ${senderNumber} no respondido automaticamente`)
                return
            }

            try {
                const reply = await askClaude(sender, combined, sock)
                await sendHumanReply(sock, sender, reply)
                logMessage(senderNumber, 'OUT', reply)
            } catch (err) {
                console.error('‚ùå Error:', err)
            }
        }, DEBOUNCE_MS)
    })
}

startBot()" 0 5 (face font-lock-keyword-face fontified t) 5 6 (fontified t) 6 7 (face (rainbow-delimiters-depth-1-face) fontified t) 7 8 (fontified t) 8 15 (face font-lock-keyword-face fontified t) 15 60 (fontified t) 60 61 (face (rainbow-delimiters-depth-1-face) fontified t) 61 71 (fontified t) 71 72 (face (rainbow-delimiters-depth-1-face) fontified t) 72 97 (face font-lock-string-face fontified t) 97 98 (face (rainbow-delimiters-depth-1-face) fontified t) 98 99 (fontified t) 99 104 (face font-lock-keyword-face fontified t) 104 105 (fontified t) 105 106 (face (rainbow-delimiters-depth-1-face) fontified t) 106 131 (fontified t) 131 132 (face (rainbow-delimiters-depth-1-face) fontified t) 132 142 (fontified t) 142 143 (face (rainbow-delimiters-depth-1-face) fontified t) 143 168 (face font-lock-string-face fontified t) 168 169 (face (rainbow-delimiters-depth-1-face) fontified t) 169 171 (fontified t) 171 176 (face font-lock-keyword-face fontified t) 176 177 (fontified t) 177 183 (face font-lock-variable-name-face fontified t) 183 193 (fontified t) 193 194 (face (rainbow-delimiters-depth-1-face) fontified t) 194 211 (face font-lock-string-face fontified t) 211 212 (face (rainbow-delimiters-depth-1-face) fontified t) 212 213 (fontified t) 213 218 (face font-lock-keyword-face fontified t) 218 219 (fontified t) 219 228 (face font-lock-variable-name-face fontified t) 228 238 (fontified t) 238 239 (face (rainbow-delimiters-depth-1-face) fontified t) 239 258 (face font-lock-string-face fontified t) 258 259 (face (rainbow-delimiters-depth-1-face) fontified t) 259 260 (fontified t) 260 265 (face font-lock-keyword-face fontified t) 265 266 (fontified t) 266 268 (face font-lock-variable-name-face fontified t) 268 278 (fontified t) 278 279 (face (rainbow-delimiters-depth-1-face) fontified t) 279 283 (face font-lock-string-face fontified t) 283 284 (face (rainbow-delimiters-depth-1-face) fontified t) 284 285 (fontified t) 285 290 (face font-lock-keyword-face fontified t) 290 291 (fontified t) 291 295 (face font-lock-variable-name-face fontified t) 295 305 (fontified t) 305 306 (face (rainbow-delimiters-depth-1-face) fontified t) 306 312 (face font-lock-string-face fontified t) 312 313 (face (rainbow-delimiters-depth-1-face) fontified t) 313 315 (fontified t) 315 318 (face font-lock-comment-delimiter-face fontified t) 318 397 (face font-lock-comment-face fontified t) 397 398 (fontified t) 398 403 (face font-lock-keyword-face fontified t) 403 404 (fontified t) 404 415 (face font-lock-variable-name-face fontified t) 415 429 (fontified t) 429 434 (face font-lock-keyword-face fontified t) 434 435 (fontified t) 435 445 (face font-lock-variable-name-face fontified t) 445 463 (fontified t) 463 464 (face (rainbow-delimiters-depth-1-face) fontified t) 464 475 (fontified t) 475 483 (face font-lock-string-face fontified t) 483 484 (face (rainbow-delimiters-depth-1-face) fontified t) 484 485 (fontified t) 485 490 (face font-lock-keyword-face fontified t) 490 491 (fontified t) 491 499 (face font-lock-variable-name-face fontified t) 499 519 (fontified t) 519 520 (face (rainbow-delimiters-depth-1-face) fontified t) 520 531 (fontified t) 531 537 (face font-lock-string-face fontified t) 537 539 (fontified t) 539 553 (face font-lock-string-face fontified t) 553 554 (face (rainbow-delimiters-depth-1-face) fontified t) 554 555 (fontified t) 555 560 (face font-lock-keyword-face fontified t) 560 561 (fontified t) 561 571 (face font-lock-variable-name-face fontified t) 571 589 (fontified t) 589 590 (face (rainbow-delimiters-depth-1-face) fontified t) 590 601 (fontified t) 601 612 (face font-lock-string-face fontified t) 612 613 (face (rainbow-delimiters-depth-1-face) fontified t) 613 614 (fontified t) 614 619 (face font-lock-keyword-face fontified t) 619 620 (fontified t) 620 631 (face font-lock-variable-name-face fontified t) 631 648 (fontified t) 648 649 (face (rainbow-delimiters-depth-1-face) fontified t) 649 660 (fontified t) 660 672 (face font-lock-string-face fontified t) 672 673 (face (rainbow-delimiters-depth-1-face) fontified t) 673 674 (fontified t) 674 679 (face font-lock-keyword-face fontified t) 679 680 (fontified t) 680 691 (face font-lock-variable-name-face fontified t) 691 702 (fontified t) 702 707 (face font-lock-keyword-face fontified t) 707 708 (fontified t) 708 723 (face font-lock-variable-name-face fontified t) 723 733 (fontified t) 733 736 (face font-lock-comment-delimiter-face fontified t) 736 815 (face font-lock-comment-face fontified t) 815 816 (fontified t) 816 821 (face font-lock-keyword-face fontified t) 821 822 (fontified t) 822 833 (face font-lock-variable-name-face fontified t) 833 845 (fontified t) 845 846 (face (rainbow-delimiters-depth-1-face) fontified t) 846 857 (fontified t) 857 861 (face font-lock-string-face fontified t) 861 863 (fontified t) 863 873 (face font-lock-string-face fontified t) 873 874 (face (rainbow-delimiters-depth-1-face) fontified t) 874 875 (fontified t) 875 880 (face font-lock-keyword-face fontified t) 880 881 (fontified t) 881 888 (face font-lock-variable-name-face fontified t) 888 906 (fontified t) 906 907 (face (rainbow-delimiters-depth-1-face) fontified t) 907 920 (fontified t) 920 927 (face font-lock-string-face fontified t) 927 928 (face (rainbow-delimiters-depth-1-face) fontified t) 928 929 (fontified t) 929 934 (face font-lock-keyword-face fontified t) 934 935 (fontified t) 935 941 (face font-lock-variable-name-face fontified t) 941 957 (fontified t) 957 958 (face (rainbow-delimiters-depth-1-face) fontified t) 958 959 (face font-lock-string-face syntax-table (7 . 47) fontified t) 959 981 (face font-lock-string-face fontified t) 981 982 (face font-lock-string-face syntax-table (7 . 47) fontified t) 982 983 (face (rainbow-delimiters-depth-1-face) fontified t) 983 984 (face (rainbow-delimiters-depth-1-face) fontified t) 984 985 (fontified t) 985 986 (face (rainbow-delimiters-depth-1-face) fontified t) 986 991 (fontified t) 991 992 (face (rainbow-delimiters-depth-1-face) fontified t) 992 993 (face (rainbow-delimiters-depth-1-face) fontified t) 993 994 (fontified t) 994 999 (face font-lock-keyword-face fontified t) 999 1000 (fontified t) 1000 1006 (face font-lock-variable-name-face fontified t) 1006 1009 (fontified t) 1009 1012 (face font-lock-keyword-face fontified t) 1012 1013 (fontified t) 1013 1022 (face font-lock-type-face fontified t) 1022 1023 (face (rainbow-delimiters-depth-1-face) fontified t) 1023 1024 (face (rainbow-delimiters-depth-2-face) fontified t) 1024 1032 (fontified t) 1032 1033 (face (rainbow-delimiters-depth-2-face) fontified t) 1033 1034 (face (rainbow-delimiters-depth-1-face) fontified t) 1034 1036 (fontified t) 1036 1038 (face font-lock-keyword-face fontified t) 1038 1039 (fontified t) 1039 1040 (face (rainbow-delimiters-depth-1-face) fontified t) 1040 1054 (fontified t) 1054 1055 (face (rainbow-delimiters-depth-2-face) fontified t) 1055 1065 (fontified t) 1065 1066 (face (rainbow-delimiters-depth-2-face) fontified t) 1066 1067 (face (rainbow-delimiters-depth-1-face) fontified t) 1067 1080 (fontified t) 1080 1081 (face (rainbow-delimiters-depth-1-face) fontified t) 1081 1093 (fontified t) 1093 1094 (face (rainbow-delimiters-depth-2-face) fontified t) 1094 1106 (fontified t) 1106 1110 (face font-lock-constant-face fontified t) 1110 1111 (fontified t) 1111 1112 (face (rainbow-delimiters-depth-2-face) fontified t) 1112 1113 (face (rainbow-delimiters-depth-1-face) fontified t) 1113 1114 (fontified t) 1114 1116 (face font-lock-keyword-face fontified t) 1116 1117 (fontified t) 1117 1118 (face (rainbow-delimiters-depth-1-face) fontified t) 1118 1132 (fontified t) 1132 1133 (face (rainbow-delimiters-depth-2-face) fontified t) 1133 1145 (fontified t) 1145 1146 (face (rainbow-delimiters-depth-3-face) fontified t) 1146 1154 (fontified t) 1154 1155 (face (rainbow-delimiters-depth-3-face) fontified t) 1155 1156 (face (rainbow-delimiters-depth-2-face) fontified t) 1156 1157 (face (rainbow-delimiters-depth-1-face) fontified t) 1157 1170 (fontified t) 1170 1171 (face (rainbow-delimiters-depth-1-face) fontified t) 1171 1183 (fontified t) 1183 1184 (face (rainbow-delimiters-depth-2-face) fontified t) 1184 1192 (fontified t) 1192 1193 (face (rainbow-delimiters-depth-2-face) fontified t) 1193 1195 (fontified t) 1195 1196 (face (rainbow-delimiters-depth-2-face) fontified t) 1196 1208 (fontified t) 1208 1212 (face font-lock-constant-face fontified t) 1212 1213 (fontified t) 1213 1214 (face (rainbow-delimiters-depth-2-face) fontified t) 1214 1215 (face (rainbow-delimiters-depth-1-face) fontified t) 1215 1217 (fontified t) 1217 1220 (face font-lock-comment-delimiter-face fontified t) 1220 1299 (face font-lock-comment-face fontified t) 1299 1300 (fontified t) 1300 1308 (face font-lock-keyword-face fontified t) 1308 1309 (fontified t) 1309 1327 (face font-lock-function-name-face fontified t) 1327 1328 (face (rainbow-delimiters-depth-1-face) fontified t) 1328 1334 (face font-lock-variable-name-face fontified t) 1334 1336 (fontified t) 1336 1340 (face font-lock-variable-name-face fontified t) 1340 1341 (face (rainbow-delimiters-depth-1-face) fontified t) 1341 1342 (fontified t) 1342 1343 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 1301 ("resolvePhoneNumber") 2203) (nil -2305843009213693952 toplevel nil nil nil)) fontified t) 1343 1348 (fontified t) 1348 1351 (face font-lock-comment-delimiter-face fontified t) 1351 1372 (face font-lock-comment-face fontified t) 1372 1376 (fontified t) 1376 1378 (face font-lock-keyword-face fontified t) 1378 1379 (fontified t) 1379 1380 (face (rainbow-delimiters-depth-2-face) fontified t) 1380 1395 (fontified t) 1395 1396 (face (rainbow-delimiters-depth-3-face) fontified t) 1396 1413 (face font-lock-string-face fontified t) 1413 1414 (face (rainbow-delimiters-depth-3-face) fontified t) 1414 1415 (face (rainbow-delimiters-depth-2-face) fontified t) 1415 1416 (fontified t) 1416 1417 (face (rainbow-delimiters-depth-2-face) fontified t) 1417 1426 (fontified t) 1426 1432 (face font-lock-keyword-face fontified t) 1432 1447 (fontified t) 1447 1448 (face (rainbow-delimiters-depth-3-face) fontified t) 1448 1449 (face font-lock-string-face syntax-table (7 . 47) fontified t) 1449 1488 (face font-lock-string-face fontified t) 1488 1489 (face font-lock-string-face syntax-table (7 . 47) fontified t) 1489 1491 (fontified t) 1491 1493 (face font-lock-string-face fontified t) 1493 1494 (face (rainbow-delimiters-depth-3-face) fontified t) 1494 1499 (fontified t) 1499 1500 (face (rainbow-delimiters-depth-2-face) fontified t) 1500 1501 (fontified t) 1501 1506 (fontified t) 1506 1509 (face font-lock-comment-delimiter-face fontified t) 1509 1563 (face font-lock-comment-face fontified t) 1563 1567 (fontified t) 1567 1569 (face font-lock-keyword-face fontified t) 1569 1570 (fontified t) 1570 1571 (face (rainbow-delimiters-depth-2-face) fontified t) 1571 1585 (fontified t) 1585 1586 (face (rainbow-delimiters-depth-2-face) fontified t) 1586 1587 (fontified t) 1587 1588 (face (rainbow-delimiters-depth-2-face) fontified t) 1588 1597 (fontified t) 1597 1602 (face font-lock-keyword-face fontified t) 1602 1603 (fontified t) 1603 1617 (face font-lock-variable-name-face fontified t) 1617 1634 (fontified t) 1634 1635 (face (rainbow-delimiters-depth-3-face) fontified t) 1635 1636 (face font-lock-string-face syntax-table (7 . 47) fontified t) 1636 1649 (face font-lock-string-face fontified t) 1649 1650 (face font-lock-string-face syntax-table (7 . 47) fontified t) 1650 1652 (fontified t) 1652 1654 (face font-lock-string-face fontified t) 1654 1655 (face (rainbow-delimiters-depth-3-face) fontified t) 1655 1664 (fontified t) 1664 1669 (face font-lock-keyword-face fontified t) 1669 1670 (fontified t) 1670 1675 (face font-lock-variable-name-face fontified t) 1675 1691 (fontified t) 1691 1692 (face (rainbow-delimiters-depth-3-face) fontified t) 1692 1705 (fontified t) 1705 1706 (face (rainbow-delimiters-depth-3-face) fontified t) 1706 1711 (fontified t) 1711 1712 (face (rainbow-delimiters-depth-3-face) fontified t) 1712 1717 (fontified t) 1717 1718 (face (rainbow-delimiters-depth-4-face) fontified t) 1718 1731 (fontified t) 1731 1733 (face font-lock-keyword-face fontified t) 1733 1734 (fontified t) 1734 1735 (face (rainbow-delimiters-depth-5-face) fontified t) 1735 1741 (fontified t) 1741 1742 (face (rainbow-delimiters-depth-5-face) fontified t) 1742 1743 (fontified t) 1743 1749 (face font-lock-keyword-face fontified t) 1749 1750 (fontified t) 1750 1755 (face font-lock-constant-face fontified t) 1755 1768 (fontified t) 1768 1774 (face font-lock-keyword-face fontified t) 1774 1788 (fontified t) 1788 1789 (face (rainbow-delimiters-depth-5-face) fontified t) 1789 1790 (face font-lock-string-face syntax-table (7 . 47) fontified t) 1790 1803 (face font-lock-string-face fontified t) 1803 1804 (face font-lock-string-face syntax-table (7 . 47) fontified t) 1804 1806 (fontified t) 1806 1808 (face font-lock-string-face fontified t) 1808 1809 (face (rainbow-delimiters-depth-5-face) fontified t) 1809 1837 (fontified t) 1837 1838 (face (rainbow-delimiters-depth-4-face) fontified t) 1838 1839 (face (rainbow-delimiters-depth-3-face) fontified t) 1839 1848 (fontified t) 1848 1850 (face font-lock-keyword-face fontified t) 1850 1851 (fontified t) 1851 1852 (face (rainbow-delimiters-depth-3-face) fontified t) 1852 1861 (fontified t) 1861 1862 (face (rainbow-delimiters-depth-3-face) fontified t) 1862 1863 (fontified t) 1863 1864 (face (rainbow-delimiters-depth-3-face) fontified t) 1864 1877 (fontified t) 1877 1882 (face font-lock-keyword-face fontified t) 1882 1883 (fontified t) 1883 1891 (face font-lock-variable-name-face fontified t) 1891 1910 (fontified t) 1910 1911 (face (rainbow-delimiters-depth-4-face) fontified t) 1911 1912 (face font-lock-string-face syntax-table (7 . 47) fontified t) 1912 1951 (face font-lock-string-face fontified t) 1951 1952 (face font-lock-string-face syntax-table (7 . 47) fontified t) 1952 1954 (fontified t) 1954 1956 (face font-lock-string-face fontified t) 1956 1957 (face (rainbow-delimiters-depth-4-face) fontified t) 1957 1981 (fontified t) 1981 1982 (face (rainbow-delimiters-depth-4-face) fontified t) 1982 2018 (face font-lock-string-face fontified t) 2018 2019 (face (rainbow-delimiters-depth-4-face) fontified t) 2019 2032 (fontified t) 2032 2038 (face font-lock-keyword-face fontified t) 2038 2056 (fontified t) 2056 2057 (face (rainbow-delimiters-depth-3-face) fontified t) 2057 2062 (fontified t) 2062 2063 (face (rainbow-delimiters-depth-2-face) fontified t) 2063 2069 (fontified t) 2069 2072 (face font-lock-comment-delimiter-face fontified t) 2072 2081 (face font-lock-comment-face fontified t) 2081 2097 (fontified t) 2097 2098 (face (rainbow-delimiters-depth-2-face) fontified t) 2098 2152 (face font-lock-string-face fontified t) 2152 2153 (face (rainbow-delimiters-depth-2-face) fontified t) 2153 2158 (fontified t) 2158 2164 (face font-lock-keyword-face fontified t) 2164 2179 (fontified t) 2179 2180 (face (rainbow-delimiters-depth-2-face) fontified t) 2180 2181 (face font-lock-string-face syntax-table (7 . 47) fontified t) 2181 2194 (face font-lock-string-face fontified t) 2194 2195 (face font-lock-string-face syntax-table (7 . 47) fontified t) 2195 2197 (fontified t) 2197 2199 (face font-lock-string-face fontified t) 2199 2200 (face (rainbow-delimiters-depth-2-face) fontified t) 2200 2201 (fontified t) 2201 2202 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 1301 ("resolvePhoneNumber") 2203) fontified t) 2202 2204 (fontified t) 2204 2207 (face font-lock-comment-delimiter-face fontified t) 2207 2286 (face font-lock-comment-face fontified t) 2286 2287 (fontified t) 2287 2295 (face font-lock-keyword-face fontified t) 2295 2296 (fontified t) 2296 2311 (face font-lock-function-name-face fontified t) 2311 2312 (face (rainbow-delimiters-depth-1-face) fontified t) 2312 2313 (face (rainbow-delimiters-depth-1-face) fontified t) 2313 2314 (fontified t) 2314 2315 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 2288 ("getSystemPrompt") 2575) (((nil 0 function 1301 ("resolvePhoneNumber") 2203)) -2305843009213693952 toplevel nil nil nil)) fontified t) 2315 2320 (fontified t) 2320 2323 (face font-lock-keyword-face fontified t) 2323 2324 (fontified t) 2324 2325 (face (rainbow-delimiters-depth-2-face) fontified t) 2325 2334 (fontified t) 2334 2340 (face font-lock-keyword-face fontified t) 2340 2356 (fontified t) 2356 2357 (face (rainbow-delimiters-depth-3-face) fontified t) 2357 2370 (fontified t) 2370 2377 (face font-lock-string-face fontified t) 2377 2378 (face (rainbow-delimiters-depth-3-face) fontified t) 2378 2383 (fontified t) 2383 2384 (face (rainbow-delimiters-depth-2-face) fontified t) 2384 2385 (fontified t) 2385 2390 (face font-lock-keyword-face fontified t) 2390 2391 (fontified t) 2391 2392 (face (rainbow-delimiters-depth-2-face) fontified t) 2392 2395 (fontified t) 2395 2396 (face (rainbow-delimiters-depth-2-face) fontified t) 2396 2397 (fontified t) 2397 2398 (face (rainbow-delimiters-depth-2-face) fontified t) 2398 2420 (fontified t) 2420 2421 (face (rainbow-delimiters-depth-3-face) fontified t) 2421 2466 (face font-lock-string-face fontified t) 2466 2467 (face (rainbow-delimiters-depth-3-face) fontified t) 2467 2476 (fontified t) 2476 2482 (face font-lock-keyword-face fontified t) 2482 2483 (fontified t) 2483 2566 (face font-lock-string-face fontified t) 2566 2571 (fontified t) 2571 2572 (face (rainbow-delimiters-depth-2-face) fontified t) 2572 2573 (fontified t) 2573 2574 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 2288 ("getSystemPrompt") 2575) fontified t) 2574 2576 (fontified t) 2576 2579 (face font-lock-comment-delimiter-face fontified t) 2579 2658 (face font-lock-comment-face fontified t) 2658 2659 (fontified t) 2659 2667 (face font-lock-keyword-face fontified t) 2667 2668 (fontified t) 2668 2678 (face font-lock-function-name-face fontified t) 2678 2679 (face (rainbow-delimiters-depth-1-face) fontified t) 2679 2685 (face font-lock-variable-name-face fontified t) 2685 2687 (fontified t) 2687 2696 (face font-lock-variable-name-face fontified t) 2696 2698 (fontified t) 2698 2702 (face font-lock-variable-name-face fontified t) 2702 2703 (face (rainbow-delimiters-depth-1-face) fontified t) 2703 2704 (fontified t) 2704 2705 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 2660 ("logMessage") 2903) (((nil 0 function 2288 ("getSystemPrompt") 2575) (nil 0 function 1301 ("resolvePhoneNumber") 2203)) -2305843009213693952 toplevel nil nil nil)) fontified t) 2705 2710 (fontified t) 2710 2715 (face font-lock-keyword-face fontified t) 2715 2716 (fontified t) 2716 2725 (face font-lock-variable-name-face fontified t) 2725 2728 (fontified t) 2728 2731 (face font-lock-keyword-face fontified t) 2731 2732 (fontified t) 2732 2736 (face font-lock-type-face fontified t) 2736 2737 (face (rainbow-delimiters-depth-2-face) fontified t) 2737 2738 (face (rainbow-delimiters-depth-2-face) fontified t) 2738 2750 (fontified t) 2750 2751 (face (rainbow-delimiters-depth-2-face) fontified t) 2751 2752 (face (rainbow-delimiters-depth-2-face) fontified t) 2752 2757 (fontified t) 2757 2762 (face font-lock-keyword-face fontified t) 2762 2763 (fontified t) 2763 2767 (face font-lock-variable-name-face fontified t) 2767 2770 (fontified t) 2770 2824 (face font-lock-string-face fontified t) 2824 2846 (fontified t) 2846 2847 (face (rainbow-delimiters-depth-2-face) fontified t) 2847 2863 (fontified t) 2863 2870 (face font-lock-string-face fontified t) 2870 2871 (face (rainbow-delimiters-depth-2-face) fontified t) 2871 2887 (fontified t) 2887 2888 (face (rainbow-delimiters-depth-2-face) fontified t) 2888 2897 (fontified t) 2897 2898 (face (rainbow-delimiters-depth-3-face) fontified t) 2898 2899 (face (rainbow-delimiters-depth-3-face) fontified t) 2899 2900 (face (rainbow-delimiters-depth-2-face) fontified t) 2900 2901 (fontified t) 2901 2902 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 2660 ("logMessage") 2903) fontified t) 2902 2904 (fontified t) 2904 2907 (face font-lock-comment-delimiter-face fontified t) 2907 2986 (face font-lock-comment-face fontified t) 2986 2987 (fontified t) 2987 2995 (face font-lock-keyword-face fontified t) 2995 2996 (fontified t) 2996 3001 (face font-lock-function-name-face fontified t) 3001 3007 (face font-lock-function-name-face fontified t) 3007 3008 (face (rainbow-delimiters-depth-1-face) fontified t) 3008 3009 (face (rainbow-delimiters-depth-2-face) fontified t) 3009 3074 (fontified t) 3074 3075 (face (rainbow-delimiters-depth-2-face) fontified t) 3075 3076 (face (rainbow-delimiters-depth-1-face) fontified t) 3076 3077 (fontified t) 3077 3078 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 2988 ("guardarLead") 3819) (((nil 0 function 2660 ("logMessage") 2903) (nil 0 function 2288 ("getSystemPrompt") 2575) (nil 0 function 1301 ("resolvePhoneNumber") 2203)) -2305843009213693952 toplevel nil nil nil)) fontified t) 3078 3079 (fontified t) 3079 3083 (fontified t) 3083 3088 (face font-lock-keyword-face fontified t) 3088 3089 (fontified t) 3089 3098 (face font-lock-variable-name-face fontified t) 3098 3101 (fontified t) 3101 3104 (face font-lock-keyword-face fontified t) 3104 3105 (fontified t) 3105 3109 (face font-lock-type-face fontified t) 3109 3110 (face (rainbow-delimiters-depth-2-face) fontified t) 3110 3111 (face (rainbow-delimiters-depth-2-face) fontified t) 3111 3126 (fontified t) 3126 3127 (face (rainbow-delimiters-depth-2-face) fontified t) 3127 3134 (face font-lock-string-face fontified t) 3134 3136 (fontified t) 3136 3137 (face (rainbow-delimiters-depth-3-face) fontified t) 3137 3148 (fontified t) 3148 3164 (face font-lock-string-face fontified t) 3164 3165 (fontified t) 3165 3166 (face (rainbow-delimiters-depth-3-face) fontified t) 3166 3167 (face (rainbow-delimiters-depth-2-face) fontified t) 3167 3173 (fontified t) 3173 3175 (face font-lock-keyword-face fontified t) 3175 3176 (fontified t) 3176 3177 (face (rainbow-delimiters-depth-2-face) fontified t) 3177 3191 (fontified t) 3191 3192 (face (rainbow-delimiters-depth-3-face) fontified t) 3192 3202 (fontified t) 3202 3203 (face (rainbow-delimiters-depth-3-face) fontified t) 3203 3204 (face (rainbow-delimiters-depth-2-face) fontified t) 3204 3205 (fontified t) 3205 3206 (face (rainbow-delimiters-depth-2-face) fontified t) 3206 3231 (fontified t) 3231 3232 (face (rainbow-delimiters-depth-3-face) fontified t) 3232 3244 (fontified t) 3244 3320 (face font-lock-string-face fontified t) 3320 3322 (fontified t) 3322 3329 (face font-lock-string-face fontified t) 3329 3330 (face (rainbow-delimiters-depth-3-face) fontified t) 3330 3335 (fontified t) 3335 3336 (face (rainbow-delimiters-depth-2-face) fontified t) 3336 3342 (fontified t) 3342 3347 (face font-lock-keyword-face fontified t) 3347 3348 (fontified t) 3348 3354 (face font-lock-variable-name-face fontified t) 3354 3357 (fontified t) 3357 3358 (face (rainbow-delimiters-depth-2-face) fontified t) 3358 3361 (fontified t) 3361 3362 (face (rainbow-delimiters-depth-2-face) fontified t) 3362 3366 (fontified t) 3366 3390 (face font-lock-string-face fontified t) 3390 3391 (face font-lock-string-face syntax-table (7 . 47) fontified t) 3391 3404 (face font-lock-string-face fontified t) 3404 3410 (fontified t) 3410 3415 (face font-lock-keyword-face fontified t) 3415 3416 (fontified t) 3416 3419 (face font-lock-variable-name-face fontified t) 3419 3422 (fontified t) 3422 3423 (face (rainbow-delimiters-depth-2-face) fontified t) 3423 3438 (fontified t) 3438 3439 (face (rainbow-delimiters-depth-3-face) fontified t) 3439 3448 (fontified t) 3448 3449 (face (rainbow-delimiters-depth-3-face) fontified t) 3449 3465 (fontified t) 3465 3466 (face (rainbow-delimiters-depth-3-face) fontified t) 3466 3472 (fontified t) 3472 3473 (face (rainbow-delimiters-depth-3-face) fontified t) 3473 3489 (fontified t) 3489 3490 (face (rainbow-delimiters-depth-3-face) fontified t) 3490 3496 (fontified t) 3496 3497 (face (rainbow-delimiters-depth-3-face) fontified t) 3497 3513 (fontified t) 3513 3514 (face (rainbow-delimiters-depth-3-face) fontified t) 3514 3531 (fontified t) 3531 3532 (face (rainbow-delimiters-depth-3-face) fontified t) 3532 3548 (fontified t) 3548 3549 (face (rainbow-delimiters-depth-3-face) fontified t) 3549 3561 (fontified t) 3561 3562 (face (rainbow-delimiters-depth-3-face) fontified t) 3562 3578 (fontified t) 3578 3579 (face (rainbow-delimiters-depth-3-face) fontified t) 3579 3593 (fontified t) 3593 3594 (face (rainbow-delimiters-depth-3-face) fontified t) 3594 3610 (fontified t) 3610 3611 (face (rainbow-delimiters-depth-3-face) fontified t) 3611 3629 (face font-lock-string-face fontified t) 3629 3630 (face (rainbow-delimiters-depth-3-face) fontified t) 3630 3635 (fontified t) 3635 3636 (face (rainbow-delimiters-depth-2-face) fontified t) 3636 3641 (fontified t) 3641 3642 (face (rainbow-delimiters-depth-2-face) fontified t) 3642 3645 (face font-lock-string-face fontified t) 3645 3646 (face (rainbow-delimiters-depth-2-face) fontified t) 3646 3649 (fontified t) 3649 3653 (face font-lock-string-face fontified t) 3653 3676 (fontified t) 3676 3677 (face (rainbow-delimiters-depth-2-face) fontified t) 3677 3694 (fontified t) 3694 3701 (face font-lock-string-face fontified t) 3701 3702 (face (rainbow-delimiters-depth-2-face) fontified t) 3702 3718 (fontified t) 3718 3719 (face (rainbow-delimiters-depth-2-face) fontified t) 3719 3759 (face font-lock-string-face fontified t) 3759 3760 (face (rainbow-delimiters-depth-2-face) fontified t) 3760 3765 (fontified t) 3765 3771 (face font-lock-keyword-face fontified t) 3771 3772 (fontified t) 3772 3816 (face font-lock-string-face fontified t) 3816 3817 (fontified t) 3817 3818 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 2988 ("guardarLead") 3819) fontified t) 3818 3820 (fontified t) 3820 3823 (face font-lock-comment-delimiter-face fontified t) 3823 3902 (face font-lock-comment-face fontified t) 3902 3903 (fontified t) 3903 3911 (face font-lock-keyword-face fontified t) 3911 3912 (fontified t) 3912 3925 (face font-lock-function-name-face fontified t) 3925 3926 (face (rainbow-delimiters-depth-1-face) fontified t) 3926 3932 (face font-lock-variable-name-face fontified t) 3932 3934 (fontified t) 3934 3938 (face font-lock-variable-name-face fontified t) 3938 3939 (face (rainbow-delimiters-depth-1-face) fontified t) 3939 3940 (fontified t) 3940 3941 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 3904 ("getMemoryPath") 4041) (((nil 0 function 2988 ("guardarLead") 3819) (nil 0 function 2660 ("logMessage") 2903) (nil 0 function 2288 ("getSystemPrompt") 2575) (nil 0 function 1301 ("resolvePhoneNumber") 2203)) -2305843009213693952 toplevel nil nil nil)) fontified t) 3941 3946 (fontified t) 3946 3951 (face font-lock-keyword-face fontified t) 3951 3952 (fontified t) 3952 3955 (face font-lock-variable-name-face fontified t) 3955 3976 (fontified t) 3976 3977 (face (rainbow-delimiters-depth-2-face) fontified t) 3977 3989 (fontified t) 3989 3990 (face (rainbow-delimiters-depth-2-face) fontified t) 3990 3995 (fontified t) 3995 4001 (face font-lock-keyword-face fontified t) 4001 4011 (fontified t) 4011 4012 (face (rainbow-delimiters-depth-2-face) fontified t) 4012 4024 (fontified t) 4024 4037 (face font-lock-string-face fontified t) 4037 4038 (face (rainbow-delimiters-depth-2-face) fontified t) 4038 4039 (fontified t) 4039 4040 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 3904 ("getMemoryPath") 4041) fontified t) 4040 4042 (fontified t) 4042 4050 (face font-lock-keyword-face fontified t) 4050 4051 (fontified t) 4051 4067 (face font-lock-function-name-face fontified t) 4067 4068 (face (rainbow-delimiters-depth-1-face) fontified t) 4068 4074 (face font-lock-variable-name-face fontified t) 4074 4076 (fontified t) 4076 4080 (face font-lock-variable-name-face fontified t) 4080 4081 (face (rainbow-delimiters-depth-1-face) fontified t) 4081 4082 (fontified t) 4082 4083 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 4043 ("loadConversation") 4252) (((nil 0 function 3904 ("getMemoryPath") 4041) (nil 0 function 2988 ("guardarLead") 3819) (nil 0 function 2660 ("logMessage") 2903) (nil 0 function 2288 ("getSystemPrompt") 2575) (nil 0 function 1301 ("resolvePhoneNumber") 2203)) -2305843009213693952 toplevel nil nil nil)) fontified t) 4083 4088 (fontified t) 4088 4093 (face font-lock-keyword-face fontified t) 4093 4094 (fontified t) 4094 4102 (face font-lock-variable-name-face fontified t) 4102 4118 (fontified t) 4118 4119 (face (rainbow-delimiters-depth-2-face) fontified t) 4119 4131 (fontified t) 4131 4132 (face (rainbow-delimiters-depth-2-face) fontified t) 4132 4137 (fontified t) 4137 4139 (face font-lock-keyword-face fontified t) 4139 4140 (fontified t) 4140 4141 (face (rainbow-delimiters-depth-2-face) fontified t) 4141 4154 (fontified t) 4154 4155 (face (rainbow-delimiters-depth-3-face) fontified t) 4155 4163 (fontified t) 4163 4164 (face (rainbow-delimiters-depth-3-face) fontified t) 4164 4165 (face (rainbow-delimiters-depth-2-face) fontified t) 4165 4166 (fontified t) 4166 4167 (face (rainbow-delimiters-depth-2-face) fontified t) 4167 4176 (fontified t) 4176 4182 (face font-lock-keyword-face fontified t) 4182 4193 (fontified t) 4193 4194 (face (rainbow-delimiters-depth-3-face) fontified t) 4194 4209 (fontified t) 4209 4210 (face (rainbow-delimiters-depth-4-face) fontified t) 4210 4220 (fontified t) 4220 4227 (face font-lock-string-face fontified t) 4227 4228 (face (rainbow-delimiters-depth-4-face) fontified t) 4228 4229 (face (rainbow-delimiters-depth-3-face) fontified t) 4229 4234 (fontified t) 4234 4235 (face (rainbow-delimiters-depth-2-face) fontified t) 4235 4240 (fontified t) 4240 4246 (face font-lock-keyword-face fontified t) 4246 4247 (fontified t) 4247 4248 (face (rainbow-delimiters-depth-2-face) fontified t) 4248 4249 (face (rainbow-delimiters-depth-2-face) fontified t) 4249 4250 (fontified t) 4250 4251 (face (rainbow-delimiters-depth-1-face) js--pend (nil 0 function 4043 ("loadConversation") 4252) fontified t) 4251 4253 (fontified t) 4253 4261 (face font-lock-keyword-face fontified t) 4261 4262 (fontified t) 4262 4278 (face font-lock-function-name-face fontified t) 4278 4279 (face (rainbow-delimiters-depth-1-face) fontified t) 4279 4285 (face font-lock-variable-name-face fontified t) 4285 4287 (fontified t) 4287 4295 (face font-lock-variable-name-face fontified t) 4295 4297 (fontified t) 4297 4301 (face font-lock-variable-name-face fontified t) 4301 4302 (face (rainbow-delimiters-depth-1-face) fontified t) 4302 4303 (fontified t) 4303 4304 (face (rainbow-delimiters-depth-1-face) js--pstate ((nil 0 function 4254 ("saveConversation") 4449) (((nil 0 function 4043 ("loadConversation") 4252) (nil 0 function 3904 ("getMemoryPath") 4041) (nil 0 function 2988 ("guardarLead") 3819) (nil 0 function 2660 ("logMessage") 2903) (nil 0 function 2288 ("getSystemPrompt") 2575) (nil 0 function 1301 ("resolvePhoneNumber") 2203)) -2305843009213693952 toplevel nil nil nil)) fontified t) 4304 4309 (fontified t) 4309 4314 (face font-lock-keyword-face fontified t) 4314 4315 (fontified t) 4315 4322 (face font-lock-variable-name-face fontified t) 4322 4339 (fontified t) 4339 4340 (face (rainbow-delimiters-depth-2-face) fontified t) 4340 4352 (fontified t) 4352 4353 (face (rainbow-delimiters-depth-2-face) fontified t) 4353 4374 (fontified t) 4374 4375 (face (rainbow-delimiters-depth-2-face) fontified t) 4375 4388 (fontified t) 4388 4389 (face (rainbow-delimiters-depth-3-face) fontified t) 4389 4401 (fontified t) 4401 4402 (face (rainbow-delimiters-depth-3-face) fontified t) 4402 4418 (fontified t) 4418 4419 (face (rainbow-delimiters-depth-3-face) fontified t) 4419 4428 (fontified t) 4428 4432 (face font-lock-constant-face fontified t) 4432 4435 (fontified t) 4435 4436 (face (rainbow-delimiters-depth-3-face) fontified t) 4436 4438 (fontified t) 4438 4445 (face font-lock-string-face fontified t) 4445 4446 (face (rainbow-delimiters-depth-2-face) fontified t) 4446 4447 (fontified t) 4447 4448 (js--pend (nil 0 function 4254 ("saveConversation") 4449) face (rainbow-delimiters-depth-1-face) fontified t) 4448 4450 (fontified t) 4450 4453 (face font-lock-comment-delimiter-face fontified t) 4453 4532 (face font-lock-comment-face fontified t) 4532 4533 (fontified t) 4533 4538 (face font-lock-keyword-face fontified t) 4538 4539 (fontified t) 4539 4544 (face font-lock-variable-name-face fontified t) 4544 4547 (fontified t) 4547 4548 (face (rainbow-delimiters-depth-1-face) fontified t) 4548 4553 (fontified t) 4553 4554 (face (rainbow-delimiters-depth-2-face) fontified t) 4554 4569 (fontified t) 4569 4579 (face font-lock-string-face fontified t) 4579 4583 (face font-lock-string-face fontified t) 4583 4585 (fontified t) 5894 5895 (js--pstate ((nil 0 function 5830 ("askClaude") 10083) (((nil 0 function 4254 ("saveConversation") 4449) (nil 0 function 4043 ("loadConversation") 4252) (nil 0 function 3904 ("getMemoryPath") 4041) (nil 0 function 2988 ("guardarLead") 3819) (nil 0 function 2660 ("logMessage") 2903) (nil 0 function 2288 ("getSystemPrompt") 2575) (nil 0 function 1301 ("resolvePhoneNumber") 2203)) -2305843009213693952 toplevel nil nil nil))) 10081 10082 (js--pend (nil 0 function 5830 ("askClaude") 10083)) 10260 10261 (js--pstate ((nil 0 function 10227 ("handleOwnerCommand") 10946) (((nil 0 function 5830 ("askClaude") 10083) (nil 0 function 4254 ("saveConversation") 4449) (nil 0 function 4043 ("loadConversation") 4252) (nil 0 function 3904 ("getMemoryPath") 4041) (nil 0 function 2988 ("guardarLead") 3819) (nil 0 function 2660 ("logMessage") 2903) (nil 0 function 2288 ("getSystemPrompt") 2575) (nil 0 function 1301 ("resolvePhoneNumber") 2203)) -2305843009213693952 toplevel nil nil nil))) 10944 10945 (js--pend (nil 0 function 10227 ("handleOwnerCommand") 10946)) 11080 11081 (js--pstate ((nil 0 function 11031 ("sendHumanReply") 11411) (((nil 0 function 10227 ("handleOwnerCommand") 10946) (nil 0 function 5830 ("askClaude") 10083) (nil 0 function 4254 ("saveConversation") 4449) (nil 0 function 4043 ("loadConversation") 4252) (nil 0 function 3904 ("getMemoryPath") 4041) (nil 0 function 2988 ("guardarLead") 3819) (nil 0 function 2660 ("logMessage") 2903) (nil 0 function 2288 ("getSystemPrompt") 2575) (nil 0 function 1301 ("resolvePhoneNumber") 2203)) -2305843009213693952 toplevel nil nil nil))) 11409 11410 (js--pend (nil 0 function 11031 ("sendHumanReply") 11411)) 11547 11548 (js--pstate ((nil 0 function 11522 ("startBot") 15827) (((nil 0 function 11031 ("sendHumanReply") 11411) (nil 0 function 10227 ("handleOwnerCommand") 10946) (nil 0 function 5830 ("askClaude") 10083) (nil 0 function 4254 ("saveConversation") 4449) (nil 0 function 4043 ("loadConversation") 4252) (nil 0 function 3904 ("getMemoryPath") 4041) (nil 0 function 2988 ("guardarLead") 3819) (nil 0 function 2660 ("logMessage") 2903) (nil 0 function 2288 ("getSystemPrompt") 2575) (nil 0 function 1301 ("resolvePhoneNumber") 2203)) -2305843009213693952 toplevel nil nil nil))) 15064 15087 (fontified t) 15087 15088 (face (rainbow-delimiters-depth-4-face) fontified t) 15088 15094 (fontified t) 15094 15095 (face (rainbow-delimiters-depth-4-face) fontified t) 15095 15114 (fontified t) 15114 15115 (face (rainbow-delimiters-depth-4-face) fontified t) 15115 15120 (face font-lock-keyword-face fontified t) 15120 15121 (fontified t) 15121 15122 (face (rainbow-delimiters-depth-5-face) fontified t) 15122 15123 (face (rainbow-delimiters-depth-5-face) fontified t) 15123 15127 (fontified t) 15127 15128 (face (rainbow-delimiters-depth-5-face) fontified t) 15128 15129 (fontified t) 15129 15141 (fontified t) 15141 15146 (face font-lock-keyword-face fontified t) 15146 15147 (fontified t) 15147 15155 (face font-lock-variable-name-face fontified t) 15155 15173 (fontified t) 15173 15174 (face (rainbow-delimiters-depth-6-face) fontified t) 15174 15180 (fontified t) 15180 15181 (face (rainbow-delimiters-depth-6-face) fontified t) 15181 15192 (fontified t) 15192 15193 (face (rainbow-delimiters-depth-6-face) fontified t) 15193 15196 (face font-lock-string-face fontified t) 15196 15197 (face (rainbow-delimiters-depth-6-face) fontified t) 15197 15198 (fontified t) 15198 15210 (fontified t) 15210 15216 (face font-lock-keyword-face fontified t) 15216 15232 (fontified t) 15232 15233 (face (rainbow-delimiters-depth-6-face) fontified t) 15233 15239 (fontified t) 15239 15240 (face (rainbow-delimiters-depth-6-face) fontified t) 15240 15241 (fontified t) 15241 15242 (fontified t) 15242 15264 (fontified t) 15264 15265 (face (rainbow-delimiters-depth-6-face) fontified t) 15265 15279 (fontified t) 15279 15283 (face font-lock-string-face fontified t) 15283 15293 (fontified t) 15293 15294 (face (rainbow-delimiters-depth-6-face) fontified t) 15294 15295 (fontified t) 15295 15296 (fontified t) 15296 15308 (fontified t) 15308 15310 (face font-lock-keyword-face fontified t) 15310 15311 (fontified t) 15311 15312 (face (rainbow-delimiters-depth-6-face) fontified t) 15312 15356 (fontified t) 15356 15357 (face (rainbow-delimiters-depth-6-face) fontified t) 15357 15358 (fontified t) 15358 15359 (face (rainbow-delimiters-depth-6-face) fontified t) 15359 15360 (fontified t) 15360 15387 (fontified t) 15387 15388 (face (rainbow-delimiters-depth-7-face) fontified t) 15388 15464 (face font-lock-string-face fontified t) 15464 15465 (face (rainbow-delimiters-depth-7-face) fontified t) 15465 15466 (fontified t) 15466 15482 (fontified t) 15482 15488 (face font-lock-keyword-face fontified t) 15488 15501 (fontified t) 15501 15502 (face (rainbow-delimiters-depth-6-face) fontified t) 15502 15516 (fontified t) 15516 15519 (face font-lock-keyword-face fontified t) 15519 15520 (fontified t) 15520 15521 (face (rainbow-delimiters-depth-6-face) fontified t) 15521 15538 (fontified t) 15538 15543 (face font-lock-keyword-face fontified t) 15543 15544 (fontified t) 15544 15549 (face font-lock-variable-name-face fontified t) 15549 15552 (fontified t) 15552 15557 (face font-lock-keyword-face fontified t) 15557 15567 (fontified t) 15567 15568 (face (rainbow-delimiters-depth-7-face) fontified t) 15568 15590 (fontified t) 15590 15591 (face (rainbow-delimiters-depth-7-face) fontified t) 15591 15608 (fontified t) 15608 15613 (face font-lock-keyword-face fontified t) 15613 15628 (fontified t) 15628 15629 (face (rainbow-delimiters-depth-7-face) fontified t) 15629 15648 (fontified t) 15648 15649 (face (rainbow-delimiters-depth-7-face) fontified t) 15649 15676 (fontified t) 15676 15677 (face (rainbow-delimiters-depth-7-face) fontified t) 15677 15691 (fontified t) 15691 15696 (face font-lock-string-face fontified t) 15696 15703 (fontified t) 15703 15704 (face (rainbow-delimiters-depth-7-face) fontified t) 15704 15717 (fontified t) 15717 15718 (face (rainbow-delimiters-depth-6-face) fontified t) 15718 15719 (fontified t) 15719 15724 (face font-lock-keyword-face fontified t) 15724 15725 (fontified t) 15725 15726 (face (rainbow-delimiters-depth-6-face) fontified t) 15726 15729 (fontified t) 15729 15730 (face (rainbow-delimiters-depth-6-face) fontified t) 15730 15731 (fontified t) 15731 15732 (face (rainbow-delimiters-depth-6-face) fontified t) 15732 15762 (fontified t) 15762 15763 (face (rainbow-delimiters-depth-7-face) fontified t) 15763 15773 (face font-lock-string-face fontified t) 15773 15778 (fontified t) 15778 15779 (face (rainbow-delimiters-depth-7-face) fontified t) 15779 15792 (fontified t) 15792 15793 (face (rainbow-delimiters-depth-6-face) fontified t) 15793 15802 (fontified t) 15802 15803 (face (rainbow-delimiters-depth-5-face) fontified t) 15803 15816 (fontified t) 15816 15817 (face (rainbow-delimiters-depth-4-face) fontified t) 15817 15822 (fontified t) 15822 15823 (face (rainbow-delimiters-depth-3-face) fontified t) 15823 15824 (face (rainbow-delimiters-depth-2-face) fontified t) 15824 15825 (fontified t) 15825 15826 (face (rainbow-delimiters-depth-1-face) fontified t js--pend (nil 0 function 11522 ("startBot") 15827)) 15826 15828 (fontified t) 15828 15836 (fontified t) 15836 15837 (face (rainbow-delimiters-depth-1-face) fontified t) 15837 15838 (face (rainbow-delimiters-depth-1-face) fontified t rear-nonsticky t)) . 1) (undo-tree-id1484 . -44) (undo-tree-id1485 . -15837) (undo-tree-id1486 . -15241) (undo-tree-id1487 . -1641) (undo-tree-id1488 . -1641) (undo-tree-id1489 . -15466) (undo-tree-id1490 . -1416) (undo-tree-id1491 . -1416) (undo-tree-id1492 . -1416) (undo-tree-id1493 . -1416) (undo-tree-id1494 . -1416) (undo-tree-id1495 . -1416) (undo-tree-id1496 . -1416) (undo-tree-id1497 . -1416) (undo-tree-id1498 . -1416) (undo-tree-id1499 . -1416) (undo-tree-id1500 . -1416) (undo-tree-id1501 . -1416) (undo-tree-id1502 . -1416) (undo-tree-id1503 . -1416) (undo-tree-id1504 . -1416) (undo-tree-id1505 . -1416) (undo-tree-id1506 . -1416) (undo-tree-id1507 . -1416) (undo-tree-id1508 . -1416) (undo-tree-id1509 . -1416) (undo-tree-id1510 . -1416) (undo-tree-id1511 . -1416) (undo-tree-id1512 . -1416) (undo-tree-id1513 . -1416) (undo-tree-id1514 . -1416) (undo-tree-id1515 . -1416) (undo-tree-id1516 . -1416) (undo-tree-id1517 . -1416) (undo-tree-id1518 . -1416) (undo-tree-id1519 . -1416) (undo-tree-id1520 . -1416) (undo-tree-id1521 . -1416) (undo-tree-id1522 . -1416) (undo-tree-id1523 . -1416) (undo-tree-id1524 . -1416) (undo-tree-id1525 . -1416) (undo-tree-id1526 . -1416) (undo-tree-id1527 . -2002) (undo-tree-id1528 . -2002) (undo-tree-id1529 . -2002) (undo-tree-id1530 . -2002) (undo-tree-id1531 . -2002) (undo-tree-id1532 . -2002) (undo-tree-id1533 . -2002) (undo-tree-id1534 . -1416) (undo-tree-id1535 . -1416) (undo-tree-id1536 . -1416) (undo-tree-id1537 . -1416) (undo-tree-id1538 . -1416) (undo-tree-id1539 . -1416) (undo-tree-id1540 . -1416) (undo-tree-id1541 . -1416) (undo-tree-id1542 . -1416) (undo-tree-id1543 . -1416) (undo-tree-id1544 . -1416) (undo-tree-id1545 . -1416) (undo-tree-id1546 . -1416) (undo-tree-id1547 . -1416) (undo-tree-id1548 . -1416) (undo-tree-id1549 . -1416) (undo-tree-id1550 . -1416) (undo-tree-id1551 . -1416) (undo-tree-id1552 . -1416) (undo-tree-id1553 . -1416) (undo-tree-id1554 . -1416) (undo-tree-id1555 . -1416) (undo-tree-id1556 . -1416) (undo-tree-id1557 . -1416) (undo-tree-id1558 . -1416) (undo-tree-id1559 . -1416) (undo-tree-id1560 . -1416) (undo-tree-id1561 . -1416) (undo-tree-id1562 . -1416) (undo-tree-id1563 . -1416) (undo-tree-id1564 . -1416) (undo-tree-id1565 . -1416) (undo-tree-id1566 . -1416) (undo-tree-id1567 . -1416) (undo-tree-id1568 . -1416) (undo-tree-id1569 . -1416) (undo-tree-id1570 . -1416) (undo-tree-id1571 . -1416) (undo-tree-id1572 . -1641) (undo-tree-id1573 . -1416) (undo-tree-id1574 . -44) (undo-tree-id1575 . -44) (undo-tree-id1576 . -44) (undo-tree-id1577 . -44) (undo-tree-id1578 . -44) (undo-tree-id1579 . -44) (undo-tree-id1580 . -44) (undo-tree-id1581 . -44) (undo-tree-id1582 . -44) (undo-tree-id1583 . -44) (undo-tree-id1584 . -44) (undo-tree-id1585 . -44) (undo-tree-id1586 . -44) (undo-tree-id1587 . -44) (undo-tree-id1588 . -44) (undo-tree-id1589 . -44) (undo-tree-id1590 . -44) (undo-tree-id1591 . -44) (undo-tree-id1592 . -44) (undo-tree-id1593 . -44) (undo-tree-id1594 . -44) (undo-tree-id1595 . -44) (undo-tree-id1596 . -44) (undo-tree-id1597 . -44) (undo-tree-id1598 . -44) (undo-tree-id1599 . -44) (undo-tree-id1600 . -44) (undo-tree-id1601 . -44) (undo-tree-id1602 . -44) (undo-tree-id1603 . -44) (undo-tree-id1604 . -44) (undo-tree-id1605 . -44) (undo-tree-id1606 . -44) (undo-tree-id1607 . -44) (undo-tree-id1608 . -44) (undo-tree-id1609 . -44) (undo-tree-id1610 . -44) (undo-tree-id1611 . -44) (undo-tree-id1612 . -44) (undo-tree-id1613 . -44) (undo-tree-id1614 . -44) (undo-tree-id1615 . -44) (undo-tree-id1616 . -44) (undo-tree-id1617 . -44) (undo-tree-id1618 . -44) (undo-tree-id1619 . -44) (undo-tree-id1620 . -44) (undo-tree-id1621 . -44) (undo-tree-id1622 . -44) (undo-tree-id1623 . -44) (undo-tree-id1624 . -44) (undo-tree-id1625 . -44) (undo-tree-id1626 . -44) (undo-tree-id1627 . -44) (undo-tree-id1628 . -44) (undo-tree-id1629 . -44) (undo-tree-id1630 . -44) (undo-tree-id1631 . -44) (undo-tree-id1632 . -44) (undo-tree-id1633 . -44) (undo-tree-id1634 . -44) (undo-tree-id1635 . -44) (undo-tree-id1636 . -44) (undo-tree-id1637 . -44) (undo-tree-id1638 . -44) (undo-tree-id1639 . -44) (undo-tree-id1640 . -44) (undo-tree-id1641 . -44) (undo-tree-id1642 . -44) (undo-tree-id1643 . -44) (undo-tree-id1644 . -44) (undo-tree-id1645 . -44) (undo-tree-id1646 . -44) (undo-tree-id1647 . -44) (undo-tree-id1648 . -143) (undo-tree-id1649 . -143) (undo-tree-id1650 . -143) (undo-tree-id1651 . -143) (undo-tree-id1652 . -143) (undo-tree-id1653 . -143) (undo-tree-id1654 . -143) (undo-tree-id1655 . -143) (undo-tree-id1656 . -143) (undo-tree-id1657 . -143) (undo-tree-id1658 . -143) (undo-tree-id1659 . -143) (undo-tree-id1660 . -143) (undo-tree-id1661 . -143) (undo-tree-id1662 . -143) (undo-tree-id1663 . -143) (undo-tree-id1664 . -143) (undo-tree-id1665 . -143) (undo-tree-id1666 . -143) (undo-tree-id1667 . -143) (undo-tree-id1668 . -143) (undo-tree-id1669 . -143) (undo-tree-id1670 . -143) (undo-tree-id1671 . -143) (undo-tree-id1672 . -143) (undo-tree-id1673 . -143) (undo-tree-id1674 . -143) (undo-tree-id1675 . -143) (undo-tree-id1676 . -143) (undo-tree-id1677 . -143) (undo-tree-id1678 . -143) (undo-tree-id1679 . -1416) (undo-tree-id1680 . -15838) 15840 (t 27040 44164 800930 657000)) nil (27040 44468 652834 276000) 0 nil])
([nil current ((nil rear-nonsticky nil 350 . 351) (nil fontified nil 1 . 351) (1 . 351) (#("import makeWASocket, {
    makeInMemoryStore,
    useMultiFileAuthState,
    fetchLatestBaileysVersion,
    isJidBroadcast,
    isJidGroup,
    DisconnectReason,
} from '@whiskeysockets/baileys';
import { Boom } from '@hapi/boom';
import pino from 'pino';
import fs from 'fs';" 0 6 (face font-lock-keyword-face fontified t) 6 21 (fontified t) 21 22 (face (rainbow-delimiters-depth-1-face) fontified t) 22 162 (fontified t) 162 163 (face (rainbow-delimiters-depth-1-face) fontified t) 163 169 (fontified t) 169 194 (face font-lock-string-face fontified t) 194 196 (fontified t) 196 202 (face font-lock-keyword-face fontified t) 202 203 (fontified t) 203 204 (face (rainbow-delimiters-depth-1-face) fontified t) 204 210 (fontified t) 210 211 (face (rainbow-delimiters-depth-1-face) fontified t) 211 217 (fontified t) 217 229 (face font-lock-string-face fontified t) 229 231 (fontified t) 231 237 (face font-lock-keyword-face fontified t) 237 248 (fontified t) 248 254 (face font-lock-string-face fontified t) 254 256 (fontified t) 256 262 (face font-lock-keyword-face fontified t) 262 271 (fontified t) 271 275 (face font-lock-string-face fontified t) 275 276 (fontified t)) . 1) (undo-tree-id1681 . -21) (undo-tree-id1682 . -276) (undo-tree-id1683 . -275) (undo-tree-id1684 . -21) (undo-tree-id1685 . -21) (undo-tree-id1686 . -21) (undo-tree-id1687 . -21) (undo-tree-id1688 . -21) (undo-tree-id1689 . -21) (undo-tree-id1690 . -21) (undo-tree-id1691 . -21) (undo-tree-id1692 . -21) (undo-tree-id1693 . -21) (undo-tree-id1694 . -21) (undo-tree-id1695 . -21) (undo-tree-id1696 . -21) (undo-tree-id1697 . -21) (undo-tree-id1698 . -21) (undo-tree-id1699 . -21) (undo-tree-id1700 . -21) (undo-tree-id1701 . -21) (undo-tree-id1702 . -21) (undo-tree-id1703 . -21) (undo-tree-id1704 . -21) (undo-tree-id1705 . -21) (undo-tree-id1706 . -21) (undo-tree-id1707 . -21) (undo-tree-id1708 . -21) (undo-tree-id1709 . -21) (undo-tree-id1710 . -21) (undo-tree-id1711 . -21) (undo-tree-id1712 . -21) (undo-tree-id1713 . -21) (undo-tree-id1714 . -21) (undo-tree-id1715 . -21) (undo-tree-id1716 . -21) (undo-tree-id1717 . -21) (undo-tree-id1718 . -21) (undo-tree-id1719 . -21) (undo-tree-id1720 . -21) (undo-tree-id1721 . -21) (undo-tree-id1722 . -21) (undo-tree-id1723 . -21) (undo-tree-id1724 . -21) (undo-tree-id1725 . -21) (undo-tree-id1726 . -21) (undo-tree-id1727 . -21) (undo-tree-id1728 . -21) (undo-tree-id1729 . -21) (undo-tree-id1730 . -21) (undo-tree-id1731 . -21) (undo-tree-id1732 . -21) (undo-tree-id1733 . -21) (undo-tree-id1734 . -21) (undo-tree-id1735 . -21) (undo-tree-id1736 . -21) (undo-tree-id1737 . -21) (undo-tree-id1738 . -21) (undo-tree-id1739 . -21) (undo-tree-id1740 . -21) (undo-tree-id1741 . -21) (undo-tree-id1742 . -21) (undo-tree-id1743 . -21) (undo-tree-id1744 . -21) (undo-tree-id1745 . -21) (undo-tree-id1746 . -21) (undo-tree-id1747 . -21) (undo-tree-id1748 . -21) (undo-tree-id1749 . -21) (undo-tree-id1750 . -21) (undo-tree-id1751 . -21) (undo-tree-id1752 . -21) (undo-tree-id1753 . -21) (undo-tree-id1754 . -21) (undo-tree-id1755 . -21) (undo-tree-id1756 . -21) (undo-tree-id1757 . -21) (undo-tree-id1758 . -21) (undo-tree-id1759 . -21) (undo-tree-id1760 . -21) (undo-tree-id1761 . -44) (undo-tree-id1762 . -44) (undo-tree-id1763 . -44) (undo-tree-id1764 . -44) (undo-tree-id1765 . -44) (undo-tree-id1766 . -44) (undo-tree-id1767 . -44) (undo-tree-id1768 . -44) (undo-tree-id1769 . -44) (undo-tree-id1770 . -44) (undo-tree-id1771 . -44) (undo-tree-id1772 . -44) (undo-tree-id1773 . -44) (undo-tree-id1774 . -44) (undo-tree-id1775 . -44) (undo-tree-id1776 . -44) (undo-tree-id1777 . -44) (undo-tree-id1778 . -44) (undo-tree-id1779 . -44) (undo-tree-id1780 . -44) (undo-tree-id1781 . -44) (undo-tree-id1782 . -44) (undo-tree-id1783 . -44) (undo-tree-id1784 . -44) (undo-tree-id1785 . -44) (undo-tree-id1786 . -44) (undo-tree-id1787 . -44) (undo-tree-id1788 . -44) (undo-tree-id1789 . -44) (undo-tree-id1790 . -44) (undo-tree-id1791 . -67) (undo-tree-id1792 . -67) (undo-tree-id1793 . -67) (undo-tree-id1794 . -67) (undo-tree-id1795 . -67) (undo-tree-id1796 . -67) (undo-tree-id1797 . -67) (undo-tree-id1798 . -67) (undo-tree-id1799 . -67) (undo-tree-id1800 . -67) (undo-tree-id1801 . -67) (undo-tree-id1802 . -67) (undo-tree-id1803 . -67) (undo-tree-id1804 . -67) (undo-tree-id1805 . -67) (undo-tree-id1806 . -67) (undo-tree-id1807 . -94) (undo-tree-id1808 . -94) (undo-tree-id1809 . -94) (undo-tree-id1810 . -94) (undo-tree-id1811 . -94) (undo-tree-id1812 . -94) (undo-tree-id1813 . -94) (undo-tree-id1814 . -94) (undo-tree-id1815 . -94) (undo-tree-id1816 . -94) (undo-tree-id1817 . -94) (undo-tree-id1818 . -94) (undo-tree-id1819 . -94) (undo-tree-id1820 . -94) (undo-tree-id1821 . -94) (undo-tree-id1822 . -94) (undo-tree-id1823 . -123) (undo-tree-id1824 . -123) (undo-tree-id1825 . -123) (undo-tree-id1826 . -123) (undo-tree-id1827 . -123) (undo-tree-id1828 . -123) (undo-tree-id1829 . -123) (undo-tree-id1830 . -123) (undo-tree-id1831 . -123) (undo-tree-id1832 . -123) (undo-tree-id1833 . -123) (undo-tree-id1834 . -123) (undo-tree-id1835 . -123) (undo-tree-id1836 . -123) (undo-tree-id1837 . -123) (undo-tree-id1838 . -123) (undo-tree-id1839 . -139) (undo-tree-id1840 . -139) (undo-tree-id1841 . -139) (undo-tree-id1842 . -139) (undo-tree-id1843 . -139) (undo-tree-id1844 . -139) (undo-tree-id1845 . -139) (undo-tree-id1846 . -139) (undo-tree-id1847 . -139) (undo-tree-id1848 . -139) (undo-tree-id1849 . -139) (undo-tree-id1850 . -139) (undo-tree-id1851 . -139) (undo-tree-id1852 . -139) (undo-tree-id1853 . -139) (undo-tree-id1854 . -139) (undo-tree-id1855 . -161) (undo-tree-id1856 . -161) (undo-tree-id1857 . -161) (undo-tree-id1858 . -161) (undo-tree-id1859 . -161) (undo-tree-id1860 . -161) (undo-tree-id1861 . -161) (undo-tree-id1862 . -161) (undo-tree-id1863 . -161) (undo-tree-id1864 . -161) (undo-tree-id1865 . -161) (undo-tree-id1866 . -161) (undo-tree-id1867 . -161) (undo-tree-id1868 . -161) (undo-tree-id1869 . -161) (undo-tree-id1870 . -161) (undo-tree-id1871 . -183) (undo-tree-id1872 . -183) (undo-tree-id1873 . -183) (undo-tree-id1874 . -183) (undo-tree-id1875 . -183) (undo-tree-id1876 . -183) (undo-tree-id1877 . -183) (undo-tree-id1878 . -183) (undo-tree-id1879 . -183) (undo-tree-id1880 . -183) (undo-tree-id1881 . -183) (undo-tree-id1882 . -183) (undo-tree-id1883 . -183) (undo-tree-id1884 . -183) (undo-tree-id1885 . -183) (undo-tree-id1886 . -183) (undo-tree-id1887 . -183) (undo-tree-id1888 . -183) (undo-tree-id1889 . -183) (undo-tree-id1890 . -183) (undo-tree-id1891 . -183) (undo-tree-id1892 . -183) (undo-tree-id1893 . -183) (undo-tree-id1894 . -183) (undo-tree-id1895 . -183) (undo-tree-id1896 . -183) (undo-tree-id1897 . -183) (undo-tree-id1898 . -183) (undo-tree-id1899 . -183) (undo-tree-id1900 . -183) (undo-tree-id1901 . -217) (undo-tree-id1902 . -217) (undo-tree-id1903 . -217) (undo-tree-id1904 . -217) (undo-tree-id1905 . -217) (undo-tree-id1906 . -217) (undo-tree-id1907 . -217) (undo-tree-id1908 . -217) (undo-tree-id1909 . -217) (undo-tree-id1910 . -217) (undo-tree-id1911 . -217) (undo-tree-id1912 . -217) (undo-tree-id1913 . -217) (undo-tree-id1914 . -217) (undo-tree-id1915 . -217) (undo-tree-id1916 . -217) (undo-tree-id1917 . -217) (undo-tree-id1918 . -217) (undo-tree-id1919 . -217) (undo-tree-id1920 . -217) (undo-tree-id1921 . -217) (undo-tree-id1922 . -217) (undo-tree-id1923 . -217) (undo-tree-id1924 . -217) (undo-tree-id1925 . -217) (undo-tree-id1926 . -217) (undo-tree-id1927 . -217) (undo-tree-id1928 . -217) (undo-tree-id1929 . -217) (undo-tree-id1930 . -217) (undo-tree-id1931 . -252) (undo-tree-id1932 . -252) (undo-tree-id1933 . -252) (undo-tree-id1934 . -252) (undo-tree-id1935 . -252) (undo-tree-id1936 . -252) (undo-tree-id1937 . -252) (undo-tree-id1938 . -252) (undo-tree-id1939 . -252) (undo-tree-id1940 . -252) (undo-tree-id1941 . -252) (undo-tree-id1942 . -252) (undo-tree-id1943 . -252) (undo-tree-id1944 . -252) (undo-tree-id1945 . -252) (undo-tree-id1946 . -252) (undo-tree-id1947 . -252) (undo-tree-id1948 . -252) (undo-tree-id1949 . -252) (undo-tree-id1950 . -252) (undo-tree-id1951 . -252) (undo-tree-id1952 . -252) (undo-tree-id1953 . -252) (undo-tree-id1954 . -252) (undo-tree-id1955 . -252) (undo-tree-id1956 . -252) (undo-tree-id1957 . -252) (undo-tree-id1958 . -252) (undo-tree-id1959 . -252) (undo-tree-id1960 . -252) (undo-tree-id1961 . -252) (undo-tree-id1962 . -252) (undo-tree-id1963 . -252) (undo-tree-id1964 . -252) (undo-tree-id1965 . -252) (undo-tree-id1966 . -252) (undo-tree-id1967 . -252) (undo-tree-id1968 . -276) (undo-tree-id1969 . -276) (undo-tree-id1970 . -276) (undo-tree-id1971 . -276) (undo-tree-id1972 . -276) (undo-tree-id1973 . -276) (undo-tree-id1974 . -276) (undo-tree-id1975 . -276) (undo-tree-id1976 . -276) (undo-tree-id1977 . -276) (undo-tree-id1978 . -276) (undo-tree-id1979 . -276) (undo-tree-id1980 . -276) (undo-tree-id1981 . -276) (undo-tree-id1982 . -276) (undo-tree-id1983 . -276) (undo-tree-id1984 . -276) (undo-tree-id1985 . -276) (undo-tree-id1986 . -276) (undo-tree-id1987 . -276) (undo-tree-id1988 . -276) (undo-tree-id1989 . -276) (undo-tree-id1990 . -276) (undo-tree-id1991 . -276) (undo-tree-id1992 . -276) (undo-tree-id1993 . -276) (undo-tree-id1994 . -276) (undo-tree-id1995 . -276) (undo-tree-id1996 . -276) (undo-tree-id1997 . -276) (undo-tree-id1998 . -256) (undo-tree-id1999 . -276) (undo-tree-id2000 . -276) (undo-tree-id2001 . -276) (undo-tree-id2002 . -276) (undo-tree-id2003 . -276) (undo-tree-id2004 . -276) (undo-tree-id2005 . -276) (undo-tree-id2006 . -276) (undo-tree-id2007 . -276) (undo-tree-id2008 . -276) (undo-tree-id2009 . -276) (undo-tree-id2010 . -276) (undo-tree-id2011 . -276) (undo-tree-id2012 . -276) (undo-tree-id2013 . -276) (undo-tree-id2014 . -276) (undo-tree-id2015 . -276) (undo-tree-id2016 . -276) (undo-tree-id2017 . -276) (undo-tree-id2018 . -276) (undo-tree-id2019 . -276) (undo-tree-id2020 . -276) (undo-tree-id2021 . -276) (undo-tree-id2022 . -276) (undo-tree-id2023 . -276) (undo-tree-id2024 . -276) (undo-tree-id2025 . -276) (undo-tree-id2026 . -276) (undo-tree-id2027 . -276) (undo-tree-id2028 . -276) (undo-tree-id2029 . -276) (undo-tree-id2030 . -276) 278 (t 27040 44468 657929 498000)) nil (27040 44694 403687 379000) 0 nil])
nil
